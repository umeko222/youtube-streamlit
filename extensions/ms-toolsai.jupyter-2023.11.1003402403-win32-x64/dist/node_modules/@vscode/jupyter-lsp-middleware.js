var ee=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var di=ee((Bc,li)=>{(function(n){if(typeof li=="object"&&typeof li.exports=="object"){var e=n(require,Bc);e!==void 0&&(li.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],n)})(function(n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var t;(function(p){function x(A){return typeof A=="string"}p.is=x})(t=e.DocumentUri||(e.DocumentUri={}));var r;(function(p){function x(A){return typeof A=="string"}p.is=x})(r=e.URI||(e.URI={}));var i;(function(p){p.MIN_VALUE=-2147483648,p.MAX_VALUE=2147483647;function x(A){return typeof A=="number"&&p.MIN_VALUE<=A&&A<=p.MAX_VALUE}p.is=x})(i=e.integer||(e.integer={}));var o;(function(p){p.MIN_VALUE=0,p.MAX_VALUE=2147483647;function x(A){return typeof A=="number"&&p.MIN_VALUE<=A&&A<=p.MAX_VALUE}p.is=x})(o=e.uinteger||(e.uinteger={}));var a;(function(p){function x(_,h){return _===Number.MAX_VALUE&&(_=o.MAX_VALUE),h===Number.MAX_VALUE&&(h=o.MAX_VALUE),{line:_,character:h}}p.create=x;function A(_){var h=_;return H.objectLiteral(h)&&H.uinteger(h.line)&&H.uinteger(h.character)}p.is=A})(a=e.Position||(e.Position={}));var l;(function(p){function x(_,h,G,ie){if(H.uinteger(_)&&H.uinteger(h)&&H.uinteger(G)&&H.uinteger(ie))return{start:a.create(_,h),end:a.create(G,ie)};if(a.is(_)&&a.is(h))return{start:_,end:h};throw new Error("Range#create called with invalid arguments[".concat(_,", ").concat(h,", ").concat(G,", ").concat(ie,"]"))}p.create=x;function A(_){var h=_;return H.objectLiteral(h)&&a.is(h.start)&&a.is(h.end)}p.is=A})(l=e.Range||(e.Range={}));var f;(function(p){function x(_,h){return{uri:_,range:h}}p.create=x;function A(_){var h=_;return H.defined(h)&&l.is(h.range)&&(H.string(h.uri)||H.undefined(h.uri))}p.is=A})(f=e.Location||(e.Location={}));var g;(function(p){function x(_,h,G,ie){return{targetUri:_,targetRange:h,targetSelectionRange:G,originSelectionRange:ie}}p.create=x;function A(_){var h=_;return H.defined(h)&&l.is(h.targetRange)&&H.string(h.targetUri)&&l.is(h.targetSelectionRange)&&(l.is(h.originSelectionRange)||H.undefined(h.originSelectionRange))}p.is=A})(g=e.LocationLink||(e.LocationLink={}));var b;(function(p){function x(_,h,G,ie){return{red:_,green:h,blue:G,alpha:ie}}p.create=x;function A(_){var h=_;return H.objectLiteral(h)&&H.numberRange(h.red,0,1)&&H.numberRange(h.green,0,1)&&H.numberRange(h.blue,0,1)&&H.numberRange(h.alpha,0,1)}p.is=A})(b=e.Color||(e.Color={}));var S;(function(p){function x(_,h){return{range:_,color:h}}p.create=x;function A(_){var h=_;return H.objectLiteral(h)&&l.is(h.range)&&b.is(h.color)}p.is=A})(S=e.ColorInformation||(e.ColorInformation={}));var v;(function(p){function x(_,h,G){return{label:_,textEdit:h,additionalTextEdits:G}}p.create=x;function A(_){var h=_;return H.objectLiteral(h)&&H.string(h.label)&&(H.undefined(h.textEdit)||N.is(h))&&(H.undefined(h.additionalTextEdits)||H.typedArray(h.additionalTextEdits,N.is))}p.is=A})(v=e.ColorPresentation||(e.ColorPresentation={}));var E;(function(p){p.Comment="comment",p.Imports="imports",p.Region="region"})(E=e.FoldingRangeKind||(e.FoldingRangeKind={}));var q;(function(p){function x(_,h,G,ie,Ee,ct){var ot={startLine:_,endLine:h};return H.defined(G)&&(ot.startCharacter=G),H.defined(ie)&&(ot.endCharacter=ie),H.defined(Ee)&&(ot.kind=Ee),H.defined(ct)&&(ot.collapsedText=ct),ot}p.create=x;function A(_){var h=_;return H.objectLiteral(h)&&H.uinteger(h.startLine)&&H.uinteger(h.startLine)&&(H.undefined(h.startCharacter)||H.uinteger(h.startCharacter))&&(H.undefined(h.endCharacter)||H.uinteger(h.endCharacter))&&(H.undefined(h.kind)||H.string(h.kind))}p.is=A})(q=e.FoldingRange||(e.FoldingRange={}));var I;(function(p){function x(_,h){return{location:_,message:h}}p.create=x;function A(_){var h=_;return H.defined(h)&&f.is(h.location)&&H.string(h.message)}p.is=A})(I=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var O;(function(p){p.Error=1,p.Warning=2,p.Information=3,p.Hint=4})(O=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var F;(function(p){p.Unnecessary=1,p.Deprecated=2})(F=e.DiagnosticTag||(e.DiagnosticTag={}));var d;(function(p){function x(A){var _=A;return H.objectLiteral(_)&&H.string(_.href)}p.is=x})(d=e.CodeDescription||(e.CodeDescription={}));var R;(function(p){function x(_,h,G,ie,Ee,ct){var ot={range:_,message:h};return H.defined(G)&&(ot.severity=G),H.defined(ie)&&(ot.code=ie),H.defined(Ee)&&(ot.source=Ee),H.defined(ct)&&(ot.relatedInformation=ct),ot}p.create=x;function A(_){var h,G=_;return H.defined(G)&&l.is(G.range)&&H.string(G.message)&&(H.number(G.severity)||H.undefined(G.severity))&&(H.integer(G.code)||H.string(G.code)||H.undefined(G.code))&&(H.undefined(G.codeDescription)||H.string((h=G.codeDescription)===null||h===void 0?void 0:h.href))&&(H.string(G.source)||H.undefined(G.source))&&(H.undefined(G.relatedInformation)||H.typedArray(G.relatedInformation,I.is))}p.is=A})(R=e.Diagnostic||(e.Diagnostic={}));var T;(function(p){function x(_,h){for(var G=[],ie=2;ie<arguments.length;ie++)G[ie-2]=arguments[ie];var Ee={title:_,command:h};return H.defined(G)&&G.length>0&&(Ee.arguments=G),Ee}p.create=x;function A(_){var h=_;return H.defined(h)&&H.string(h.title)&&H.string(h.command)}p.is=A})(T=e.Command||(e.Command={}));var N;(function(p){function x(G,ie){return{range:G,newText:ie}}p.replace=x;function A(G,ie){return{range:{start:G,end:G},newText:ie}}p.insert=A;function _(G){return{range:G,newText:""}}p.del=_;function h(G){var ie=G;return H.objectLiteral(ie)&&H.string(ie.newText)&&l.is(ie.range)}p.is=h})(N=e.TextEdit||(e.TextEdit={}));var j;(function(p){function x(_,h,G){var ie={label:_};return h!==void 0&&(ie.needsConfirmation=h),G!==void 0&&(ie.description=G),ie}p.create=x;function A(_){var h=_;return H.objectLiteral(h)&&H.string(h.label)&&(H.boolean(h.needsConfirmation)||h.needsConfirmation===void 0)&&(H.string(h.description)||h.description===void 0)}p.is=A})(j=e.ChangeAnnotation||(e.ChangeAnnotation={}));var K;(function(p){function x(A){var _=A;return H.string(_)}p.is=x})(K=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var L;(function(p){function x(G,ie,Ee){return{range:G,newText:ie,annotationId:Ee}}p.replace=x;function A(G,ie,Ee){return{range:{start:G,end:G},newText:ie,annotationId:Ee}}p.insert=A;function _(G,ie){return{range:G,newText:"",annotationId:ie}}p.del=_;function h(G){var ie=G;return N.is(ie)&&(j.is(ie.annotationId)||K.is(ie.annotationId))}p.is=h})(L=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var Z;(function(p){function x(_,h){return{textDocument:_,edits:h}}p.create=x;function A(_){var h=_;return H.defined(h)&&c.is(h.textDocument)&&Array.isArray(h.edits)}p.is=A})(Z=e.TextDocumentEdit||(e.TextDocumentEdit={}));var $;(function(p){function x(_,h,G){var ie={kind:"create",uri:_};return h!==void 0&&(h.overwrite!==void 0||h.ignoreIfExists!==void 0)&&(ie.options=h),G!==void 0&&(ie.annotationId=G),ie}p.create=x;function A(_){var h=_;return h&&h.kind==="create"&&H.string(h.uri)&&(h.options===void 0||(h.options.overwrite===void 0||H.boolean(h.options.overwrite))&&(h.options.ignoreIfExists===void 0||H.boolean(h.options.ignoreIfExists)))&&(h.annotationId===void 0||K.is(h.annotationId))}p.is=A})($=e.CreateFile||(e.CreateFile={}));var oe;(function(p){function x(_,h,G,ie){var Ee={kind:"rename",oldUri:_,newUri:h};return G!==void 0&&(G.overwrite!==void 0||G.ignoreIfExists!==void 0)&&(Ee.options=G),ie!==void 0&&(Ee.annotationId=ie),Ee}p.create=x;function A(_){var h=_;return h&&h.kind==="rename"&&H.string(h.oldUri)&&H.string(h.newUri)&&(h.options===void 0||(h.options.overwrite===void 0||H.boolean(h.options.overwrite))&&(h.options.ignoreIfExists===void 0||H.boolean(h.options.ignoreIfExists)))&&(h.annotationId===void 0||K.is(h.annotationId))}p.is=A})(oe=e.RenameFile||(e.RenameFile={}));var se;(function(p){function x(_,h,G){var ie={kind:"delete",uri:_};return h!==void 0&&(h.recursive!==void 0||h.ignoreIfNotExists!==void 0)&&(ie.options=h),G!==void 0&&(ie.annotationId=G),ie}p.create=x;function A(_){var h=_;return h&&h.kind==="delete"&&H.string(h.uri)&&(h.options===void 0||(h.options.recursive===void 0||H.boolean(h.options.recursive))&&(h.options.ignoreIfNotExists===void 0||H.boolean(h.options.ignoreIfNotExists)))&&(h.annotationId===void 0||K.is(h.annotationId))}p.is=A})(se=e.DeleteFile||(e.DeleteFile={}));var pe;(function(p){function x(A){var _=A;return _&&(_.changes!==void 0||_.documentChanges!==void 0)&&(_.documentChanges===void 0||_.documentChanges.every(function(h){return H.string(h.kind)?$.is(h)||oe.is(h)||se.is(h):Z.is(h)}))}p.is=x})(pe=e.WorkspaceEdit||(e.WorkspaceEdit={}));var de=function(){function p(x,A){this.edits=x,this.changeAnnotations=A}return p.prototype.insert=function(x,A,_){var h,G;if(_===void 0?h=N.insert(x,A):K.is(_)?(G=_,h=L.insert(x,A,_)):(this.assertChangeAnnotations(this.changeAnnotations),G=this.changeAnnotations.manage(_),h=L.insert(x,A,G)),this.edits.push(h),G!==void 0)return G},p.prototype.replace=function(x,A,_){var h,G;if(_===void 0?h=N.replace(x,A):K.is(_)?(G=_,h=L.replace(x,A,_)):(this.assertChangeAnnotations(this.changeAnnotations),G=this.changeAnnotations.manage(_),h=L.replace(x,A,G)),this.edits.push(h),G!==void 0)return G},p.prototype.delete=function(x,A){var _,h;if(A===void 0?_=N.del(x):K.is(A)?(h=A,_=L.del(x,A)):(this.assertChangeAnnotations(this.changeAnnotations),h=this.changeAnnotations.manage(A),_=L.del(x,h)),this.edits.push(_),h!==void 0)return h},p.prototype.add=function(x){this.edits.push(x)},p.prototype.all=function(){return this.edits},p.prototype.clear=function(){this.edits.splice(0,this.edits.length)},p.prototype.assertChangeAnnotations=function(x){if(x===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},p}(),we=function(){function p(x){this._annotations=x===void 0?Object.create(null):x,this._counter=0,this._size=0}return p.prototype.all=function(){return this._annotations},Object.defineProperty(p.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),p.prototype.manage=function(x,A){var _;if(K.is(x)?_=x:(_=this.nextId(),A=x),this._annotations[_]!==void 0)throw new Error("Id ".concat(_," is already in use."));if(A===void 0)throw new Error("No annotation provided for id ".concat(_));return this._annotations[_]=A,this._size++,_},p.prototype.nextId=function(){return this._counter++,this._counter.toString()},p}(),V=function(){function p(x){var A=this;this._textEditChanges=Object.create(null),x!==void 0?(this._workspaceEdit=x,x.documentChanges?(this._changeAnnotations=new we(x.changeAnnotations),x.changeAnnotations=this._changeAnnotations.all(),x.documentChanges.forEach(function(_){if(Z.is(_)){var h=new de(_.edits,A._changeAnnotations);A._textEditChanges[_.textDocument.uri]=h}})):x.changes&&Object.keys(x.changes).forEach(function(_){var h=new de(x.changes[_]);A._textEditChanges[_]=h})):this._workspaceEdit={}}return Object.defineProperty(p.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),p.prototype.getTextEditChange=function(x){if(c.is(x)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var A={uri:x.uri,version:x.version},_=this._textEditChanges[A.uri];if(!_){var h=[],G={textDocument:A,edits:h};this._workspaceEdit.documentChanges.push(G),_=new de(h,this._changeAnnotations),this._textEditChanges[A.uri]=_}return _}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var _=this._textEditChanges[x];if(!_){var h=[];this._workspaceEdit.changes[x]=h,_=new de(h),this._textEditChanges[x]=_}return _}},p.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new we,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},p.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},p.prototype.createFile=function(x,A,_){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var h;j.is(A)||K.is(A)?h=A:_=A;var G,ie;if(h===void 0?G=$.create(x,_):(ie=K.is(h)?h:this._changeAnnotations.manage(h),G=$.create(x,_,ie)),this._workspaceEdit.documentChanges.push(G),ie!==void 0)return ie},p.prototype.renameFile=function(x,A,_,h){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var G;j.is(_)||K.is(_)?G=_:h=_;var ie,Ee;if(G===void 0?ie=oe.create(x,A,h):(Ee=K.is(G)?G:this._changeAnnotations.manage(G),ie=oe.create(x,A,h,Ee)),this._workspaceEdit.documentChanges.push(ie),Ee!==void 0)return Ee},p.prototype.deleteFile=function(x,A,_){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var h;j.is(A)||K.is(A)?h=A:_=A;var G,ie;if(h===void 0?G=se.create(x,_):(ie=K.is(h)?h:this._changeAnnotations.manage(h),G=se.create(x,_,ie)),this._workspaceEdit.documentChanges.push(G),ie!==void 0)return ie},p}();e.WorkspaceChange=V;var J;(function(p){function x(_){return{uri:_}}p.create=x;function A(_){var h=_;return H.defined(h)&&H.string(h.uri)}p.is=A})(J=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var P;(function(p){function x(_,h){return{uri:_,version:h}}p.create=x;function A(_){var h=_;return H.defined(h)&&H.string(h.uri)&&H.integer(h.version)}p.is=A})(P=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var c;(function(p){function x(_,h){return{uri:_,version:h}}p.create=x;function A(_){var h=_;return H.defined(h)&&H.string(h.uri)&&(h.version===null||H.integer(h.version))}p.is=A})(c=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var s;(function(p){function x(_,h,G,ie){return{uri:_,languageId:h,version:G,text:ie}}p.create=x;function A(_){var h=_;return H.defined(h)&&H.string(h.uri)&&H.string(h.languageId)&&H.integer(h.version)&&H.string(h.text)}p.is=A})(s=e.TextDocumentItem||(e.TextDocumentItem={}));var y;(function(p){p.PlainText="plaintext",p.Markdown="markdown";function x(A){var _=A;return _===p.PlainText||_===p.Markdown}p.is=x})(y=e.MarkupKind||(e.MarkupKind={}));var w;(function(p){function x(A){var _=A;return H.objectLiteral(A)&&y.is(_.kind)&&H.string(_.value)}p.is=x})(w=e.MarkupContent||(e.MarkupContent={}));var M;(function(p){p.Text=1,p.Method=2,p.Function=3,p.Constructor=4,p.Field=5,p.Variable=6,p.Class=7,p.Interface=8,p.Module=9,p.Property=10,p.Unit=11,p.Value=12,p.Enum=13,p.Keyword=14,p.Snippet=15,p.Color=16,p.File=17,p.Reference=18,p.Folder=19,p.EnumMember=20,p.Constant=21,p.Struct=22,p.Event=23,p.Operator=24,p.TypeParameter=25})(M=e.CompletionItemKind||(e.CompletionItemKind={}));var Q;(function(p){p.PlainText=1,p.Snippet=2})(Q=e.InsertTextFormat||(e.InsertTextFormat={}));var z;(function(p){p.Deprecated=1})(z=e.CompletionItemTag||(e.CompletionItemTag={}));var B;(function(p){function x(_,h,G){return{newText:_,insert:h,replace:G}}p.create=x;function A(_){var h=_;return h&&H.string(h.newText)&&l.is(h.insert)&&l.is(h.replace)}p.is=A})(B=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var ne;(function(p){p.asIs=1,p.adjustIndentation=2})(ne=e.InsertTextMode||(e.InsertTextMode={}));var re;(function(p){function x(A){var _=A;return _&&(H.string(_.detail)||_.detail===void 0)&&(H.string(_.description)||_.description===void 0)}p.is=x})(re=e.CompletionItemLabelDetails||(e.CompletionItemLabelDetails={}));var fe;(function(p){function x(A){return{label:A}}p.create=x})(fe=e.CompletionItem||(e.CompletionItem={}));var ue;(function(p){function x(A,_){return{items:A||[],isIncomplete:!!_}}p.create=x})(ue=e.CompletionList||(e.CompletionList={}));var Pe;(function(p){function x(_){return _.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}p.fromPlainText=x;function A(_){var h=_;return H.string(h)||H.objectLiteral(h)&&H.string(h.language)&&H.string(h.value)}p.is=A})(Pe=e.MarkedString||(e.MarkedString={}));var ve;(function(p){function x(A){var _=A;return!!_&&H.objectLiteral(_)&&(w.is(_.contents)||Pe.is(_.contents)||H.typedArray(_.contents,Pe.is))&&(A.range===void 0||l.is(A.range))}p.is=x})(ve=e.Hover||(e.Hover={}));var Ce;(function(p){function x(A,_){return _?{label:A,documentation:_}:{label:A}}p.create=x})(Ce=e.ParameterInformation||(e.ParameterInformation={}));var Te;(function(p){function x(A,_){for(var h=[],G=2;G<arguments.length;G++)h[G-2]=arguments[G];var ie={label:A};return H.defined(_)&&(ie.documentation=_),H.defined(h)?ie.parameters=h:ie.parameters=[],ie}p.create=x})(Te=e.SignatureInformation||(e.SignatureInformation={}));var he;(function(p){p.Text=1,p.Read=2,p.Write=3})(he=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var C;(function(p){function x(A,_){var h={range:A};return H.number(_)&&(h.kind=_),h}p.create=x})(C=e.DocumentHighlight||(e.DocumentHighlight={}));var k;(function(p){p.File=1,p.Module=2,p.Namespace=3,p.Package=4,p.Class=5,p.Method=6,p.Property=7,p.Field=8,p.Constructor=9,p.Enum=10,p.Interface=11,p.Function=12,p.Variable=13,p.Constant=14,p.String=15,p.Number=16,p.Boolean=17,p.Array=18,p.Object=19,p.Key=20,p.Null=21,p.EnumMember=22,p.Struct=23,p.Event=24,p.Operator=25,p.TypeParameter=26})(k=e.SymbolKind||(e.SymbolKind={}));var W;(function(p){p.Deprecated=1})(W=e.SymbolTag||(e.SymbolTag={}));var X;(function(p){function x(A,_,h,G,ie){var Ee={name:A,kind:_,location:{uri:G,range:h}};return ie&&(Ee.containerName=ie),Ee}p.create=x})(X=e.SymbolInformation||(e.SymbolInformation={}));var ge;(function(p){function x(A,_,h,G){return G!==void 0?{name:A,kind:_,location:{uri:h,range:G}}:{name:A,kind:_,location:{uri:h}}}p.create=x})(ge=e.WorkspaceSymbol||(e.WorkspaceSymbol={}));var De;(function(p){function x(_,h,G,ie,Ee,ct){var ot={name:_,detail:h,kind:G,range:ie,selectionRange:Ee};return ct!==void 0&&(ot.children=ct),ot}p.create=x;function A(_){var h=_;return h&&H.string(h.name)&&H.number(h.kind)&&l.is(h.range)&&l.is(h.selectionRange)&&(h.detail===void 0||H.string(h.detail))&&(h.deprecated===void 0||H.boolean(h.deprecated))&&(h.children===void 0||Array.isArray(h.children))&&(h.tags===void 0||Array.isArray(h.tags))}p.is=A})(De=e.DocumentSymbol||(e.DocumentSymbol={}));var Me;(function(p){p.Empty="",p.QuickFix="quickfix",p.Refactor="refactor",p.RefactorExtract="refactor.extract",p.RefactorInline="refactor.inline",p.RefactorRewrite="refactor.rewrite",p.Source="source",p.SourceOrganizeImports="source.organizeImports",p.SourceFixAll="source.fixAll"})(Me=e.CodeActionKind||(e.CodeActionKind={}));var Xe;(function(p){p.Invoked=1,p.Automatic=2})(Xe=e.CodeActionTriggerKind||(e.CodeActionTriggerKind={}));var nt;(function(p){function x(_,h,G){var ie={diagnostics:_};return h!=null&&(ie.only=h),G!=null&&(ie.triggerKind=G),ie}p.create=x;function A(_){var h=_;return H.defined(h)&&H.typedArray(h.diagnostics,R.is)&&(h.only===void 0||H.typedArray(h.only,H.string))&&(h.triggerKind===void 0||h.triggerKind===Xe.Invoked||h.triggerKind===Xe.Automatic)}p.is=A})(nt=e.CodeActionContext||(e.CodeActionContext={}));var Ye;(function(p){function x(_,h,G){var ie={title:_},Ee=!0;return typeof h=="string"?(Ee=!1,ie.kind=h):T.is(h)?ie.command=h:ie.edit=h,Ee&&G!==void 0&&(ie.kind=G),ie}p.create=x;function A(_){var h=_;return h&&H.string(h.title)&&(h.diagnostics===void 0||H.typedArray(h.diagnostics,R.is))&&(h.kind===void 0||H.string(h.kind))&&(h.edit!==void 0||h.command!==void 0)&&(h.command===void 0||T.is(h.command))&&(h.isPreferred===void 0||H.boolean(h.isPreferred))&&(h.edit===void 0||pe.is(h.edit))}p.is=A})(Ye=e.CodeAction||(e.CodeAction={}));var He;(function(p){function x(_,h){var G={range:_};return H.defined(h)&&(G.data=h),G}p.create=x;function A(_){var h=_;return H.defined(h)&&l.is(h.range)&&(H.undefined(h.command)||T.is(h.command))}p.is=A})(He=e.CodeLens||(e.CodeLens={}));var Ze;(function(p){function x(_,h){return{tabSize:_,insertSpaces:h}}p.create=x;function A(_){var h=_;return H.defined(h)&&H.uinteger(h.tabSize)&&H.boolean(h.insertSpaces)}p.is=A})(Ze=e.FormattingOptions||(e.FormattingOptions={}));var Ke;(function(p){function x(_,h,G){return{range:_,target:h,data:G}}p.create=x;function A(_){var h=_;return H.defined(h)&&l.is(h.range)&&(H.undefined(h.target)||H.string(h.target))}p.is=A})(Ke=e.DocumentLink||(e.DocumentLink={}));var Be;(function(p){function x(_,h){return{range:_,parent:h}}p.create=x;function A(_){var h=_;return H.objectLiteral(h)&&l.is(h.range)&&(h.parent===void 0||p.is(h.parent))}p.is=A})(Be=e.SelectionRange||(e.SelectionRange={}));var st;(function(p){p.namespace="namespace",p.type="type",p.class="class",p.enum="enum",p.interface="interface",p.struct="struct",p.typeParameter="typeParameter",p.parameter="parameter",p.variable="variable",p.property="property",p.enumMember="enumMember",p.event="event",p.function="function",p.method="method",p.macro="macro",p.keyword="keyword",p.modifier="modifier",p.comment="comment",p.string="string",p.number="number",p.regexp="regexp",p.operator="operator",p.decorator="decorator"})(st=e.SemanticTokenTypes||(e.SemanticTokenTypes={}));var ce;(function(p){p.declaration="declaration",p.definition="definition",p.readonly="readonly",p.static="static",p.deprecated="deprecated",p.abstract="abstract",p.async="async",p.modification="modification",p.documentation="documentation",p.defaultLibrary="defaultLibrary"})(ce=e.SemanticTokenModifiers||(e.SemanticTokenModifiers={}));var te;(function(p){function x(A){var _=A;return H.objectLiteral(_)&&(_.resultId===void 0||typeof _.resultId=="string")&&Array.isArray(_.data)&&(_.data.length===0||typeof _.data[0]=="number")}p.is=x})(te=e.SemanticTokens||(e.SemanticTokens={}));var le;(function(p){function x(_,h){return{range:_,text:h}}p.create=x;function A(_){var h=_;return h!=null&&l.is(h.range)&&H.string(h.text)}p.is=A})(le=e.InlineValueText||(e.InlineValueText={}));var me;(function(p){function x(_,h,G){return{range:_,variableName:h,caseSensitiveLookup:G}}p.create=x;function A(_){var h=_;return h!=null&&l.is(h.range)&&H.boolean(h.caseSensitiveLookup)&&(H.string(h.variableName)||h.variableName===void 0)}p.is=A})(me=e.InlineValueVariableLookup||(e.InlineValueVariableLookup={}));var Fe;(function(p){function x(_,h){return{range:_,expression:h}}p.create=x;function A(_){var h=_;return h!=null&&l.is(h.range)&&(H.string(h.expression)||h.expression===void 0)}p.is=A})(Fe=e.InlineValueEvaluatableExpression||(e.InlineValueEvaluatableExpression={}));var Ne;(function(p){function x(_,h){return{frameId:_,stoppedLocation:h}}p.create=x;function A(_){var h=_;return H.defined(h)&&l.is(_.stoppedLocation)}p.is=A})(Ne=e.InlineValueContext||(e.InlineValueContext={}));var ze;(function(p){p.Type=1,p.Parameter=2;function x(A){return A===1||A===2}p.is=x})(ze=e.InlayHintKind||(e.InlayHintKind={}));var Et;(function(p){function x(_){return{value:_}}p.create=x;function A(_){var h=_;return H.objectLiteral(h)&&(h.tooltip===void 0||H.string(h.tooltip)||w.is(h.tooltip))&&(h.location===void 0||f.is(h.location))&&(h.command===void 0||T.is(h.command))}p.is=A})(Et=e.InlayHintLabelPart||(e.InlayHintLabelPart={}));var m;(function(p){function x(_,h,G){var ie={position:_,label:h};return G!==void 0&&(ie.kind=G),ie}p.create=x;function A(_){var h=_;return H.objectLiteral(h)&&a.is(h.position)&&(H.string(h.label)||H.typedArray(h.label,Et.is))&&(h.kind===void 0||ze.is(h.kind))&&h.textEdits===void 0||H.typedArray(h.textEdits,N.is)&&(h.tooltip===void 0||H.string(h.tooltip)||w.is(h.tooltip))&&(h.paddingLeft===void 0||H.boolean(h.paddingLeft))&&(h.paddingRight===void 0||H.boolean(h.paddingRight))}p.is=A})(m=e.InlayHint||(e.InlayHint={}));var Y;(function(p){function x(A){var _=A;return H.objectLiteral(_)&&r.is(_.uri)&&H.string(_.name)}p.is=x})(Y=e.WorkspaceFolder||(e.WorkspaceFolder={})),e.EOL=[`
`,`\r
`,"\r"];var Re;(function(p){function x(G,ie,Ee,ct){return new je(G,ie,Ee,ct)}p.create=x;function A(G){var ie=G;return!!(H.defined(ie)&&H.string(ie.uri)&&(H.undefined(ie.languageId)||H.string(ie.languageId))&&H.uinteger(ie.lineCount)&&H.func(ie.getText)&&H.func(ie.positionAt)&&H.func(ie.offsetAt))}p.is=A;function _(G,ie){for(var Ee=G.getText(),ct=h(ie,function(In,Qn){var vr=In.range.start.line-Qn.range.start.line;return vr===0?In.range.start.character-Qn.range.start.character:vr}),ot=Ee.length,zt=ct.length-1;zt>=0;zt--){var Ht=ct[zt],sn=G.offsetAt(Ht.range.start),$e=G.offsetAt(Ht.range.end);if($e<=ot)Ee=Ee.substring(0,sn)+Ht.newText+Ee.substring($e,Ee.length);else throw new Error("Overlapping edit");ot=sn}return Ee}p.applyEdits=_;function h(G,ie){if(G.length<=1)return G;var Ee=G.length/2|0,ct=G.slice(0,Ee),ot=G.slice(Ee);h(ct,ie),h(ot,ie);for(var zt=0,Ht=0,sn=0;zt<ct.length&&Ht<ot.length;){var $e=ie(ct[zt],ot[Ht]);$e<=0?G[sn++]=ct[zt++]:G[sn++]=ot[Ht++]}for(;zt<ct.length;)G[sn++]=ct[zt++];for(;Ht<ot.length;)G[sn++]=ot[Ht++];return G}})(Re=e.TextDocument||(e.TextDocument={}));var je=function(){function p(x,A,_,h){this._uri=x,this._languageId=A,this._version=_,this._content=h,this._lineOffsets=void 0}return Object.defineProperty(p.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),p.prototype.getText=function(x){if(x){var A=this.offsetAt(x.start),_=this.offsetAt(x.end);return this._content.substring(A,_)}return this._content},p.prototype.update=function(x,A){this._content=x.text,this._version=A,this._lineOffsets=void 0},p.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var x=[],A=this._content,_=!0,h=0;h<A.length;h++){_&&(x.push(h),_=!1);var G=A.charAt(h);_=G==="\r"||G===`
`,G==="\r"&&h+1<A.length&&A.charAt(h+1)===`
`&&h++}_&&A.length>0&&x.push(A.length),this._lineOffsets=x}return this._lineOffsets},p.prototype.positionAt=function(x){x=Math.max(Math.min(x,this._content.length),0);var A=this.getLineOffsets(),_=0,h=A.length;if(h===0)return a.create(0,x);for(;_<h;){var G=Math.floor((_+h)/2);A[G]>x?h=G:_=G+1}var ie=_-1;return a.create(ie,x-A[ie])},p.prototype.offsetAt=function(x){var A=this.getLineOffsets();if(x.line>=A.length)return this._content.length;if(x.line<0)return 0;var _=A[x.line],h=x.line+1<A.length?A[x.line+1]:this._content.length;return Math.max(Math.min(_+x.character,h),_)},Object.defineProperty(p.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),p}(),H;(function(p){var x=Object.prototype.toString;function A($e){return typeof $e<"u"}p.defined=A;function _($e){return typeof $e>"u"}p.undefined=_;function h($e){return $e===!0||$e===!1}p.boolean=h;function G($e){return x.call($e)==="[object String]"}p.string=G;function ie($e){return x.call($e)==="[object Number]"}p.number=ie;function Ee($e,In,Qn){return x.call($e)==="[object Number]"&&In<=$e&&$e<=Qn}p.numberRange=Ee;function ct($e){return x.call($e)==="[object Number]"&&-2147483648<=$e&&$e<=2147483647}p.integer=ct;function ot($e){return x.call($e)==="[object Number]"&&0<=$e&&$e<=2147483647}p.uinteger=ot;function zt($e){return x.call($e)==="[object Function]"}p.func=zt;function Ht($e){return $e!==null&&typeof $e=="object"}p.objectLiteral=Ht;function sn($e,In){return Array.isArray($e)&&$e.every(In)}p.typedArray=sn})(H||(H={}))})});var ft=ee(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.ProtocolNotificationType=Xt.ProtocolNotificationType0=Xt.ProtocolRequestType=Xt.ProtocolRequestType0=Xt.RegistrationType=void 0;var Jn=require("vscode-jsonrpc"),So=class{constructor(e){this.method=e}};Xt.RegistrationType=So;var To=class extends Jn.RequestType0{constructor(e){super(e)}};Xt.ProtocolRequestType0=To;var qo=class extends Jn.RequestType{constructor(e){super(e,Jn.ParameterStructures.byName)}};Xt.ProtocolRequestType=qo;var Po=class extends Jn.NotificationType0{constructor(e){super(e)}};Xt.ProtocolNotificationType0=Po;var Io=class extends Jn.NotificationType{constructor(e){super(e,Jn.ParameterStructures.byName)}};Xt.ProtocolNotificationType=Io});var fi=ee(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.objectLiteral=bt.typedArray=bt.stringArray=bt.array=bt.func=bt.error=bt.number=bt.string=bt.boolean=void 0;function qh(n){return n===!0||n===!1}bt.boolean=qh;function Gc(n){return typeof n=="string"||n instanceof String}bt.string=Gc;function Ph(n){return typeof n=="number"||n instanceof Number}bt.number=Ph;function Ih(n){return n instanceof Error}bt.error=Ih;function Eh(n){return typeof n=="function"}bt.func=Eh;function Xc(n){return Array.isArray(n)}bt.array=Xc;function kh(n){return Xc(n)&&n.every(e=>Gc(e))}bt.stringArray=kh;function xh(n,e){return Array.isArray(n)&&n.every(e)}bt.typedArray=xh;function Oh(n){return n!==null&&typeof n=="object"}bt.objectLiteral=Oh});var Yc=ee(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.ImplementationRequest=void 0;var Fh=ft(),Nh;(function(n){n.method="textDocument/implementation",n.type=new Fh.ProtocolRequestType(n.method)})(Nh=Cr.ImplementationRequest||(Cr.ImplementationRequest={}))});var Qc=ee(br=>{"use strict";Object.defineProperty(br,"__esModule",{value:!0});br.TypeDefinitionRequest=void 0;var Ah=ft(),Lh;(function(n){n.method="textDocument/typeDefinition",n.type=new Ah.ProtocolRequestType(n.method)})(Lh=br.TypeDefinitionRequest||(br.TypeDefinitionRequest={}))});var Zc=ee(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});En.DidChangeWorkspaceFoldersNotification=En.WorkspaceFoldersRequest=void 0;var Jc=ft(),Mh;(function(n){n.type=new Jc.ProtocolRequestType0("workspace/workspaceFolders")})(Mh=En.WorkspaceFoldersRequest||(En.WorkspaceFoldersRequest={}));var Hh;(function(n){n.type=new Jc.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(Hh=En.DidChangeWorkspaceFoldersNotification||(En.DidChangeWorkspaceFoldersNotification={}))});var eu=ee(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});Dr.ConfigurationRequest=void 0;var jh=ft(),Uh;(function(n){n.type=new jh.ProtocolRequestType("workspace/configuration")})(Uh=Dr.ConfigurationRequest||(Dr.ConfigurationRequest={}))});var nu=ee(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});kn.ColorPresentationRequest=kn.DocumentColorRequest=void 0;var tu=ft(),$h;(function(n){n.method="textDocument/documentColor",n.type=new tu.ProtocolRequestType(n.method)})($h=kn.DocumentColorRequest||(kn.DocumentColorRequest={}));var Wh;(function(n){n.type=new tu.ProtocolRequestType("textDocument/colorPresentation")})(Wh=kn.ColorPresentationRequest||(kn.ColorPresentationRequest={}))});var ru=ee(Rr=>{"use strict";Object.defineProperty(Rr,"__esModule",{value:!0});Rr.FoldingRangeRequest=void 0;var Kh=ft(),zh;(function(n){n.method="textDocument/foldingRange",n.type=new Kh.ProtocolRequestType(n.method)})(zh=Rr.FoldingRangeRequest||(Rr.FoldingRangeRequest={}))});var iu=ee(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.DeclarationRequest=void 0;var Vh=ft(),Bh;(function(n){n.method="textDocument/declaration",n.type=new Vh.ProtocolRequestType(n.method)})(Bh=wr.DeclarationRequest||(wr.DeclarationRequest={}))});var ou=ee(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});_r.SelectionRangeRequest=void 0;var Gh=ft(),Xh;(function(n){n.method="textDocument/selectionRange",n.type=new Gh.ProtocolRequestType(n.method)})(Xh=_r.SelectionRangeRequest||(_r.SelectionRangeRequest={}))});var au=ee(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.WorkDoneProgressCancelNotification=an.WorkDoneProgressCreateRequest=an.WorkDoneProgress=void 0;var Yh=require("vscode-jsonrpc"),su=ft(),Qh;(function(n){n.type=new Yh.ProgressType;function e(t){return t===n.type}n.is=e})(Qh=an.WorkDoneProgress||(an.WorkDoneProgress={}));var Jh;(function(n){n.method="window/workDoneProgress/create",n.type=new su.ProtocolRequestType(n.method)})(Jh=an.WorkDoneProgressCreateRequest||(an.WorkDoneProgressCreateRequest={}));var Zh;(function(n){n.method="window/workDoneProgress/cancel",n.type=new su.ProtocolNotificationType(n.method)})(Zh=an.WorkDoneProgressCancelNotification||(an.WorkDoneProgressCancelNotification={}))});var cu=ee(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.CallHierarchyOutgoingCallsRequest=cn.CallHierarchyIncomingCallsRequest=cn.CallHierarchyPrepareRequest=void 0;var Eo=ft(),eg;(function(n){n.method="textDocument/prepareCallHierarchy",n.type=new Eo.ProtocolRequestType(n.method)})(eg=cn.CallHierarchyPrepareRequest||(cn.CallHierarchyPrepareRequest={}));var tg;(function(n){n.method="callHierarchy/incomingCalls",n.type=new Eo.ProtocolRequestType(n.method)})(tg=cn.CallHierarchyIncomingCallsRequest||(cn.CallHierarchyIncomingCallsRequest={}));var ng;(function(n){n.method="callHierarchy/outgoingCalls",n.type=new Eo.ProtocolRequestType(n.method)})(ng=cn.CallHierarchyOutgoingCallsRequest||(cn.CallHierarchyOutgoingCallsRequest={}))});var uu=ee(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.SemanticTokensRefreshRequest=Dt.SemanticTokensRangeRequest=Dt.SemanticTokensDeltaRequest=Dt.SemanticTokensRequest=Dt.SemanticTokensRegistrationType=Dt.TokenFormat=void 0;var Sr=ft(),rg;(function(n){n.Relative="relative"})(rg=Dt.TokenFormat||(Dt.TokenFormat={}));var ig;(function(n){n.method="textDocument/semanticTokens",n.type=new Sr.RegistrationType(n.method)})(ig=Dt.SemanticTokensRegistrationType||(Dt.SemanticTokensRegistrationType={}));var og;(function(n){n.method="textDocument/semanticTokens/full",n.type=new Sr.ProtocolRequestType(n.method)})(og=Dt.SemanticTokensRequest||(Dt.SemanticTokensRequest={}));var sg;(function(n){n.method="textDocument/semanticTokens/full/delta",n.type=new Sr.ProtocolRequestType(n.method)})(sg=Dt.SemanticTokensDeltaRequest||(Dt.SemanticTokensDeltaRequest={}));var ag;(function(n){n.method="textDocument/semanticTokens/range",n.type=new Sr.ProtocolRequestType(n.method)})(ag=Dt.SemanticTokensRangeRequest||(Dt.SemanticTokensRangeRequest={}));var cg;(function(n){n.method="workspace/semanticTokens/refresh",n.type=new Sr.ProtocolRequestType0(n.method)})(cg=Dt.SemanticTokensRefreshRequest||(Dt.SemanticTokensRefreshRequest={}))});var lu=ee(Tr=>{"use strict";Object.defineProperty(Tr,"__esModule",{value:!0});Tr.ShowDocumentRequest=void 0;var ug=ft(),lg;(function(n){n.method="window/showDocument",n.type=new ug.ProtocolRequestType(n.method)})(lg=Tr.ShowDocumentRequest||(Tr.ShowDocumentRequest={}))});var du=ee(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});qr.LinkedEditingRangeRequest=void 0;var dg=ft(),fg;(function(n){n.method="textDocument/linkedEditingRange",n.type=new dg.ProtocolRequestType(n.method)})(fg=qr.LinkedEditingRangeRequest||(qr.LinkedEditingRangeRequest={}))});var fu=ee(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.WillDeleteFilesRequest=ht.DidDeleteFilesNotification=ht.DidRenameFilesNotification=ht.WillRenameFilesRequest=ht.DidCreateFilesNotification=ht.WillCreateFilesRequest=ht.FileOperationPatternKind=void 0;var Zn=ft(),hg;(function(n){n.file="file",n.folder="folder"})(hg=ht.FileOperationPatternKind||(ht.FileOperationPatternKind={}));var gg;(function(n){n.method="workspace/willCreateFiles",n.type=new Zn.ProtocolRequestType(n.method)})(gg=ht.WillCreateFilesRequest||(ht.WillCreateFilesRequest={}));var pg;(function(n){n.method="workspace/didCreateFiles",n.type=new Zn.ProtocolNotificationType(n.method)})(pg=ht.DidCreateFilesNotification||(ht.DidCreateFilesNotification={}));var mg;(function(n){n.method="workspace/willRenameFiles",n.type=new Zn.ProtocolRequestType(n.method)})(mg=ht.WillRenameFilesRequest||(ht.WillRenameFilesRequest={}));var yg;(function(n){n.method="workspace/didRenameFiles",n.type=new Zn.ProtocolNotificationType(n.method)})(yg=ht.DidRenameFilesNotification||(ht.DidRenameFilesNotification={}));var vg;(function(n){n.method="workspace/didDeleteFiles",n.type=new Zn.ProtocolNotificationType(n.method)})(vg=ht.DidDeleteFilesNotification||(ht.DidDeleteFilesNotification={}));var Cg;(function(n){n.method="workspace/willDeleteFiles",n.type=new Zn.ProtocolRequestType(n.method)})(Cg=ht.WillDeleteFilesRequest||(ht.WillDeleteFilesRequest={}))});var hu=ee(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.MonikerRequest=un.MonikerKind=un.UniquenessLevel=void 0;var bg=ft(),Dg;(function(n){n.document="document",n.project="project",n.group="group",n.scheme="scheme",n.global="global"})(Dg=un.UniquenessLevel||(un.UniquenessLevel={}));var Rg;(function(n){n.$import="import",n.$export="export",n.local="local"})(Rg=un.MonikerKind||(un.MonikerKind={}));var wg;(function(n){n.method="textDocument/moniker",n.type=new bg.ProtocolRequestType(n.method)})(wg=un.MonikerRequest||(un.MonikerRequest={}))});var gu=ee(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.TypeHierarchySubtypesRequest=ln.TypeHierarchySupertypesRequest=ln.TypeHierarchyPrepareRequest=void 0;var ko=ft(),_g;(function(n){n.method="textDocument/prepareTypeHierarchy",n.type=new ko.ProtocolRequestType(n.method)})(_g=ln.TypeHierarchyPrepareRequest||(ln.TypeHierarchyPrepareRequest={}));var Sg;(function(n){n.method="typeHierarchy/supertypes",n.type=new ko.ProtocolRequestType(n.method)})(Sg=ln.TypeHierarchySupertypesRequest||(ln.TypeHierarchySupertypesRequest={}));var Tg;(function(n){n.method="typeHierarchy/subtypes",n.type=new ko.ProtocolRequestType(n.method)})(Tg=ln.TypeHierarchySubtypesRequest||(ln.TypeHierarchySubtypesRequest={}))});var mu=ee(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.InlineValueRefreshRequest=xn.InlineValueRequest=void 0;var pu=ft(),qg;(function(n){n.method="textDocument/inlineValue",n.type=new pu.ProtocolRequestType(n.method)})(qg=xn.InlineValueRequest||(xn.InlineValueRequest={}));var Pg;(function(n){n.method="workspace/inlineValue/refresh",n.type=new pu.ProtocolRequestType0(n.method)})(Pg=xn.InlineValueRefreshRequest||(xn.InlineValueRefreshRequest={}))});var yu=ee(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.InlayHintRefreshRequest=dn.InlayHintResolveRequest=dn.InlayHintRequest=void 0;var xo=ft(),Ig;(function(n){n.method="textDocument/inlayHint",n.type=new xo.ProtocolRequestType(n.method)})(Ig=dn.InlayHintRequest||(dn.InlayHintRequest={}));var Eg;(function(n){n.method="inlayHint/resolve",n.type=new xo.ProtocolRequestType(n.method)})(Eg=dn.InlayHintResolveRequest||(dn.InlayHintResolveRequest={}));var kg;(function(n){n.method="workspace/inlayHint/refresh",n.type=new xo.ProtocolRequestType0(n.method)})(kg=dn.InlayHintRefreshRequest||(dn.InlayHintRefreshRequest={}))});var Cu=ee(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.DiagnosticRefreshRequest=qt.WorkspaceDiagnosticRequest=qt.DocumentDiagnosticRequest=qt.DocumentDiagnosticReportKind=qt.DiagnosticServerCancellationData=void 0;var vu=require("vscode-jsonrpc"),xg=fi(),Oo=ft(),Og;(function(n){function e(t){let r=t;return r&&xg.boolean(r.retriggerRequest)}n.is=e})(Og=qt.DiagnosticServerCancellationData||(qt.DiagnosticServerCancellationData={}));var Fg;(function(n){n.Full="full",n.Unchanged="unchanged"})(Fg=qt.DocumentDiagnosticReportKind||(qt.DocumentDiagnosticReportKind={}));var Ng;(function(n){n.method="textDocument/diagnostic",n.type=new Oo.ProtocolRequestType(n.method),n.partialResult=new vu.ProgressType})(Ng=qt.DocumentDiagnosticRequest||(qt.DocumentDiagnosticRequest={}));var Ag;(function(n){n.method="workspace/diagnostic",n.type=new Oo.ProtocolRequestType(n.method),n.partialResult=new vu.ProgressType})(Ag=qt.WorkspaceDiagnosticRequest||(qt.WorkspaceDiagnosticRequest={}));var Lg;(function(n){n.method="workspace/diagnostic/refresh",n.type=new Oo.ProtocolRequestType0(n.method)})(Lg=qt.DiagnosticRefreshRequest||(qt.DiagnosticRefreshRequest={}))});var Ru=ee(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.DidCloseNotebookDocumentNotification=Qe.DidSaveNotebookDocumentNotification=Qe.DidChangeNotebookDocumentNotification=Qe.NotebookCellArrayChange=Qe.DidOpenNotebookDocumentNotification=Qe.NotebookDocumentSyncRegistrationType=Qe.NotebookDocument=Qe.NotebookCell=Qe.ExecutionSummary=Qe.NotebookCellKind=void 0;var Pr=di(),fn=fi(),Ir=ft(),bu;(function(n){n.Markup=1,n.Code=2;function e(t){return t===1||t===2}n.is=e})(bu=Qe.NotebookCellKind||(Qe.NotebookCellKind={}));var Du;(function(n){function e(i,o){let a={executionOrder:i};return(o===!0||o===!1)&&(a.success=o),a}n.create=e;function t(i){let o=i;return fn.objectLiteral(o)&&Pr.uinteger.is(o.executionOrder)&&(o.success===void 0||fn.boolean(o.success))}n.is=t;function r(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}n.equals=r})(Du=Qe.ExecutionSummary||(Qe.ExecutionSummary={}));var Fo;(function(n){function e(o,a){return{kind:o,document:a}}n.create=e;function t(o){let a=o;return fn.objectLiteral(a)&&bu.is(a.kind)&&Pr.DocumentUri.is(a.document)&&(a.metadata===void 0||fn.objectLiteral(a.metadata))}n.is=t;function r(o,a){let l=new Set;return o.document!==a.document&&l.add("document"),o.kind!==a.kind&&l.add("kind"),o.executionSummary!==a.executionSummary&&l.add("executionSummary"),(o.metadata!==void 0||a.metadata!==void 0)&&!i(o.metadata,a.metadata)&&l.add("metadata"),(o.executionSummary!==void 0||a.executionSummary!==void 0)&&!Du.equals(o.executionSummary,a.executionSummary)&&l.add("executionSummary"),l}n.diff=r;function i(o,a){if(o===a)return!0;if(o==null||a===null||a===void 0||typeof o!=typeof a||typeof o!="object")return!1;let l=Array.isArray(o),f=Array.isArray(a);if(l!==f)return!1;if(l&&f){if(o.length!==a.length)return!1;for(let g=0;g<o.length;g++)if(!i(o[g],a[g]))return!1}if(fn.objectLiteral(o)&&fn.objectLiteral(a)){let g=Object.keys(o),b=Object.keys(a);if(g.length!==b.length||(g.sort(),b.sort(),!i(g,b)))return!1;for(let S=0;S<g.length;S++){let v=g[S];if(!i(o[v],a[v]))return!1}}return!0}})(Fo=Qe.NotebookCell||(Qe.NotebookCell={}));var Mg;(function(n){function e(r,i,o,a){return{uri:r,notebookType:i,version:o,cells:a}}n.create=e;function t(r){let i=r;return fn.objectLiteral(i)&&fn.string(i.uri)&&Pr.integer.is(i.version)&&fn.typedArray(i.cells,Fo.is)}n.is=t})(Mg=Qe.NotebookDocument||(Qe.NotebookDocument={}));var Hg;(function(n){n.method="notebookDocument/sync",n.type=new Ir.RegistrationType(n.method)})(Hg=Qe.NotebookDocumentSyncRegistrationType||(Qe.NotebookDocumentSyncRegistrationType={}));var jg;(function(n){n.method="notebookDocument/didOpen",n.type=new Ir.ProtocolNotificationType(n.method)})(jg=Qe.DidOpenNotebookDocumentNotification||(Qe.DidOpenNotebookDocumentNotification={}));var Ug;(function(n){function e(r){let i=r;return fn.objectLiteral(i)&&Pr.uinteger.is(i.start)&&Pr.uinteger.is(i.deleteCount)&&(i.cells===void 0||fn.typedArray(i.cells,Fo.is))}n.is=e;function t(r,i,o){let a={start:r,deleteCount:i};return o!==void 0&&(a.cells=o),a}n.create=t})(Ug=Qe.NotebookCellArrayChange||(Qe.NotebookCellArrayChange={}));var $g;(function(n){n.method="notebookDocument/didChange",n.type=new Ir.ProtocolNotificationType(n.method)})($g=Qe.DidChangeNotebookDocumentNotification||(Qe.DidChangeNotebookDocumentNotification={}));var Wg;(function(n){n.method="notebookDocument/didSave",n.type=new Ir.ProtocolNotificationType(n.method)})(Wg=Qe.DidSaveNotebookDocumentNotification||(Qe.DidSaveNotebookDocumentNotification={}));var Kg;(function(n){n.method="notebookDocument/didClose",n.type=new Ir.ProtocolNotificationType(n.method)})(Kg=Qe.DidCloseNotebookDocumentNotification||(Qe.DidCloseNotebookDocumentNotification={}))});var ku=ee(D=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});D.WorkspaceSymbolRequest=D.CodeActionResolveRequest=D.CodeActionRequest=D.DocumentSymbolRequest=D.DocumentHighlightRequest=D.ReferencesRequest=D.DefinitionRequest=D.SignatureHelpRequest=D.SignatureHelpTriggerKind=D.HoverRequest=D.CompletionResolveRequest=D.CompletionRequest=D.CompletionTriggerKind=D.PublishDiagnosticsNotification=D.WatchKind=D.RelativePattern=D.FileChangeType=D.DidChangeWatchedFilesNotification=D.WillSaveTextDocumentWaitUntilRequest=D.WillSaveTextDocumentNotification=D.TextDocumentSaveReason=D.DidSaveTextDocumentNotification=D.DidCloseTextDocumentNotification=D.DidChangeTextDocumentNotification=D.TextDocumentContentChangeEvent=D.DidOpenTextDocumentNotification=D.TextDocumentSyncKind=D.TelemetryEventNotification=D.LogMessageNotification=D.ShowMessageRequest=D.ShowMessageNotification=D.MessageType=D.DidChangeConfigurationNotification=D.ExitNotification=D.ShutdownRequest=D.InitializedNotification=D.InitializeErrorCodes=D.InitializeRequest=D.WorkDoneProgressOptions=D.TextDocumentRegistrationOptions=D.StaticRegistrationOptions=D.PositionEncodingKind=D.FailureHandlingKind=D.ResourceOperationKind=D.UnregistrationRequest=D.RegistrationRequest=D.DocumentSelector=D.NotebookCellTextDocumentFilter=D.NotebookDocumentFilter=D.TextDocumentFilter=void 0;D.TypeHierarchySubtypesRequest=D.TypeHierarchyPrepareRequest=D.MonikerRequest=D.MonikerKind=D.UniquenessLevel=D.WillDeleteFilesRequest=D.DidDeleteFilesNotification=D.WillRenameFilesRequest=D.DidRenameFilesNotification=D.WillCreateFilesRequest=D.DidCreateFilesNotification=D.FileOperationPatternKind=D.LinkedEditingRangeRequest=D.ShowDocumentRequest=D.SemanticTokensRegistrationType=D.SemanticTokensRefreshRequest=D.SemanticTokensRangeRequest=D.SemanticTokensDeltaRequest=D.SemanticTokensRequest=D.TokenFormat=D.CallHierarchyPrepareRequest=D.CallHierarchyOutgoingCallsRequest=D.CallHierarchyIncomingCallsRequest=D.WorkDoneProgressCancelNotification=D.WorkDoneProgressCreateRequest=D.WorkDoneProgress=D.SelectionRangeRequest=D.DeclarationRequest=D.FoldingRangeRequest=D.ColorPresentationRequest=D.DocumentColorRequest=D.ConfigurationRequest=D.DidChangeWorkspaceFoldersNotification=D.WorkspaceFoldersRequest=D.TypeDefinitionRequest=D.ImplementationRequest=D.ApplyWorkspaceEditRequest=D.ExecuteCommandRequest=D.PrepareRenameRequest=D.RenameRequest=D.PrepareSupportDefaultBehavior=D.DocumentOnTypeFormattingRequest=D.DocumentRangeFormattingRequest=D.DocumentFormattingRequest=D.DocumentLinkResolveRequest=D.DocumentLinkRequest=D.CodeLensRefreshRequest=D.CodeLensResolveRequest=D.CodeLensRequest=D.WorkspaceSymbolResolveRequest=void 0;D.DidCloseNotebookDocumentNotification=D.DidSaveNotebookDocumentNotification=D.DidChangeNotebookDocumentNotification=D.NotebookCellArrayChange=D.DidOpenNotebookDocumentNotification=D.NotebookDocumentSyncRegistrationType=D.NotebookDocument=D.NotebookCell=D.ExecutionSummary=D.NotebookCellKind=D.DiagnosticRefreshRequest=D.WorkspaceDiagnosticRequest=D.DocumentDiagnosticRequest=D.DocumentDiagnosticReportKind=D.DiagnosticServerCancellationData=D.InlayHintRefreshRequest=D.InlayHintResolveRequest=D.InlayHintRequest=D.InlineValueRefreshRequest=D.InlineValueRequest=D.TypeHierarchySupertypesRequest=void 0;var xe=ft(),wu=di(),Pt=fi(),zg=Yc();Object.defineProperty(D,"ImplementationRequest",{enumerable:!0,get:function(){return zg.ImplementationRequest}});var Vg=Qc();Object.defineProperty(D,"TypeDefinitionRequest",{enumerable:!0,get:function(){return Vg.TypeDefinitionRequest}});var _u=Zc();Object.defineProperty(D,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return _u.WorkspaceFoldersRequest}});Object.defineProperty(D,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return _u.DidChangeWorkspaceFoldersNotification}});var Bg=eu();Object.defineProperty(D,"ConfigurationRequest",{enumerable:!0,get:function(){return Bg.ConfigurationRequest}});var Su=nu();Object.defineProperty(D,"DocumentColorRequest",{enumerable:!0,get:function(){return Su.DocumentColorRequest}});Object.defineProperty(D,"ColorPresentationRequest",{enumerable:!0,get:function(){return Su.ColorPresentationRequest}});var Gg=ru();Object.defineProperty(D,"FoldingRangeRequest",{enumerable:!0,get:function(){return Gg.FoldingRangeRequest}});var Xg=iu();Object.defineProperty(D,"DeclarationRequest",{enumerable:!0,get:function(){return Xg.DeclarationRequest}});var Yg=ou();Object.defineProperty(D,"SelectionRangeRequest",{enumerable:!0,get:function(){return Yg.SelectionRangeRequest}});var No=au();Object.defineProperty(D,"WorkDoneProgress",{enumerable:!0,get:function(){return No.WorkDoneProgress}});Object.defineProperty(D,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return No.WorkDoneProgressCreateRequest}});Object.defineProperty(D,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return No.WorkDoneProgressCancelNotification}});var Ao=cu();Object.defineProperty(D,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Ao.CallHierarchyIncomingCallsRequest}});Object.defineProperty(D,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Ao.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(D,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Ao.CallHierarchyPrepareRequest}});var er=uu();Object.defineProperty(D,"TokenFormat",{enumerable:!0,get:function(){return er.TokenFormat}});Object.defineProperty(D,"SemanticTokensRequest",{enumerable:!0,get:function(){return er.SemanticTokensRequest}});Object.defineProperty(D,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return er.SemanticTokensDeltaRequest}});Object.defineProperty(D,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return er.SemanticTokensRangeRequest}});Object.defineProperty(D,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return er.SemanticTokensRefreshRequest}});Object.defineProperty(D,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return er.SemanticTokensRegistrationType}});var Qg=lu();Object.defineProperty(D,"ShowDocumentRequest",{enumerable:!0,get:function(){return Qg.ShowDocumentRequest}});var Jg=du();Object.defineProperty(D,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return Jg.LinkedEditingRangeRequest}});var Mn=fu();Object.defineProperty(D,"FileOperationPatternKind",{enumerable:!0,get:function(){return Mn.FileOperationPatternKind}});Object.defineProperty(D,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Mn.DidCreateFilesNotification}});Object.defineProperty(D,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Mn.WillCreateFilesRequest}});Object.defineProperty(D,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Mn.DidRenameFilesNotification}});Object.defineProperty(D,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Mn.WillRenameFilesRequest}});Object.defineProperty(D,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Mn.DidDeleteFilesNotification}});Object.defineProperty(D,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Mn.WillDeleteFilesRequest}});var Lo=hu();Object.defineProperty(D,"UniquenessLevel",{enumerable:!0,get:function(){return Lo.UniquenessLevel}});Object.defineProperty(D,"MonikerKind",{enumerable:!0,get:function(){return Lo.MonikerKind}});Object.defineProperty(D,"MonikerRequest",{enumerable:!0,get:function(){return Lo.MonikerRequest}});var Mo=gu();Object.defineProperty(D,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return Mo.TypeHierarchyPrepareRequest}});Object.defineProperty(D,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return Mo.TypeHierarchySubtypesRequest}});Object.defineProperty(D,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return Mo.TypeHierarchySupertypesRequest}});var Tu=mu();Object.defineProperty(D,"InlineValueRequest",{enumerable:!0,get:function(){return Tu.InlineValueRequest}});Object.defineProperty(D,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return Tu.InlineValueRefreshRequest}});var Ho=yu();Object.defineProperty(D,"InlayHintRequest",{enumerable:!0,get:function(){return Ho.InlayHintRequest}});Object.defineProperty(D,"InlayHintResolveRequest",{enumerable:!0,get:function(){return Ho.InlayHintResolveRequest}});Object.defineProperty(D,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return Ho.InlayHintRefreshRequest}});var Er=Cu();Object.defineProperty(D,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return Er.DiagnosticServerCancellationData}});Object.defineProperty(D,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return Er.DocumentDiagnosticReportKind}});Object.defineProperty(D,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return Er.DocumentDiagnosticRequest}});Object.defineProperty(D,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return Er.WorkspaceDiagnosticRequest}});Object.defineProperty(D,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return Er.DiagnosticRefreshRequest}});var yn=Ru();Object.defineProperty(D,"NotebookCellKind",{enumerable:!0,get:function(){return yn.NotebookCellKind}});Object.defineProperty(D,"ExecutionSummary",{enumerable:!0,get:function(){return yn.ExecutionSummary}});Object.defineProperty(D,"NotebookCell",{enumerable:!0,get:function(){return yn.NotebookCell}});Object.defineProperty(D,"NotebookDocument",{enumerable:!0,get:function(){return yn.NotebookDocument}});Object.defineProperty(D,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return yn.NotebookDocumentSyncRegistrationType}});Object.defineProperty(D,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return yn.DidOpenNotebookDocumentNotification}});Object.defineProperty(D,"NotebookCellArrayChange",{enumerable:!0,get:function(){return yn.NotebookCellArrayChange}});Object.defineProperty(D,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return yn.DidChangeNotebookDocumentNotification}});Object.defineProperty(D,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return yn.DidSaveNotebookDocumentNotification}});Object.defineProperty(D,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return yn.DidCloseNotebookDocumentNotification}});var qu;(function(n){function e(t){let r=t;return Pt.string(r.language)||Pt.string(r.scheme)||Pt.string(r.pattern)}n.is=e})(qu=D.TextDocumentFilter||(D.TextDocumentFilter={}));var Pu;(function(n){function e(t){let r=t;return Pt.objectLiteral(r)&&(Pt.string(r.notebookType)||Pt.string(r.scheme)||Pt.string(r.pattern))}n.is=e})(Pu=D.NotebookDocumentFilter||(D.NotebookDocumentFilter={}));var Iu;(function(n){function e(t){let r=t;return Pt.objectLiteral(r)&&(Pt.string(r.notebook)||Pu.is(r.notebook))&&(r.language===void 0||Pt.string(r.language))}n.is=e})(Iu=D.NotebookCellTextDocumentFilter||(D.NotebookCellTextDocumentFilter={}));var Eu;(function(n){function e(t){if(!Array.isArray(t))return!1;for(let r of t)if(!Pt.string(r)&&!qu.is(r)&&!Iu.is(r))return!1;return!0}n.is=e})(Eu=D.DocumentSelector||(D.DocumentSelector={}));var Zg;(function(n){n.type=new xe.ProtocolRequestType("client/registerCapability")})(Zg=D.RegistrationRequest||(D.RegistrationRequest={}));var ep;(function(n){n.type=new xe.ProtocolRequestType("client/unregisterCapability")})(ep=D.UnregistrationRequest||(D.UnregistrationRequest={}));var tp;(function(n){n.Create="create",n.Rename="rename",n.Delete="delete"})(tp=D.ResourceOperationKind||(D.ResourceOperationKind={}));var np;(function(n){n.Abort="abort",n.Transactional="transactional",n.TextOnlyTransactional="textOnlyTransactional",n.Undo="undo"})(np=D.FailureHandlingKind||(D.FailureHandlingKind={}));var rp;(function(n){n.UTF8="utf-8",n.UTF16="utf-16",n.UTF32="utf-32"})(rp=D.PositionEncodingKind||(D.PositionEncodingKind={}));var ip;(function(n){function e(t){let r=t;return r&&Pt.string(r.id)&&r.id.length>0}n.hasId=e})(ip=D.StaticRegistrationOptions||(D.StaticRegistrationOptions={}));var op;(function(n){function e(t){let r=t;return r&&(r.documentSelector===null||Eu.is(r.documentSelector))}n.is=e})(op=D.TextDocumentRegistrationOptions||(D.TextDocumentRegistrationOptions={}));var sp;(function(n){function e(r){let i=r;return Pt.objectLiteral(i)&&(i.workDoneProgress===void 0||Pt.boolean(i.workDoneProgress))}n.is=e;function t(r){let i=r;return i&&Pt.boolean(i.workDoneProgress)}n.hasWorkDoneProgress=t})(sp=D.WorkDoneProgressOptions||(D.WorkDoneProgressOptions={}));var ap;(function(n){n.type=new xe.ProtocolRequestType("initialize")})(ap=D.InitializeRequest||(D.InitializeRequest={}));var cp;(function(n){n.unknownProtocolVersion=1})(cp=D.InitializeErrorCodes||(D.InitializeErrorCodes={}));var up;(function(n){n.type=new xe.ProtocolNotificationType("initialized")})(up=D.InitializedNotification||(D.InitializedNotification={}));var lp;(function(n){n.type=new xe.ProtocolRequestType0("shutdown")})(lp=D.ShutdownRequest||(D.ShutdownRequest={}));var dp;(function(n){n.type=new xe.ProtocolNotificationType0("exit")})(dp=D.ExitNotification||(D.ExitNotification={}));var fp;(function(n){n.type=new xe.ProtocolNotificationType("workspace/didChangeConfiguration")})(fp=D.DidChangeConfigurationNotification||(D.DidChangeConfigurationNotification={}));var hp;(function(n){n.Error=1,n.Warning=2,n.Info=3,n.Log=4})(hp=D.MessageType||(D.MessageType={}));var gp;(function(n){n.type=new xe.ProtocolNotificationType("window/showMessage")})(gp=D.ShowMessageNotification||(D.ShowMessageNotification={}));var pp;(function(n){n.type=new xe.ProtocolRequestType("window/showMessageRequest")})(pp=D.ShowMessageRequest||(D.ShowMessageRequest={}));var mp;(function(n){n.type=new xe.ProtocolNotificationType("window/logMessage")})(mp=D.LogMessageNotification||(D.LogMessageNotification={}));var yp;(function(n){n.type=new xe.ProtocolNotificationType("telemetry/event")})(yp=D.TelemetryEventNotification||(D.TelemetryEventNotification={}));var vp;(function(n){n.None=0,n.Full=1,n.Incremental=2})(vp=D.TextDocumentSyncKind||(D.TextDocumentSyncKind={}));var Cp;(function(n){n.method="textDocument/didOpen",n.type=new xe.ProtocolNotificationType(n.method)})(Cp=D.DidOpenTextDocumentNotification||(D.DidOpenTextDocumentNotification={}));var bp;(function(n){function e(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}n.isIncremental=e;function t(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}n.isFull=t})(bp=D.TextDocumentContentChangeEvent||(D.TextDocumentContentChangeEvent={}));var Dp;(function(n){n.method="textDocument/didChange",n.type=new xe.ProtocolNotificationType(n.method)})(Dp=D.DidChangeTextDocumentNotification||(D.DidChangeTextDocumentNotification={}));var Rp;(function(n){n.method="textDocument/didClose",n.type=new xe.ProtocolNotificationType(n.method)})(Rp=D.DidCloseTextDocumentNotification||(D.DidCloseTextDocumentNotification={}));var wp;(function(n){n.method="textDocument/didSave",n.type=new xe.ProtocolNotificationType(n.method)})(wp=D.DidSaveTextDocumentNotification||(D.DidSaveTextDocumentNotification={}));var _p;(function(n){n.Manual=1,n.AfterDelay=2,n.FocusOut=3})(_p=D.TextDocumentSaveReason||(D.TextDocumentSaveReason={}));var Sp;(function(n){n.method="textDocument/willSave",n.type=new xe.ProtocolNotificationType(n.method)})(Sp=D.WillSaveTextDocumentNotification||(D.WillSaveTextDocumentNotification={}));var Tp;(function(n){n.method="textDocument/willSaveWaitUntil",n.type=new xe.ProtocolRequestType(n.method)})(Tp=D.WillSaveTextDocumentWaitUntilRequest||(D.WillSaveTextDocumentWaitUntilRequest={}));var qp;(function(n){n.type=new xe.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(qp=D.DidChangeWatchedFilesNotification||(D.DidChangeWatchedFilesNotification={}));var Pp;(function(n){n.Created=1,n.Changed=2,n.Deleted=3})(Pp=D.FileChangeType||(D.FileChangeType={}));var Ip;(function(n){function e(t){let r=t;return Pt.objectLiteral(r)&&(wu.URI.is(r.baseUri)||wu.WorkspaceFolder.is(r.baseUri))&&Pt.string(r.pattern)}n.is=e})(Ip=D.RelativePattern||(D.RelativePattern={}));var Ep;(function(n){n.Create=1,n.Change=2,n.Delete=4})(Ep=D.WatchKind||(D.WatchKind={}));var kp;(function(n){n.type=new xe.ProtocolNotificationType("textDocument/publishDiagnostics")})(kp=D.PublishDiagnosticsNotification||(D.PublishDiagnosticsNotification={}));var xp;(function(n){n.Invoked=1,n.TriggerCharacter=2,n.TriggerForIncompleteCompletions=3})(xp=D.CompletionTriggerKind||(D.CompletionTriggerKind={}));var Op;(function(n){n.method="textDocument/completion",n.type=new xe.ProtocolRequestType(n.method)})(Op=D.CompletionRequest||(D.CompletionRequest={}));var Fp;(function(n){n.method="completionItem/resolve",n.type=new xe.ProtocolRequestType(n.method)})(Fp=D.CompletionResolveRequest||(D.CompletionResolveRequest={}));var Np;(function(n){n.method="textDocument/hover",n.type=new xe.ProtocolRequestType(n.method)})(Np=D.HoverRequest||(D.HoverRequest={}));var Ap;(function(n){n.Invoked=1,n.TriggerCharacter=2,n.ContentChange=3})(Ap=D.SignatureHelpTriggerKind||(D.SignatureHelpTriggerKind={}));var Lp;(function(n){n.method="textDocument/signatureHelp",n.type=new xe.ProtocolRequestType(n.method)})(Lp=D.SignatureHelpRequest||(D.SignatureHelpRequest={}));var Mp;(function(n){n.method="textDocument/definition",n.type=new xe.ProtocolRequestType(n.method)})(Mp=D.DefinitionRequest||(D.DefinitionRequest={}));var Hp;(function(n){n.method="textDocument/references",n.type=new xe.ProtocolRequestType(n.method)})(Hp=D.ReferencesRequest||(D.ReferencesRequest={}));var jp;(function(n){n.method="textDocument/documentHighlight",n.type=new xe.ProtocolRequestType(n.method)})(jp=D.DocumentHighlightRequest||(D.DocumentHighlightRequest={}));var Up;(function(n){n.method="textDocument/documentSymbol",n.type=new xe.ProtocolRequestType(n.method)})(Up=D.DocumentSymbolRequest||(D.DocumentSymbolRequest={}));var $p;(function(n){n.method="textDocument/codeAction",n.type=new xe.ProtocolRequestType(n.method)})($p=D.CodeActionRequest||(D.CodeActionRequest={}));var Wp;(function(n){n.method="codeAction/resolve",n.type=new xe.ProtocolRequestType(n.method)})(Wp=D.CodeActionResolveRequest||(D.CodeActionResolveRequest={}));var Kp;(function(n){n.method="workspace/symbol",n.type=new xe.ProtocolRequestType(n.method)})(Kp=D.WorkspaceSymbolRequest||(D.WorkspaceSymbolRequest={}));var zp;(function(n){n.method="workspaceSymbol/resolve",n.type=new xe.ProtocolRequestType(n.method)})(zp=D.WorkspaceSymbolResolveRequest||(D.WorkspaceSymbolResolveRequest={}));var Vp;(function(n){n.method="textDocument/codeLens",n.type=new xe.ProtocolRequestType(n.method)})(Vp=D.CodeLensRequest||(D.CodeLensRequest={}));var Bp;(function(n){n.method="codeLens/resolve",n.type=new xe.ProtocolRequestType(n.method)})(Bp=D.CodeLensResolveRequest||(D.CodeLensResolveRequest={}));var Gp;(function(n){n.method="workspace/codeLens/refresh",n.type=new xe.ProtocolRequestType0(n.method)})(Gp=D.CodeLensRefreshRequest||(D.CodeLensRefreshRequest={}));var Xp;(function(n){n.method="textDocument/documentLink",n.type=new xe.ProtocolRequestType(n.method)})(Xp=D.DocumentLinkRequest||(D.DocumentLinkRequest={}));var Yp;(function(n){n.method="documentLink/resolve",n.type=new xe.ProtocolRequestType(n.method)})(Yp=D.DocumentLinkResolveRequest||(D.DocumentLinkResolveRequest={}));var Qp;(function(n){n.method="textDocument/formatting",n.type=new xe.ProtocolRequestType(n.method)})(Qp=D.DocumentFormattingRequest||(D.DocumentFormattingRequest={}));var Jp;(function(n){n.method="textDocument/rangeFormatting",n.type=new xe.ProtocolRequestType(n.method)})(Jp=D.DocumentRangeFormattingRequest||(D.DocumentRangeFormattingRequest={}));var Zp;(function(n){n.method="textDocument/onTypeFormatting",n.type=new xe.ProtocolRequestType(n.method)})(Zp=D.DocumentOnTypeFormattingRequest||(D.DocumentOnTypeFormattingRequest={}));var em;(function(n){n.Identifier=1})(em=D.PrepareSupportDefaultBehavior||(D.PrepareSupportDefaultBehavior={}));var tm;(function(n){n.method="textDocument/rename",n.type=new xe.ProtocolRequestType(n.method)})(tm=D.RenameRequest||(D.RenameRequest={}));var nm;(function(n){n.method="textDocument/prepareRename",n.type=new xe.ProtocolRequestType(n.method)})(nm=D.PrepareRenameRequest||(D.PrepareRenameRequest={}));var rm;(function(n){n.type=new xe.ProtocolRequestType("workspace/executeCommand")})(rm=D.ExecuteCommandRequest||(D.ExecuteCommandRequest={}));var im;(function(n){n.type=new xe.ProtocolRequestType("workspace/applyEdit")})(im=D.ApplyWorkspaceEditRequest||(D.ApplyWorkspaceEditRequest={}))});var Ou=ee(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.createProtocolConnection=void 0;var xu=require("vscode-jsonrpc");function om(n,e,t,r){return xu.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,xu.createMessageConnection)(n,e,t,r)}hi.createProtocolConnection=om});var Fu=ee(Ft=>{"use strict";var sm=Ft&&Ft.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),gi=Ft&&Ft.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&sm(e,n,t)};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.LSPErrorCodes=Ft.createProtocolConnection=void 0;gi(require("vscode-jsonrpc"),Ft);gi(di(),Ft);gi(ft(),Ft);gi(ku(),Ft);var am=Ou();Object.defineProperty(Ft,"createProtocolConnection",{enumerable:!0,get:function(){return am.createProtocolConnection}});var cm;(function(n){n.lspReservedErrorRangeStart=-32899,n.RequestFailed=-32803,n.ServerCancelled=-32802,n.ContentModified=-32801,n.RequestCancelled=-32800,n.lspReservedErrorRangeEnd=-32800})(cm=Ft.LSPErrorCodes||(Ft.LSPErrorCodes={}))});var ke=ee(vn=>{"use strict";var um=vn&&vn.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Nu=vn&&vn.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&um(e,n,t)};Object.defineProperty(vn,"__esModule",{value:!0});vn.createProtocolConnection=void 0;var lm=require("vscode-jsonrpc/node");Nu(require("vscode-jsonrpc/node"),vn);Nu(Fu(),vn);function dm(n,e,t,r){return(0,lm.createMessageConnection)(n,e,t,r)}vn.createProtocolConnection=dm});var kr=ee((PR,Au)=>{var fm="2.0.0",hm=Number.MAX_SAFE_INTEGER||9007199254740991,gm=16,pm=256-6,mm=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Au.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:gm,MAX_SAFE_BUILD_LENGTH:pm,MAX_SAFE_INTEGER:hm,RELEASE_TYPES:mm,SEMVER_SPEC_VERSION:fm,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var xr=ee((IR,Lu)=>{var ym=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{};Lu.exports=ym});var tr=ee((Dn,Mu)=>{var{MAX_SAFE_COMPONENT_LENGTH:pi,MAX_SAFE_BUILD_LENGTH:vm}=kr(),Cm=xr();Dn=Mu.exports={};var bm=Dn.re=[],Dm=Dn.safeRe=[],_e=Dn.src=[],Se=Dn.t={},Rm=0,jo="[a-zA-Z0-9-]",wm=[["\\s",1],["\\d",pi],[jo,vm]],_m=n=>{for(let[e,t]of wm)n=n.split(`${e}*`).join(`${e}{0,${t}}`).split(`${e}+`).join(`${e}{1,${t}}`);return n},Le=(n,e,t)=>{let r=_m(e),i=Rm++;Cm(n,i,e),Se[n]=i,_e[i]=e,bm[i]=new RegExp(e,t?"g":void 0),Dm[i]=new RegExp(r,t?"g":void 0)};Le("NUMERICIDENTIFIER","0|[1-9]\\d*");Le("NUMERICIDENTIFIERLOOSE","\\d+");Le("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${jo}*`);Le("MAINVERSION",`(${_e[Se.NUMERICIDENTIFIER]})\\.(${_e[Se.NUMERICIDENTIFIER]})\\.(${_e[Se.NUMERICIDENTIFIER]})`);Le("MAINVERSIONLOOSE",`(${_e[Se.NUMERICIDENTIFIERLOOSE]})\\.(${_e[Se.NUMERICIDENTIFIERLOOSE]})\\.(${_e[Se.NUMERICIDENTIFIERLOOSE]})`);Le("PRERELEASEIDENTIFIER",`(?:${_e[Se.NUMERICIDENTIFIER]}|${_e[Se.NONNUMERICIDENTIFIER]})`);Le("PRERELEASEIDENTIFIERLOOSE",`(?:${_e[Se.NUMERICIDENTIFIERLOOSE]}|${_e[Se.NONNUMERICIDENTIFIER]})`);Le("PRERELEASE",`(?:-(${_e[Se.PRERELEASEIDENTIFIER]}(?:\\.${_e[Se.PRERELEASEIDENTIFIER]})*))`);Le("PRERELEASELOOSE",`(?:-?(${_e[Se.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${_e[Se.PRERELEASEIDENTIFIERLOOSE]})*))`);Le("BUILDIDENTIFIER",`${jo}+`);Le("BUILD",`(?:\\+(${_e[Se.BUILDIDENTIFIER]}(?:\\.${_e[Se.BUILDIDENTIFIER]})*))`);Le("FULLPLAIN",`v?${_e[Se.MAINVERSION]}${_e[Se.PRERELEASE]}?${_e[Se.BUILD]}?`);Le("FULL",`^${_e[Se.FULLPLAIN]}$`);Le("LOOSEPLAIN",`[v=\\s]*${_e[Se.MAINVERSIONLOOSE]}${_e[Se.PRERELEASELOOSE]}?${_e[Se.BUILD]}?`);Le("LOOSE",`^${_e[Se.LOOSEPLAIN]}$`);Le("GTLT","((?:<|>)?=?)");Le("XRANGEIDENTIFIERLOOSE",`${_e[Se.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Le("XRANGEIDENTIFIER",`${_e[Se.NUMERICIDENTIFIER]}|x|X|\\*`);Le("XRANGEPLAIN",`[v=\\s]*(${_e[Se.XRANGEIDENTIFIER]})(?:\\.(${_e[Se.XRANGEIDENTIFIER]})(?:\\.(${_e[Se.XRANGEIDENTIFIER]})(?:${_e[Se.PRERELEASE]})?${_e[Se.BUILD]}?)?)?`);Le("XRANGEPLAINLOOSE",`[v=\\s]*(${_e[Se.XRANGEIDENTIFIERLOOSE]})(?:\\.(${_e[Se.XRANGEIDENTIFIERLOOSE]})(?:\\.(${_e[Se.XRANGEIDENTIFIERLOOSE]})(?:${_e[Se.PRERELEASELOOSE]})?${_e[Se.BUILD]}?)?)?`);Le("XRANGE",`^${_e[Se.GTLT]}\\s*${_e[Se.XRANGEPLAIN]}$`);Le("XRANGELOOSE",`^${_e[Se.GTLT]}\\s*${_e[Se.XRANGEPLAINLOOSE]}$`);Le("COERCE",`(^|[^\\d])(\\d{1,${pi}})(?:\\.(\\d{1,${pi}}))?(?:\\.(\\d{1,${pi}}))?(?:$|[^\\d])`);Le("COERCERTL",_e[Se.COERCE],!0);Le("LONETILDE","(?:~>?)");Le("TILDETRIM",`(\\s*)${_e[Se.LONETILDE]}\\s+`,!0);Dn.tildeTrimReplace="$1~";Le("TILDE",`^${_e[Se.LONETILDE]}${_e[Se.XRANGEPLAIN]}$`);Le("TILDELOOSE",`^${_e[Se.LONETILDE]}${_e[Se.XRANGEPLAINLOOSE]}$`);Le("LONECARET","(?:\\^)");Le("CARETTRIM",`(\\s*)${_e[Se.LONECARET]}\\s+`,!0);Dn.caretTrimReplace="$1^";Le("CARET",`^${_e[Se.LONECARET]}${_e[Se.XRANGEPLAIN]}$`);Le("CARETLOOSE",`^${_e[Se.LONECARET]}${_e[Se.XRANGEPLAINLOOSE]}$`);Le("COMPARATORLOOSE",`^${_e[Se.GTLT]}\\s*(${_e[Se.LOOSEPLAIN]})$|^$`);Le("COMPARATOR",`^${_e[Se.GTLT]}\\s*(${_e[Se.FULLPLAIN]})$|^$`);Le("COMPARATORTRIM",`(\\s*)${_e[Se.GTLT]}\\s*(${_e[Se.LOOSEPLAIN]}|${_e[Se.XRANGEPLAIN]})`,!0);Dn.comparatorTrimReplace="$1$2$3";Le("HYPHENRANGE",`^\\s*(${_e[Se.XRANGEPLAIN]})\\s+-\\s+(${_e[Se.XRANGEPLAIN]})\\s*$`);Le("HYPHENRANGELOOSE",`^\\s*(${_e[Se.XRANGEPLAINLOOSE]})\\s+-\\s+(${_e[Se.XRANGEPLAINLOOSE]})\\s*$`);Le("STAR","(<|>)?=?\\s*\\*");Le("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Le("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var mi=ee((ER,Hu)=>{var Sm=Object.freeze({loose:!0}),Tm=Object.freeze({}),qm=n=>n?typeof n!="object"?Sm:n:Tm;Hu.exports=qm});var Uo=ee((kR,$u)=>{var ju=/^[0-9]+$/,Uu=(n,e)=>{let t=ju.test(n),r=ju.test(e);return t&&r&&(n=+n,e=+e),n===e?0:t&&!r?-1:r&&!t?1:n<e?-1:1},Pm=(n,e)=>Uu(e,n);$u.exports={compareIdentifiers:Uu,rcompareIdentifiers:Pm}});var kt=ee((xR,Vu)=>{var yi=xr(),{MAX_LENGTH:Wu,MAX_SAFE_INTEGER:vi}=kr(),{safeRe:Ku,t:zu}=tr(),Im=mi(),{compareIdentifiers:nr}=Uo(),$o=class n{constructor(e,t){if(t=Im(t),e instanceof n){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Wu)throw new TypeError(`version is longer than ${Wu} characters`);yi("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let r=e.trim().match(t.loose?Ku[zu.LOOSE]:Ku[zu.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>vi||this.major<0)throw new TypeError("Invalid major version");if(this.minor>vi||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>vi||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<vi)return o}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(yi("SemVer.compare",this.version,this.options,e),!(e instanceof n)){if(typeof e=="string"&&e===this.version)return 0;e=new n(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof n||(e=new n(e,this.options)),nr(this.major,e.major)||nr(this.minor,e.minor)||nr(this.patch,e.patch)}comparePre(e){if(e instanceof n||(e=new n(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let r=this.prerelease[t],i=e.prerelease[t];if(yi("prerelease compare",t,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return nr(r,i)}while(++t)}compareBuild(e){e instanceof n||(e=new n(e,this.options));let t=0;do{let r=this.build[t],i=e.build[t];if(yi("prerelease compare",t,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return nr(r,i)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(r)?1:0;if(!t&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(t===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(t){let o=[t,i];r===!1&&(o=[t]),nr(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Vu.exports=$o});var Hn=ee((OR,Gu)=>{var Bu=kt(),Em=(n,e,t=!1)=>{if(n instanceof Bu)return n;try{return new Bu(n,e)}catch(r){if(!t)return null;throw r}};Gu.exports=Em});var Yu=ee((FR,Xu)=>{var km=Hn(),xm=(n,e)=>{let t=km(n,e);return t?t.version:null};Xu.exports=xm});var Ju=ee((NR,Qu)=>{var Om=Hn(),Fm=(n,e)=>{let t=Om(n.trim().replace(/^[=v]+/,""),e);return t?t.version:null};Qu.exports=Fm});var tl=ee((AR,el)=>{var Zu=kt(),Nm=(n,e,t,r,i)=>{typeof t=="string"&&(i=r,r=t,t=void 0);try{return new Zu(n instanceof Zu?n.version:n,t).inc(e,r,i).version}catch{return null}};el.exports=Nm});var il=ee((LR,rl)=>{var nl=Hn(),Am=(n,e)=>{let t=nl(n,null,!0),r=nl(e,null,!0),i=t.compare(r);if(i===0)return null;let o=i>0,a=o?t:r,l=o?r:t,f=!!a.prerelease.length;if(!!l.prerelease.length&&!f)return!l.patch&&!l.minor?"major":a.patch?"patch":a.minor?"minor":"major";let b=f?"pre":"";return t.major!==r.major?b+"major":t.minor!==r.minor?b+"minor":t.patch!==r.patch?b+"patch":"prerelease"};rl.exports=Am});var sl=ee((MR,ol)=>{var Lm=kt(),Mm=(n,e)=>new Lm(n,e).major;ol.exports=Mm});var cl=ee((HR,al)=>{var Hm=kt(),jm=(n,e)=>new Hm(n,e).minor;al.exports=jm});var ll=ee((jR,ul)=>{var Um=kt(),$m=(n,e)=>new Um(n,e).patch;ul.exports=$m});var fl=ee((UR,dl)=>{var Wm=Hn(),Km=(n,e)=>{let t=Wm(n,e);return t&&t.prerelease.length?t.prerelease:null};dl.exports=Km});var Yt=ee(($R,gl)=>{var hl=kt(),zm=(n,e,t)=>new hl(n,t).compare(new hl(e,t));gl.exports=zm});var ml=ee((WR,pl)=>{var Vm=Yt(),Bm=(n,e,t)=>Vm(e,n,t);pl.exports=Bm});var vl=ee((KR,yl)=>{var Gm=Yt(),Xm=(n,e)=>Gm(n,e,!0);yl.exports=Xm});var Ci=ee((zR,bl)=>{var Cl=kt(),Ym=(n,e,t)=>{let r=new Cl(n,t),i=new Cl(e,t);return r.compare(i)||r.compareBuild(i)};bl.exports=Ym});var Rl=ee((VR,Dl)=>{var Qm=Ci(),Jm=(n,e)=>n.sort((t,r)=>Qm(t,r,e));Dl.exports=Jm});var _l=ee((BR,wl)=>{var Zm=Ci(),ey=(n,e)=>n.sort((t,r)=>Zm(r,t,e));wl.exports=ey});var Or=ee((GR,Sl)=>{var ty=Yt(),ny=(n,e,t)=>ty(n,e,t)>0;Sl.exports=ny});var bi=ee((XR,Tl)=>{var ry=Yt(),iy=(n,e,t)=>ry(n,e,t)<0;Tl.exports=iy});var Wo=ee((YR,ql)=>{var oy=Yt(),sy=(n,e,t)=>oy(n,e,t)===0;ql.exports=sy});var Ko=ee((QR,Pl)=>{var ay=Yt(),cy=(n,e,t)=>ay(n,e,t)!==0;Pl.exports=cy});var Di=ee((JR,Il)=>{var uy=Yt(),ly=(n,e,t)=>uy(n,e,t)>=0;Il.exports=ly});var Ri=ee((ZR,El)=>{var dy=Yt(),fy=(n,e,t)=>dy(n,e,t)<=0;El.exports=fy});var zo=ee((ew,kl)=>{var hy=Wo(),gy=Ko(),py=Or(),my=Di(),yy=bi(),vy=Ri(),Cy=(n,e,t,r)=>{switch(e){case"===":return typeof n=="object"&&(n=n.version),typeof t=="object"&&(t=t.version),n===t;case"!==":return typeof n=="object"&&(n=n.version),typeof t=="object"&&(t=t.version),n!==t;case"":case"=":case"==":return hy(n,t,r);case"!=":return gy(n,t,r);case">":return py(n,t,r);case">=":return my(n,t,r);case"<":return yy(n,t,r);case"<=":return vy(n,t,r);default:throw new TypeError(`Invalid operator: ${e}`)}};kl.exports=Cy});var Ol=ee((tw,xl)=>{var by=kt(),Dy=Hn(),{safeRe:wi,t:_i}=tr(),Ry=(n,e)=>{if(n instanceof by)return n;if(typeof n=="number"&&(n=String(n)),typeof n!="string")return null;e=e||{};let t=null;if(!e.rtl)t=n.match(wi[_i.COERCE]);else{let r;for(;(r=wi[_i.COERCERTL].exec(n))&&(!t||t.index+t[0].length!==n.length);)(!t||r.index+r[0].length!==t.index+t[0].length)&&(t=r),wi[_i.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;wi[_i.COERCERTL].lastIndex=-1}return t===null?null:Dy(`${t[2]}.${t[3]||"0"}.${t[4]||"0"}`,e)};xl.exports=Ry});var Nl=ee((nw,Fl)=>{"use strict";Fl.exports=function(n){n.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var Ll=ee((rw,Al)=>{"use strict";Al.exports=Je;Je.Node=jn;Je.create=Je;function Je(n){var e=this;if(e instanceof Je||(e=new Je),e.tail=null,e.head=null,e.length=0,n&&typeof n.forEach=="function")n.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var t=0,r=arguments.length;t<r;t++)e.push(arguments[t]);return e}Je.prototype.removeNode=function(n){if(n.list!==this)throw new Error("removing node which does not belong to this list");var e=n.next,t=n.prev;return e&&(e.prev=t),t&&(t.next=e),n===this.head&&(this.head=e),n===this.tail&&(this.tail=t),n.list.length--,n.next=null,n.prev=null,n.list=null,e};Je.prototype.unshiftNode=function(n){if(n!==this.head){n.list&&n.list.removeNode(n);var e=this.head;n.list=this,n.next=e,e&&(e.prev=n),this.head=n,this.tail||(this.tail=n),this.length++}};Je.prototype.pushNode=function(n){if(n!==this.tail){n.list&&n.list.removeNode(n);var e=this.tail;n.list=this,n.prev=e,e&&(e.next=n),this.tail=n,this.head||(this.head=n),this.length++}};Je.prototype.push=function(){for(var n=0,e=arguments.length;n<e;n++)_y(this,arguments[n]);return this.length};Je.prototype.unshift=function(){for(var n=0,e=arguments.length;n<e;n++)Sy(this,arguments[n]);return this.length};Je.prototype.pop=function(){if(this.tail){var n=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,n}};Je.prototype.shift=function(){if(this.head){var n=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,n}};Je.prototype.forEach=function(n,e){e=e||this;for(var t=this.head,r=0;t!==null;r++)n.call(e,t.value,r,this),t=t.next};Je.prototype.forEachReverse=function(n,e){e=e||this;for(var t=this.tail,r=this.length-1;t!==null;r--)n.call(e,t.value,r,this),t=t.prev};Je.prototype.get=function(n){for(var e=0,t=this.head;t!==null&&e<n;e++)t=t.next;if(e===n&&t!==null)return t.value};Je.prototype.getReverse=function(n){for(var e=0,t=this.tail;t!==null&&e<n;e++)t=t.prev;if(e===n&&t!==null)return t.value};Je.prototype.map=function(n,e){e=e||this;for(var t=new Je,r=this.head;r!==null;)t.push(n.call(e,r.value,this)),r=r.next;return t};Je.prototype.mapReverse=function(n,e){e=e||this;for(var t=new Je,r=this.tail;r!==null;)t.push(n.call(e,r.value,this)),r=r.prev;return t};Je.prototype.reduce=function(n,e){var t,r=this.head;if(arguments.length>1)t=e;else if(this.head)r=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)t=n(t,r.value,i),r=r.next;return t};Je.prototype.reduceReverse=function(n,e){var t,r=this.tail;if(arguments.length>1)t=e;else if(this.tail)r=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)t=n(t,r.value,i),r=r.prev;return t};Je.prototype.toArray=function(){for(var n=new Array(this.length),e=0,t=this.head;t!==null;e++)n[e]=t.value,t=t.next;return n};Je.prototype.toArrayReverse=function(){for(var n=new Array(this.length),e=0,t=this.tail;t!==null;e++)n[e]=t.value,t=t.prev;return n};Je.prototype.slice=function(n,e){e=e||this.length,e<0&&(e+=this.length),n=n||0,n<0&&(n+=this.length);var t=new Je;if(e<n||e<0)return t;n<0&&(n=0),e>this.length&&(e=this.length);for(var r=0,i=this.head;i!==null&&r<n;r++)i=i.next;for(;i!==null&&r<e;r++,i=i.next)t.push(i.value);return t};Je.prototype.sliceReverse=function(n,e){e=e||this.length,e<0&&(e+=this.length),n=n||0,n<0&&(n+=this.length);var t=new Je;if(e<n||e<0)return t;n<0&&(n=0),e>this.length&&(e=this.length);for(var r=this.length,i=this.tail;i!==null&&r>e;r--)i=i.prev;for(;i!==null&&r>n;r--,i=i.prev)t.push(i.value);return t};Je.prototype.splice=function(n,e,...t){n>this.length&&(n=this.length-1),n<0&&(n=this.length+n);for(var r=0,i=this.head;i!==null&&r<n;r++)i=i.next;for(var o=[],r=0;i&&r<e;r++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<t.length;r++)i=wy(this,i,t[r]);return o};Je.prototype.reverse=function(){for(var n=this.head,e=this.tail,t=n;t!==null;t=t.prev){var r=t.prev;t.prev=t.next,t.next=r}return this.head=e,this.tail=n,this};function wy(n,e,t){var r=e===n.head?new jn(t,null,e,n):new jn(t,e,e.next,n);return r.next===null&&(n.tail=r),r.prev===null&&(n.head=r),n.length++,r}function _y(n,e){n.tail=new jn(e,n.tail,null,n),n.head||(n.head=n.tail),n.length++}function Sy(n,e){n.head=new jn(e,null,n.head,n),n.tail||(n.tail=n.head),n.length++}function jn(n,e,t,r){if(!(this instanceof jn))return new jn(n,e,t,r);this.list=r,this.value=n,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{Nl()(Je)}catch{}});var $l=ee((iw,Ul)=>{"use strict";var Ty=Ll(),Un=Symbol("max"),wn=Symbol("length"),rr=Symbol("lengthCalculator"),Nr=Symbol("allowStale"),$n=Symbol("maxAge"),Rn=Symbol("dispose"),Ml=Symbol("noDisposeOnSet"),St=Symbol("lruList"),hn=Symbol("cache"),jl=Symbol("updateAgeOnGet"),Vo=()=>1,Go=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let t=this[Un]=e.max||1/0,r=e.length||Vo;if(this[rr]=typeof r!="function"?Vo:r,this[Nr]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[$n]=e.maxAge||0,this[Rn]=e.dispose,this[Ml]=e.noDisposeOnSet||!1,this[jl]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Un]=e||1/0,Fr(this)}get max(){return this[Un]}set allowStale(e){this[Nr]=!!e}get allowStale(){return this[Nr]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[$n]=e,Fr(this)}get maxAge(){return this[$n]}set lengthCalculator(e){typeof e!="function"&&(e=Vo),e!==this[rr]&&(this[rr]=e,this[wn]=0,this[St].forEach(t=>{t.length=this[rr](t.value,t.key),this[wn]+=t.length})),Fr(this)}get lengthCalculator(){return this[rr]}get length(){return this[wn]}get itemCount(){return this[St].length}rforEach(e,t){t=t||this;for(let r=this[St].tail;r!==null;){let i=r.prev;Hl(this,e,r,t),r=i}}forEach(e,t){t=t||this;for(let r=this[St].head;r!==null;){let i=r.next;Hl(this,e,r,t),r=i}}keys(){return this[St].toArray().map(e=>e.key)}values(){return this[St].toArray().map(e=>e.value)}reset(){this[Rn]&&this[St]&&this[St].length&&this[St].forEach(e=>this[Rn](e.key,e.value)),this[hn]=new Map,this[St]=new Ty,this[wn]=0}dump(){return this[St].map(e=>Si(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[St]}set(e,t,r){if(r=r||this[$n],r&&typeof r!="number")throw new TypeError("maxAge must be a number");let i=r?Date.now():0,o=this[rr](t,e);if(this[hn].has(e)){if(o>this[Un])return ir(this,this[hn].get(e)),!1;let f=this[hn].get(e).value;return this[Rn]&&(this[Ml]||this[Rn](e,f.value)),f.now=i,f.maxAge=r,f.value=t,this[wn]+=o-f.length,f.length=o,this.get(e),Fr(this),!0}let a=new Xo(e,t,o,i,r);return a.length>this[Un]?(this[Rn]&&this[Rn](e,t),!1):(this[wn]+=a.length,this[St].unshift(a),this[hn].set(e,this[St].head),Fr(this),!0)}has(e){if(!this[hn].has(e))return!1;let t=this[hn].get(e).value;return!Si(this,t)}get(e){return Bo(this,e,!0)}peek(e){return Bo(this,e,!1)}pop(){let e=this[St].tail;return e?(ir(this,e),e.value):null}del(e){ir(this,this[hn].get(e))}load(e){this.reset();let t=Date.now();for(let r=e.length-1;r>=0;r--){let i=e[r],o=i.e||0;if(o===0)this.set(i.k,i.v);else{let a=o-t;a>0&&this.set(i.k,i.v,a)}}}prune(){this[hn].forEach((e,t)=>Bo(this,t,!1))}},Bo=(n,e,t)=>{let r=n[hn].get(e);if(r){let i=r.value;if(Si(n,i)){if(ir(n,r),!n[Nr])return}else t&&(n[jl]&&(r.value.now=Date.now()),n[St].unshiftNode(r));return i.value}},Si=(n,e)=>{if(!e||!e.maxAge&&!n[$n])return!1;let t=Date.now()-e.now;return e.maxAge?t>e.maxAge:n[$n]&&t>n[$n]},Fr=n=>{if(n[wn]>n[Un])for(let e=n[St].tail;n[wn]>n[Un]&&e!==null;){let t=e.prev;ir(n,e),e=t}},ir=(n,e)=>{if(e){let t=e.value;n[Rn]&&n[Rn](t.key,t.value),n[wn]-=t.length,n[hn].delete(t.key),n[St].removeNode(e)}},Xo=class{constructor(e,t,r,i,o){this.key=e,this.value=t,this.length=r,this.now=i,this.maxAge=o||0}},Hl=(n,e,t,r)=>{let i=t.value;Si(n,i)&&(ir(n,t),n[Nr]||(i=void 0)),i&&e.call(r,i.value,i.key,n)};Ul.exports=Go});var Qt=ee((ow,Vl)=>{var Yo=class n{constructor(e,t){if(t=Py(t),e instanceof n)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new n(e.raw,t);if(e instanceof Qo)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(r=>this.parseRange(r)).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(i=>!Kl(i[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&Ny(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let r=((this.options.includePrerelease&&Oy)|(this.options.loose&&Fy))+":"+e,i=Wl.get(r);if(i)return i;let o=this.options.loose,a=o?Ut[Nt.HYPHENRANGELOOSE]:Ut[Nt.HYPHENRANGE];e=e.replace(a,zy(this.options.includePrerelease)),ut("hyphen replace",e),e=e.replace(Ut[Nt.COMPARATORTRIM],Ey),ut("comparator trim",e),e=e.replace(Ut[Nt.TILDETRIM],ky),ut("tilde trim",e),e=e.replace(Ut[Nt.CARETTRIM],xy),ut("caret trim",e);let l=e.split(" ").map(S=>Ay(S,this.options)).join(" ").split(/\s+/).map(S=>Ky(S,this.options));o&&(l=l.filter(S=>(ut("loose invalid filter",S,this.options),!!S.match(Ut[Nt.COMPARATORLOOSE])))),ut("range list",l);let f=new Map,g=l.map(S=>new Qo(S,this.options));for(let S of g){if(Kl(S))return[S];f.set(S.value,S)}f.size>1&&f.has("")&&f.delete("");let b=[...f.values()];return Wl.set(r,b),b}intersects(e,t){if(!(e instanceof n))throw new TypeError("a Range is required");return this.set.some(r=>zl(r,t)&&e.set.some(i=>zl(i,t)&&r.every(o=>i.every(a=>o.intersects(a,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Iy(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(Vy(this.set[t],e,this.options))return!0;return!1}};Vl.exports=Yo;var qy=$l(),Wl=new qy({max:1e3}),Py=mi(),Qo=Ar(),ut=xr(),Iy=kt(),{safeRe:Ut,t:Nt,comparatorTrimReplace:Ey,tildeTrimReplace:ky,caretTrimReplace:xy}=tr(),{FLAG_INCLUDE_PRERELEASE:Oy,FLAG_LOOSE:Fy}=kr(),Kl=n=>n.value==="<0.0.0-0",Ny=n=>n.value==="",zl=(n,e)=>{let t=!0,r=n.slice(),i=r.pop();for(;t&&r.length;)t=r.every(o=>i.intersects(o,e)),i=r.pop();return t},Ay=(n,e)=>(ut("comp",n,e),n=Hy(n,e),ut("caret",n),n=Ly(n,e),ut("tildes",n),n=Uy(n,e),ut("xrange",n),n=Wy(n,e),ut("stars",n),n),At=n=>!n||n.toLowerCase()==="x"||n==="*",Ly=(n,e)=>n.trim().split(/\s+/).map(t=>My(t,e)).join(" "),My=(n,e)=>{let t=e.loose?Ut[Nt.TILDELOOSE]:Ut[Nt.TILDE];return n.replace(t,(r,i,o,a,l)=>{ut("tilde",n,r,i,o,a,l);let f;return At(i)?f="":At(o)?f=`>=${i}.0.0 <${+i+1}.0.0-0`:At(a)?f=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:l?(ut("replaceTilde pr",l),f=`>=${i}.${o}.${a}-${l} <${i}.${+o+1}.0-0`):f=`>=${i}.${o}.${a} <${i}.${+o+1}.0-0`,ut("tilde return",f),f})},Hy=(n,e)=>n.trim().split(/\s+/).map(t=>jy(t,e)).join(" "),jy=(n,e)=>{ut("caret",n,e);let t=e.loose?Ut[Nt.CARETLOOSE]:Ut[Nt.CARET],r=e.includePrerelease?"-0":"";return n.replace(t,(i,o,a,l,f)=>{ut("caret",n,i,o,a,l,f);let g;return At(o)?g="":At(a)?g=`>=${o}.0.0${r} <${+o+1}.0.0-0`:At(l)?o==="0"?g=`>=${o}.${a}.0${r} <${o}.${+a+1}.0-0`:g=`>=${o}.${a}.0${r} <${+o+1}.0.0-0`:f?(ut("replaceCaret pr",f),o==="0"?a==="0"?g=`>=${o}.${a}.${l}-${f} <${o}.${a}.${+l+1}-0`:g=`>=${o}.${a}.${l}-${f} <${o}.${+a+1}.0-0`:g=`>=${o}.${a}.${l}-${f} <${+o+1}.0.0-0`):(ut("no pr"),o==="0"?a==="0"?g=`>=${o}.${a}.${l}${r} <${o}.${a}.${+l+1}-0`:g=`>=${o}.${a}.${l}${r} <${o}.${+a+1}.0-0`:g=`>=${o}.${a}.${l} <${+o+1}.0.0-0`),ut("caret return",g),g})},Uy=(n,e)=>(ut("replaceXRanges",n,e),n.split(/\s+/).map(t=>$y(t,e)).join(" ")),$y=(n,e)=>{n=n.trim();let t=e.loose?Ut[Nt.XRANGELOOSE]:Ut[Nt.XRANGE];return n.replace(t,(r,i,o,a,l,f)=>{ut("xRange",n,r,i,o,a,l,f);let g=At(o),b=g||At(a),S=b||At(l),v=S;return i==="="&&v&&(i=""),f=e.includePrerelease?"-0":"",g?i===">"||i==="<"?r="<0.0.0-0":r="*":i&&v?(b&&(a=0),l=0,i===">"?(i=">=",b?(o=+o+1,a=0,l=0):(a=+a+1,l=0)):i==="<="&&(i="<",b?o=+o+1:a=+a+1),i==="<"&&(f="-0"),r=`${i+o}.${a}.${l}${f}`):b?r=`>=${o}.0.0${f} <${+o+1}.0.0-0`:S&&(r=`>=${o}.${a}.0${f} <${o}.${+a+1}.0-0`),ut("xRange return",r),r})},Wy=(n,e)=>(ut("replaceStars",n,e),n.trim().replace(Ut[Nt.STAR],"")),Ky=(n,e)=>(ut("replaceGTE0",n,e),n.trim().replace(Ut[e.includePrerelease?Nt.GTE0PRE:Nt.GTE0],"")),zy=n=>(e,t,r,i,o,a,l,f,g,b,S,v,E)=>(At(r)?t="":At(i)?t=`>=${r}.0.0${n?"-0":""}`:At(o)?t=`>=${r}.${i}.0${n?"-0":""}`:a?t=`>=${t}`:t=`>=${t}${n?"-0":""}`,At(g)?f="":At(b)?f=`<${+g+1}.0.0-0`:At(S)?f=`<${g}.${+b+1}.0-0`:v?f=`<=${g}.${b}.${S}-${v}`:n?f=`<${g}.${b}.${+S+1}-0`:f=`<=${f}`,`${t} ${f}`.trim()),Vy=(n,e,t)=>{for(let r=0;r<n.length;r++)if(!n[r].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let r=0;r<n.length;r++)if(ut(n[r].semver),n[r].semver!==Qo.ANY&&n[r].semver.prerelease.length>0){let i=n[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var Ar=ee((sw,Jl)=>{var Lr=Symbol("SemVer ANY"),es=class n{static get ANY(){return Lr}constructor(e,t){if(t=Bl(t),e instanceof n){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),Zo("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===Lr?this.value="":this.value=this.operator+this.semver.version,Zo("comp",this)}parse(e){let t=this.options.loose?Gl[Xl.COMPARATORLOOSE]:Gl[Xl.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new Yl(r[2],this.options.loose):this.semver=Lr}toString(){return this.value}test(e){if(Zo("Comparator.test",e,this.options.loose),this.semver===Lr||e===Lr)return!0;if(typeof e=="string")try{e=new Yl(e,this.options)}catch{return!1}return Jo(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof n))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Ql(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new Ql(this.value,t).test(e.semver):(t=Bl(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||Jo(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||Jo(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Jl.exports=es;var Bl=mi(),{safeRe:Gl,t:Xl}=tr(),Jo=zo(),Zo=xr(),Yl=kt(),Ql=Qt()});var Mr=ee((aw,Zl)=>{var By=Qt(),Gy=(n,e,t)=>{try{e=new By(e,t)}catch{return!1}return e.test(n)};Zl.exports=Gy});var td=ee((cw,ed)=>{var Xy=Qt(),Yy=(n,e)=>new Xy(n,e).set.map(t=>t.map(r=>r.value).join(" ").trim().split(" "));ed.exports=Yy});var rd=ee((uw,nd)=>{var Qy=kt(),Jy=Qt(),Zy=(n,e,t)=>{let r=null,i=null,o=null;try{o=new Jy(e,t)}catch{return null}return n.forEach(a=>{o.test(a)&&(!r||i.compare(a)===-1)&&(r=a,i=new Qy(r,t))}),r};nd.exports=Zy});var od=ee((lw,id)=>{var ev=kt(),tv=Qt(),nv=(n,e,t)=>{let r=null,i=null,o=null;try{o=new tv(e,t)}catch{return null}return n.forEach(a=>{o.test(a)&&(!r||i.compare(a)===1)&&(r=a,i=new ev(r,t))}),r};id.exports=nv});var cd=ee((dw,ad)=>{var ts=kt(),rv=Qt(),sd=Or(),iv=(n,e)=>{n=new rv(n,e);let t=new ts("0.0.0");if(n.test(t)||(t=new ts("0.0.0-0"),n.test(t)))return t;t=null;for(let r=0;r<n.set.length;++r){let i=n.set[r],o=null;i.forEach(a=>{let l=new ts(a.semver.version);switch(a.operator){case">":l.prerelease.length===0?l.patch++:l.prerelease.push(0),l.raw=l.format();case"":case">=":(!o||sd(l,o))&&(o=l);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),o&&(!t||sd(t,o))&&(t=o)}return t&&n.test(t)?t:null};ad.exports=iv});var ld=ee((fw,ud)=>{var ov=Qt(),sv=(n,e)=>{try{return new ov(n,e).range||"*"}catch{return null}};ud.exports=sv});var Ti=ee((hw,gd)=>{var av=kt(),hd=Ar(),{ANY:cv}=hd,uv=Qt(),lv=Mr(),dd=Or(),fd=bi(),dv=Ri(),fv=Di(),hv=(n,e,t,r)=>{n=new av(n,r),e=new uv(e,r);let i,o,a,l,f;switch(t){case">":i=dd,o=dv,a=fd,l=">",f=">=";break;case"<":i=fd,o=fv,a=dd,l="<",f="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(lv(n,e,r))return!1;for(let g=0;g<e.set.length;++g){let b=e.set[g],S=null,v=null;if(b.forEach(E=>{E.semver===cv&&(E=new hd(">=0.0.0")),S=S||E,v=v||E,i(E.semver,S.semver,r)?S=E:a(E.semver,v.semver,r)&&(v=E)}),S.operator===l||S.operator===f||(!v.operator||v.operator===l)&&o(n,v.semver))return!1;if(v.operator===f&&a(n,v.semver))return!1}return!0};gd.exports=hv});var md=ee((gw,pd)=>{var gv=Ti(),pv=(n,e,t)=>gv(n,e,">",t);pd.exports=pv});var vd=ee((pw,yd)=>{var mv=Ti(),yv=(n,e,t)=>mv(n,e,"<",t);yd.exports=yv});var Dd=ee((mw,bd)=>{var Cd=Qt(),vv=(n,e,t)=>(n=new Cd(n,t),e=new Cd(e,t),n.intersects(e,t));bd.exports=vv});var wd=ee((yw,Rd)=>{var Cv=Mr(),bv=Yt();Rd.exports=(n,e,t)=>{let r=[],i=null,o=null,a=n.sort((b,S)=>bv(b,S,t));for(let b of a)Cv(b,e,t)?(o=b,i||(i=b)):(o&&r.push([i,o]),o=null,i=null);i&&r.push([i,null]);let l=[];for(let[b,S]of r)b===S?l.push(b):!S&&b===a[0]?l.push("*"):S?b===a[0]?l.push(`<=${S}`):l.push(`${b} - ${S}`):l.push(`>=${b}`);let f=l.join(" || "),g=typeof e.raw=="string"?e.raw:String(e);return f.length<g.length?f:e}});var Id=ee((vw,Pd)=>{var _d=Qt(),rs=Ar(),{ANY:ns}=rs,Hr=Mr(),is=Yt(),Dv=(n,e,t={})=>{if(n===e)return!0;n=new _d(n,t),e=new _d(e,t);let r=!1;e:for(let i of n.set){for(let o of e.set){let a=wv(i,o,t);if(r=r||a!==null,a)continue e}if(r)return!1}return!0},Rv=[new rs(">=0.0.0-0")],Sd=[new rs(">=0.0.0")],wv=(n,e,t)=>{if(n===e)return!0;if(n.length===1&&n[0].semver===ns){if(e.length===1&&e[0].semver===ns)return!0;t.includePrerelease?n=Rv:n=Sd}if(e.length===1&&e[0].semver===ns){if(t.includePrerelease)return!0;e=Sd}let r=new Set,i,o;for(let E of n)E.operator===">"||E.operator===">="?i=Td(i,E,t):E.operator==="<"||E.operator==="<="?o=qd(o,E,t):r.add(E.semver);if(r.size>1)return null;let a;if(i&&o){if(a=is(i.semver,o.semver,t),a>0)return null;if(a===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let E of r){if(i&&!Hr(E,String(i),t)||o&&!Hr(E,String(o),t))return null;for(let q of e)if(!Hr(E,String(q),t))return!1;return!0}let l,f,g,b,S=o&&!t.includePrerelease&&o.semver.prerelease.length?o.semver:!1,v=i&&!t.includePrerelease&&i.semver.prerelease.length?i.semver:!1;S&&S.prerelease.length===1&&o.operator==="<"&&S.prerelease[0]===0&&(S=!1);for(let E of e){if(b=b||E.operator===">"||E.operator===">=",g=g||E.operator==="<"||E.operator==="<=",i){if(v&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===v.major&&E.semver.minor===v.minor&&E.semver.patch===v.patch&&(v=!1),E.operator===">"||E.operator===">="){if(l=Td(i,E,t),l===E&&l!==i)return!1}else if(i.operator===">="&&!Hr(i.semver,String(E),t))return!1}if(o){if(S&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===S.major&&E.semver.minor===S.minor&&E.semver.patch===S.patch&&(S=!1),E.operator==="<"||E.operator==="<="){if(f=qd(o,E,t),f===E&&f!==o)return!1}else if(o.operator==="<="&&!Hr(o.semver,String(E),t))return!1}if(!E.operator&&(o||i)&&a!==0)return!1}return!(i&&g&&!o&&a!==0||o&&b&&!i&&a!==0||v||S)},Td=(n,e,t)=>{if(!n)return e;let r=is(n.semver,e.semver,t);return r>0?n:r<0||e.operator===">"&&n.operator===">="?e:n},qd=(n,e,t)=>{if(!n)return e;let r=is(n.semver,e.semver,t);return r<0?n:r>0||e.operator==="<"&&n.operator==="<="?e:n};Pd.exports=Dv});var Od=ee((Cw,xd)=>{var os=tr(),Ed=kr(),_v=kt(),kd=Uo(),Sv=Hn(),Tv=Yu(),qv=Ju(),Pv=tl(),Iv=il(),Ev=sl(),kv=cl(),xv=ll(),Ov=fl(),Fv=Yt(),Nv=ml(),Av=vl(),Lv=Ci(),Mv=Rl(),Hv=_l(),jv=Or(),Uv=bi(),$v=Wo(),Wv=Ko(),Kv=Di(),zv=Ri(),Vv=zo(),Bv=Ol(),Gv=Ar(),Xv=Qt(),Yv=Mr(),Qv=td(),Jv=rd(),Zv=od(),eC=cd(),tC=ld(),nC=Ti(),rC=md(),iC=vd(),oC=Dd(),sC=wd(),aC=Id();xd.exports={parse:Sv,valid:Tv,clean:qv,inc:Pv,diff:Iv,major:Ev,minor:kv,patch:xv,prerelease:Ov,compare:Fv,rcompare:Nv,compareLoose:Av,compareBuild:Lv,sort:Mv,rsort:Hv,gt:jv,lt:Uv,eq:$v,neq:Wv,gte:Kv,lte:zv,cmp:Vv,coerce:Bv,Comparator:Gv,Range:Xv,satisfies:Yv,toComparators:Qv,maxSatisfying:Jv,minSatisfying:Zv,minVersion:eC,validRange:tC,outside:nC,gtr:rC,ltr:iC,intersects:oC,simplifyRange:sC,subset:aC,SemVer:_v,re:os.re,src:os.src,tokens:os.t,SEMVER_SPEC_VERSION:Ed.SEMVER_SPEC_VERSION,RELEASE_TYPES:Ed.RELEASE_TYPES,compareIdentifiers:kd.compareIdentifiers,rcompareIdentifiers:kd.rcompareIdentifiers}});var Jt=ee(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.asPromise=yt.thenable=yt.typedArray=yt.stringArray=yt.array=yt.func=yt.error=yt.number=yt.string=yt.boolean=void 0;function cC(n){return n===!0||n===!1}yt.boolean=cC;function Fd(n){return typeof n=="string"||n instanceof String}yt.string=Fd;function uC(n){return typeof n=="number"||n instanceof Number}yt.number=uC;function lC(n){return n instanceof Error}yt.error=lC;function Nd(n){return typeof n=="function"}yt.func=Nd;function Ad(n){return Array.isArray(n)}yt.array=Ad;function dC(n){return Ad(n)&&n.every(e=>Fd(e))}yt.stringArray=dC;function fC(n,e){return Array.isArray(n)&&n.every(e)}yt.typedArray=fC;function Ld(n){return n&&Nd(n.then)}yt.thenable=Ld;function hC(n){return n instanceof Promise?n:Ld(n)?new Promise((e,t)=>{n.then(r=>e(r),r=>t(r))}):Promise.resolve(n)}yt.asPromise=hC});var $r=ee(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.forEach=Zt.mapAsync=Zt.map=Zt.Semaphore=Zt.Delayer=void 0;var Ur=ke(),ss=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(r=>{this.onSuccess=r}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var r=this.task();return this.task=void 0,r})),(t>=0||this.timeout===void 0)&&(this.timeout=(0,Ur.RAL)().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(this.timeout.dispose(),this.timeout=void 0)}};Zt.Delayer=ss;var as=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,r)=>{this._waiting.push({thunk:e,resolve:t,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Ur.RAL)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};Zt.Semaphore=as;var Md=15,jr=class{constructor(e=Md){this.yieldAfter=Math.max(e,Md),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){let e=Date.now()-this.startTime,t=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||t<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=this.total*2;break}}return!1}};async function gC(n,e,t,r){if(n.length===0)return[];let i=new Array(n.length),o=new jr(r?.yieldAfter);function a(f){o.start();for(let g=f;g<n.length;g++)if(i[g]=e(n[g]),o.shouldYield())return r?.yieldCallback&&r.yieldCallback(),g+1;return-1}let l=a(0);for(;l!==-1&&!(t!==void 0&&t.isCancellationRequested);)l=await new Promise(f=>{(0,Ur.RAL)().timer.setImmediate(()=>{f(a(l))})});return i}Zt.map=gC;async function pC(n,e,t,r){if(n.length===0)return[];let i=new Array(n.length),o=new jr(r?.yieldAfter);async function a(f){o.start();for(let g=f;g<n.length;g++)if(i[g]=await e(n[g],t),o.shouldYield())return r?.yieldCallback&&r.yieldCallback(),g+1;return-1}let l=await a(0);for(;l!==-1&&!(t!==void 0&&t.isCancellationRequested);)l=await new Promise(f=>{(0,Ur.RAL)().timer.setImmediate(()=>{f(a(l))})});return i}Zt.mapAsync=pC;async function mC(n,e,t,r){if(n.length===0)return;let i=new jr(r?.yieldAfter);function o(l){i.start();for(let f=l;f<n.length;f++)if(e(n[f]),i.shouldYield())return r?.yieldCallback&&r.yieldCallback(),f+1;return-1}let a=o(0);for(;a!==-1&&!(t!==void 0&&t.isCancellationRequested);)a=await new Promise(l=>{(0,Ur.RAL)().timer.setImmediate(()=>{l(o(a))})})}Zt.forEach=mC});var ls=ee(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});var yC=require("vscode"),cs=class extends yC.CompletionItem{constructor(e){super(e)}};us.default=cs});var hs=ee(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});var vC=require("vscode"),ds=class extends vC.CodeLens{constructor(e){super(e)}};fs.default=ds});var ms=ee(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});var CC=require("vscode"),gs=class extends CC.DocumentLink{constructor(e,t){super(e,t)}};ps.default=gs});var Cs=ee(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});var bC=require("vscode"),ys=class extends bC.CodeAction{constructor(e,t){super(e),this.data=t}};vs.default=ys});var Rs=ee(Wn=>{"use strict";Object.defineProperty(Wn,"__esModule",{value:!0});Wn.ProtocolDiagnostic=Wn.DiagnosticCode=void 0;var DC=require("vscode"),bs=Jt(),RC;(function(n){function e(t){let r=t;return r!=null&&(bs.number(r.value)||bs.string(r.value))&&bs.string(r.target)}n.is=e})(RC=Wn.DiagnosticCode||(Wn.DiagnosticCode={}));var Ds=class extends DC.Diagnostic{constructor(e,t,r,i){super(e,t,r),this.data=i,this.hasDiagnosticCode=!1}};Wn.ProtocolDiagnostic=Ds});var Ss=ee(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});var wC=require("vscode"),ws=class extends wC.CallHierarchyItem{constructor(e,t,r,i,o,a,l){super(e,t,r,i,o,a),l!==void 0&&(this.data=l)}};_s.default=ws});var Ps=ee(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});var _C=require("vscode"),Ts=class extends _C.TypeHierarchyItem{constructor(e,t,r,i,o,a,l){super(e,t,r,i,o,a),l!==void 0&&(this.data=l)}};qs.default=Ts});var ks=ee(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});var qi=require("vscode"),Is=class extends qi.SymbolInformation{constructor(e,t,r,i,o){let a=!(i instanceof qi.Uri);super(e,t,r,a?i:new qi.Location(i,new qi.Range(0,0,0,0))),this.hasRange=a,o!==void 0&&(this.data=o)}};Es.default=Is});var Fs=ee(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});var SC=require("vscode"),xs=class extends SC.InlayHint{constructor(e,t,r){super(e,t,r)}};Os.default=xs});var Ud=ee(Pi=>{"use strict";Object.defineProperty(Pi,"__esModule",{value:!0});Pi.createConverter=void 0;var Rt=require("vscode"),Ae=ke(),or=Jt(),Hd=$r(),TC=ls(),qC=hs(),PC=ms(),IC=Cs(),jd=Rs(),EC=Ss(),kC=Ps(),xC=ks(),OC=Fs(),Ns;(function(n){function e(t){let r=t;return r&&!!r.inserting&&!!r.replacing}n.is=e})(Ns||(Ns={}));function FC(n){let t=n||(m=>m.toString());function r(m){return t(m)}function i(m){return{uri:t(m.uri)}}function o(m){return{uri:t(m.uri),languageId:m.languageId,version:m.version,text:m.getText()}}function a(m){return{uri:t(m.uri),version:m.version}}function l(m){return{textDocument:o(m)}}function f(m){let Y=m;return!!Y.document&&!!Y.contentChanges}function g(m){let Y=m;return!!Y.uri&&!!Y.version}function b(m){if(g(m))return{textDocument:{uri:t(m.uri),version:m.version},contentChanges:[{text:m.getText()}]};if(f(m)){let Y=m.document;return{textDocument:{uri:t(Y.uri),version:Y.version},contentChanges:m.contentChanges.map(je=>{let H=je.range;return{range:{start:{line:H.start.line,character:H.start.character},end:{line:H.end.line,character:H.end.character}},rangeLength:je.rangeLength,text:je.text}})}}else throw Error("Unsupported text document change parameter")}function S(m){return{textDocument:i(m)}}function v(m,Y=!1){let Re={textDocument:i(m)};return Y&&(Re.text=m.getText()),Re}function E(m){switch(m){case Rt.TextDocumentSaveReason.Manual:return Ae.TextDocumentSaveReason.Manual;case Rt.TextDocumentSaveReason.AfterDelay:return Ae.TextDocumentSaveReason.AfterDelay;case Rt.TextDocumentSaveReason.FocusOut:return Ae.TextDocumentSaveReason.FocusOut}return Ae.TextDocumentSaveReason.Manual}function q(m){return{textDocument:i(m.document),reason:E(m.reason)}}function I(m){return{files:m.files.map(Y=>({uri:t(Y)}))}}function O(m){return{files:m.files.map(Y=>({oldUri:t(Y.oldUri),newUri:t(Y.newUri)}))}}function F(m){return{files:m.files.map(Y=>({uri:t(Y)}))}}function d(m){return{files:m.files.map(Y=>({uri:t(Y)}))}}function R(m){return{files:m.files.map(Y=>({oldUri:t(Y.oldUri),newUri:t(Y.newUri)}))}}function T(m){return{files:m.files.map(Y=>({uri:t(Y)}))}}function N(m,Y){return{textDocument:i(m),position:we(Y)}}function j(m){switch(m){case Rt.CompletionTriggerKind.TriggerCharacter:return Ae.CompletionTriggerKind.TriggerCharacter;case Rt.CompletionTriggerKind.TriggerForIncompleteCompletions:return Ae.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return Ae.CompletionTriggerKind.Invoked}}function K(m,Y,Re){return{textDocument:i(m),position:we(Y),context:{triggerKind:j(Re.triggerKind),triggerCharacter:Re.triggerCharacter}}}function L(m){switch(m){case Rt.SignatureHelpTriggerKind.Invoke:return Ae.SignatureHelpTriggerKind.Invoked;case Rt.SignatureHelpTriggerKind.TriggerCharacter:return Ae.SignatureHelpTriggerKind.TriggerCharacter;case Rt.SignatureHelpTriggerKind.ContentChange:return Ae.SignatureHelpTriggerKind.ContentChange}}function Z(m){return{label:m.label}}function $(m){return m.map(Z)}function oe(m){return{label:m.label,parameters:$(m.parameters)}}function se(m){return m.map(oe)}function pe(m){return m===void 0?m:{signatures:se(m.signatures),activeSignature:m.activeSignature,activeParameter:m.activeParameter}}function de(m,Y,Re){return{textDocument:i(m),position:we(Y),context:{isRetrigger:Re.isRetrigger,triggerCharacter:Re.triggerCharacter,triggerKind:L(Re.triggerKind),activeSignatureHelp:pe(Re.activeSignatureHelp)}}}function we(m){return{line:m.line,character:m.character}}function V(m){return m==null?m:{line:m.line>Ae.uinteger.MAX_VALUE?Ae.uinteger.MAX_VALUE:m.line,character:m.character>Ae.uinteger.MAX_VALUE?Ae.uinteger.MAX_VALUE:m.character}}function J(m,Y){return Hd.map(m,V,Y)}function P(m){return m==null?m:{start:V(m.start),end:V(m.end)}}function c(m){return m==null?m:Ae.Location.create(r(m.uri),P(m.range))}function s(m){switch(m){case Rt.DiagnosticSeverity.Error:return Ae.DiagnosticSeverity.Error;case Rt.DiagnosticSeverity.Warning:return Ae.DiagnosticSeverity.Warning;case Rt.DiagnosticSeverity.Information:return Ae.DiagnosticSeverity.Information;case Rt.DiagnosticSeverity.Hint:return Ae.DiagnosticSeverity.Hint}}function y(m){if(!m)return;let Y=[];for(let Re of m){let je=w(Re);je!==void 0&&Y.push(je)}return Y.length>0?Y:void 0}function w(m){switch(m){case Rt.DiagnosticTag.Unnecessary:return Ae.DiagnosticTag.Unnecessary;case Rt.DiagnosticTag.Deprecated:return Ae.DiagnosticTag.Deprecated;default:return}}function M(m){return{message:m.message,location:c(m.location)}}function Q(m){return m.map(M)}function z(m){if(m!=null)return or.number(m)||or.string(m)?m:{value:m.value,target:r(m.target)}}function B(m){let Y=Ae.Diagnostic.create(P(m.range),m.message),Re=m instanceof jd.ProtocolDiagnostic?m:void 0;Re!==void 0&&Re.data!==void 0&&(Y.data=Re.data);let je=z(m.code);return jd.DiagnosticCode.is(je)?Re!==void 0&&Re.hasDiagnosticCode?Y.code=je:(Y.code=je.value,Y.codeDescription={href:je.target}):Y.code=je,or.number(m.severity)&&(Y.severity=s(m.severity)),Array.isArray(m.tags)&&(Y.tags=y(m.tags)),m.relatedInformation&&(Y.relatedInformation=Q(m.relatedInformation)),m.source&&(Y.source=m.source),Y}function ne(m,Y){return m==null?m:Hd.map(m,B,Y)}function re(m,Y){switch(m){case"$string":return Y;case Ae.MarkupKind.PlainText:return{kind:m,value:Y};case Ae.MarkupKind.Markdown:return{kind:m,value:Y.value};default:return`Unsupported Markup content received. Kind is: ${m}`}}function fe(m){switch(m){case Rt.CompletionItemTag.Deprecated:return Ae.CompletionItemTag.Deprecated}}function ue(m){if(m===void 0)return m;let Y=[];for(let Re of m){let je=fe(Re);je!==void 0&&Y.push(je)}return Y}function Pe(m,Y){return Y!==void 0?Y:m+1}function ve(m,Y=!1){let Re,je;or.string(m.label)?Re=m.label:(Re=m.label.label,Y&&(m.label.detail!==void 0||m.label.description!==void 0)&&(je={detail:m.label.detail,description:m.label.description}));let H={label:Re};je!==void 0&&(H.labelDetails=je);let p=m instanceof TC.default?m:void 0;m.detail&&(H.detail=m.detail),m.documentation&&(!p||p.documentationFormat==="$string"?H.documentation=m.documentation:H.documentation=re(p.documentationFormat,m.documentation)),m.filterText&&(H.filterText=m.filterText),Ce(H,m),or.number(m.kind)&&(H.kind=Pe(m.kind,p&&p.originalItemKind)),m.sortText&&(H.sortText=m.sortText),m.additionalTextEdits&&(H.additionalTextEdits=C(m.additionalTextEdits)),m.commitCharacters&&(H.commitCharacters=m.commitCharacters.slice()),m.command&&(H.command=He(m.command)),(m.preselect===!0||m.preselect===!1)&&(H.preselect=m.preselect);let x=ue(m.tags);if(p){if(p.data!==void 0&&(H.data=p.data),p.deprecated===!0||p.deprecated===!1){if(p.deprecated===!0&&x!==void 0&&x.length>0){let A=x.indexOf(Rt.CompletionItemTag.Deprecated);A!==-1&&x.splice(A,1)}H.deprecated=p.deprecated}p.insertTextMode!==void 0&&(H.insertTextMode=p.insertTextMode)}return x!==void 0&&x.length>0&&(H.tags=x),H.insertTextMode===void 0&&m.keepWhitespace===!0&&(H.insertTextMode=Ae.InsertTextMode.adjustIndentation),H}function Ce(m,Y){let Re=Ae.InsertTextFormat.PlainText,je,H;Y.textEdit?(je=Y.textEdit.newText,H=Y.textEdit.range):Y.insertText instanceof Rt.SnippetString?(Re=Ae.InsertTextFormat.Snippet,je=Y.insertText.value):je=Y.insertText,Y.range&&(H=Y.range),m.insertTextFormat=Re,Y.fromEdit&&je!==void 0&&H!==void 0?m.textEdit=Te(je,H):m.insertText=je}function Te(m,Y){return Ns.is(Y)?Ae.InsertReplaceEdit.create(m,P(Y.inserting),P(Y.replacing)):{newText:m,range:P(Y)}}function he(m){return{range:P(m.range),newText:m.newText}}function C(m){return m==null?m:m.map(he)}function k(m){return m<=Rt.SymbolKind.TypeParameter?m+1:Ae.SymbolKind.Property}function W(m){return m}function X(m){return m.map(W)}function ge(m,Y,Re){return{textDocument:i(m),position:we(Y),context:{includeDeclaration:Re.includeDeclaration}}}async function De(m,Y){let Re=Ae.CodeAction.create(m.title);if(m instanceof IC.default&&m.data!==void 0&&(Re.data=m.data),m.kind!==void 0&&(Re.kind=nt(m.kind)),m.diagnostics!==void 0&&(Re.diagnostics=await ne(m.diagnostics,Y)),m.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return m.command!==void 0&&(Re.command=He(m.command)),m.isPreferred!==void 0&&(Re.isPreferred=m.isPreferred),m.disabled!==void 0&&(Re.disabled={reason:m.disabled.reason}),Re}async function Me(m,Y){if(m==null)return m;let Re;return m.only&&or.string(m.only.value)&&(Re=[m.only.value]),Ae.CodeActionContext.create(await ne(m.diagnostics,Y),Re,Xe(m.triggerKind))}function Xe(m){switch(m){case Rt.CodeActionTriggerKind.Invoke:return Ae.CodeActionTriggerKind.Invoked;case Rt.CodeActionTriggerKind.Automatic:return Ae.CodeActionTriggerKind.Automatic;default:return}}function nt(m){if(m!=null)return m.value}function Ye(m){return m==null?m:Ae.InlineValueContext.create(m.frameId,P(m.stoppedLocation))}function He(m){let Y=Ae.Command.create(m.title,m.command);return m.arguments&&(Y.arguments=m.arguments),Y}function Ze(m){let Y=Ae.CodeLens.create(P(m.range));return m.command&&(Y.command=He(m.command)),m instanceof qC.default&&m.data&&(Y.data=m.data),Y}function Ke(m,Y){let Re={tabSize:m.tabSize,insertSpaces:m.insertSpaces};return Y.trimTrailingWhitespace&&(Re.trimTrailingWhitespace=!0),Y.trimFinalNewlines&&(Re.trimFinalNewlines=!0),Y.insertFinalNewline&&(Re.insertFinalNewline=!0),Re}function Be(m){return{textDocument:i(m)}}function st(m){return{textDocument:i(m)}}function ce(m){let Y=Ae.DocumentLink.create(P(m.range));m.target&&(Y.target=r(m.target)),m.tooltip!==void 0&&(Y.tooltip=m.tooltip);let Re=m instanceof PC.default?m:void 0;return Re&&Re.data&&(Y.data=Re.data),Y}function te(m){return{textDocument:i(m)}}function le(m){let Y={name:m.name,kind:k(m.kind),uri:r(m.uri),range:P(m.range),selectionRange:P(m.selectionRange)};return m.detail!==void 0&&m.detail.length>0&&(Y.detail=m.detail),m.tags!==void 0&&(Y.tags=X(m.tags)),m instanceof EC.default&&m.data!==void 0&&(Y.data=m.data),Y}function me(m){let Y={name:m.name,kind:k(m.kind),uri:r(m.uri),range:P(m.range),selectionRange:P(m.selectionRange)};return m.detail!==void 0&&m.detail.length>0&&(Y.detail=m.detail),m.tags!==void 0&&(Y.tags=X(m.tags)),m instanceof kC.default&&m.data!==void 0&&(Y.data=m.data),Y}function Fe(m){let Y=m instanceof xC.default?{name:m.name,kind:k(m.kind),location:m.hasRange?c(m.location):{uri:t(m.location.uri)},data:m.data}:{name:m.name,kind:k(m.kind),location:c(m.location)};return m.tags!==void 0&&(Y.tags=X(m.tags)),m.containerName!==""&&(Y.containerName=m.containerName),Y}function Ne(m){let Y=typeof m.label=="string"?m.label:m.label.map(ze),Re=Ae.InlayHint.create(V(m.position),Y);return m.kind!==void 0&&(Re.kind=m.kind),m.textEdits!==void 0&&(Re.textEdits=C(m.textEdits)),m.tooltip!==void 0&&(Re.tooltip=Et(m.tooltip)),m.paddingLeft!==void 0&&(Re.paddingLeft=m.paddingLeft),m.paddingRight!==void 0&&(Re.paddingRight=m.paddingRight),m instanceof OC.default&&m.data!==void 0&&(Re.data=m.data),Re}function ze(m){let Y=Ae.InlayHintLabelPart.create(m.value);return m.location!==void 0&&(Y.location=c(m.location)),m.command!==void 0&&(Y.command=He(m.command)),m.tooltip!==void 0&&(Y.tooltip=Et(m.tooltip)),Y}function Et(m){return typeof m=="string"?m:{kind:Ae.MarkupKind.Markdown,value:m.value}}return{asUri:r,asTextDocumentIdentifier:i,asTextDocumentItem:o,asVersionedTextDocumentIdentifier:a,asOpenTextDocumentParams:l,asChangeTextDocumentParams:b,asCloseTextDocumentParams:S,asSaveTextDocumentParams:v,asWillSaveTextDocumentParams:q,asDidCreateFilesParams:I,asDidRenameFilesParams:O,asDidDeleteFilesParams:F,asWillCreateFilesParams:d,asWillRenameFilesParams:R,asWillDeleteFilesParams:T,asTextDocumentPositionParams:N,asCompletionParams:K,asSignatureHelpParams:de,asWorkerPosition:we,asRange:P,asPosition:V,asPositions:J,asLocation:c,asDiagnosticSeverity:s,asDiagnosticTag:w,asDiagnostic:B,asDiagnostics:ne,asCompletionItem:ve,asTextEdit:he,asSymbolKind:k,asSymbolTag:W,asSymbolTags:X,asReferenceParams:ge,asCodeAction:De,asCodeActionContext:Me,asInlineValueContext:Ye,asCommand:He,asCodeLens:Ze,asFormattingOptions:Ke,asDocumentSymbolParams:Be,asCodeLensParams:st,asDocumentLink:ce,asDocumentLinkParams:te,asCallHierarchyItem:le,asTypeHierarchyItem:me,asInlayHint:Ne,asWorkspaceSymbol:Fe}}Pi.createConverter=FC});var Kd=ee(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});Ei.createConverter=void 0;var be=require("vscode"),Ie=ke(),en=Jt(),et=$r(),NC=ls(),AC=hs(),LC=ms(),MC=Cs(),$d=Rs(),HC=Ss(),jC=Ps(),UC=ks(),$C=Fs(),Wd=ke(),Ii;(function(n){function e(t){let r=t;return r&&en.string(r.language)&&en.string(r.value)}n.is=e})(Ii||(Ii={}));function WC(n,e,t){let i=n||(u=>be.Uri.parse(u));function o(u){return i(u)}function a(u){let U=[];for(let ae of u)if(typeof ae=="string")U.push(ae);else if(Wd.NotebookCellTextDocumentFilter.is(ae))if(typeof ae.notebook=="string")U.push({notebookType:ae.notebook,language:ae.language});else{let qe=ae.notebook.notebookType??"*";U.push({notebookType:qe,scheme:ae.notebook.scheme,pattern:ae.notebook.pattern,language:ae.language})}else Wd.TextDocumentFilter.is(ae)&&U.push({language:ae.language,scheme:ae.scheme,pattern:ae.pattern});return U}async function l(u,U){return et.map(u,g,U)}function f(u){let U=new Array(u.length);for(let ae=0;ae<u.length;ae++)U[ae]=g(u[ae]);return U}function g(u){let U=new $d.ProtocolDiagnostic(q(u.range),u.message,O(u.severity),u.data);if(u.code!==void 0){if(typeof u.code=="string"||typeof u.code=="number")Ie.CodeDescription.is(u.codeDescription)?U.code={value:u.code,target:o(u.codeDescription.href)}:U.code=u.code;else if($d.DiagnosticCode.is(u.code)){U.hasDiagnosticCode=!0;let ae=u.code;U.code={value:ae.value,target:o(ae.target)}}}return u.source&&(U.source=u.source),u.relatedInformation&&(U.relatedInformation=b(u.relatedInformation)),Array.isArray(u.tags)&&(U.tags=S(u.tags)),U}function b(u){let U=new Array(u.length);for(let ae=0;ae<u.length;ae++){let qe=u[ae];U[ae]=new be.DiagnosticRelatedInformation(w(qe.location),qe.message)}return U}function S(u){if(!u)return;let U=[];for(let ae of u){let qe=v(ae);qe!==void 0&&U.push(qe)}return U.length>0?U:void 0}function v(u){switch(u){case Ie.DiagnosticTag.Unnecessary:return be.DiagnosticTag.Unnecessary;case Ie.DiagnosticTag.Deprecated:return be.DiagnosticTag.Deprecated;default:return}}function E(u){return u?new be.Position(u.line,u.character):void 0}function q(u){return u?new be.Range(u.start.line,u.start.character,u.end.line,u.end.character):void 0}async function I(u,U){return et.map(u,ae=>new be.Range(ae.start.line,ae.start.character,ae.end.line,ae.end.character),U)}function O(u){if(u==null)return be.DiagnosticSeverity.Error;switch(u){case Ie.DiagnosticSeverity.Error:return be.DiagnosticSeverity.Error;case Ie.DiagnosticSeverity.Warning:return be.DiagnosticSeverity.Warning;case Ie.DiagnosticSeverity.Information:return be.DiagnosticSeverity.Information;case Ie.DiagnosticSeverity.Hint:return be.DiagnosticSeverity.Hint}return be.DiagnosticSeverity.Error}function F(u){if(en.string(u))return R(u);if(Ii.is(u))return R().appendCodeblock(u.value,u.language);if(Array.isArray(u)){let U=[];for(let ae of u){let qe=R();Ii.is(ae)?qe.appendCodeblock(ae.value,ae.language):qe.appendMarkdown(ae),U.push(qe)}return U}else return R(u)}function d(u){if(en.string(u))return u;switch(u.kind){case Ie.MarkupKind.Markdown:return R(u.value);case Ie.MarkupKind.PlainText:return u.value;default:return`Unsupported Markup content received. Kind is: ${u.kind}`}}function R(u){let U;if(u===void 0||typeof u=="string")U=new be.MarkdownString(u);else switch(u.kind){case Ie.MarkupKind.Markdown:U=new be.MarkdownString(u.value);break;case Ie.MarkupKind.PlainText:U=new be.MarkdownString,U.appendText(u.value);break;default:U=new be.MarkdownString,U.appendText(`Unsupported Markup content received. Kind is: ${u.kind}`);break}return U.isTrusted=e,U.supportHtml=t,U}function T(u){if(u)return new be.Hover(F(u.contents),q(u.range))}async function N(u,U,ae){if(!u)return;if(Array.isArray(u))return et.map(u,mn=>$(mn,U),ae);let qe=u,{defaultRange:jt,commitCharacters:Tt}=j(qe,U),rt=await et.map(qe.items,mn=>$(mn,Tt,jt,qe.itemDefaults?.insertTextMode,qe.itemDefaults?.insertTextFormat,qe.itemDefaults?.data),ae);return new be.CompletionList(rt,qe.isIncomplete)}function j(u,U){let ae=u.itemDefaults?.editRange,qe=u.itemDefaults?.commitCharacters??U;return Ie.Range.is(ae)?{defaultRange:q(ae),commitCharacters:qe}:ae!==void 0?{defaultRange:{inserting:q(ae.insert),replacing:q(ae.replace)},commitCharacters:qe}:{defaultRange:void 0,commitCharacters:qe}}function K(u){return Ie.CompletionItemKind.Text<=u&&u<=Ie.CompletionItemKind.TypeParameter?[u-1,void 0]:[be.CompletionItemKind.Text,u]}function L(u){switch(u){case Ie.CompletionItemTag.Deprecated:return be.CompletionItemTag.Deprecated}}function Z(u){if(u==null)return[];let U=[];for(let ae of u){let qe=L(ae);qe!==void 0&&U.push(qe)}return U}function $(u,U,ae,qe,jt,Tt){let rt=Z(u.tags),mn=oe(u),at=new NC.default(mn);u.detail&&(at.detail=u.detail),u.documentation&&(at.documentation=d(u.documentation),at.documentationFormat=en.string(u.documentation)?"$string":u.documentation.kind),u.filterText&&(at.filterText=u.filterText);let ui=se(u,ae,jt);if(ui&&(at.insertText=ui.text,at.range=ui.range,at.fromEdit=ui.fromEdit),en.number(u.kind)){let[Th,Vc]=K(u.kind);at.kind=Th,Vc&&(at.originalItemKind=Vc)}u.sortText&&(at.sortText=u.sortText),u.additionalTextEdits&&(at.additionalTextEdits=V(u.additionalTextEdits));let Kc=u.commitCharacters!==void 0?en.stringArray(u.commitCharacters)?u.commitCharacters:void 0:U;Kc&&(at.commitCharacters=Kc.slice()),u.command&&(at.command=X(u.command)),(u.deprecated===!0||u.deprecated===!1)&&(at.deprecated=u.deprecated,u.deprecated===!0&&rt.push(be.CompletionItemTag.Deprecated)),(u.preselect===!0||u.preselect===!1)&&(at.preselect=u.preselect);let zc=u.data??Tt;zc!==void 0&&(at.data=zc),rt.length>0&&(at.tags=rt);let _o=u.insertTextMode??qe;return _o!==void 0&&(at.insertTextMode=_o,_o===Ie.InsertTextMode.asIs&&(at.keepWhitespace=!0)),at}function oe(u){return Ie.CompletionItemLabelDetails.is(u.labelDetails)?{label:u.label,detail:u.labelDetails.detail,description:u.labelDetails.description}:u.label}function se(u,U,ae){let qe=u.insertTextFormat??ae;if(u.textEdit!==void 0||U!==void 0){let[jt,Tt]=u.textEdit!==void 0?pe(u.textEdit):[U,u.textEditText??u.label];return qe===Ie.InsertTextFormat.Snippet?{text:new be.SnippetString(Tt),range:jt,fromEdit:!0}:{text:Tt,range:jt,fromEdit:!0}}else return u.insertText?qe===Ie.InsertTextFormat.Snippet?{text:new be.SnippetString(u.insertText),fromEdit:!1}:{text:u.insertText,fromEdit:!1}:void 0}function pe(u){return Ie.InsertReplaceEdit.is(u)?[{inserting:q(u.insert),replacing:q(u.replace)},u.newText]:[q(u.range),u.newText]}function de(u){if(u)return new be.TextEdit(q(u.range),u.newText)}async function we(u,U){if(u)return et.map(u,de,U)}function V(u){if(!u)return;let U=new Array(u.length);for(let ae=0;ae<u.length;ae++)U[ae]=de(u[ae]);return U}async function J(u,U){if(!u)return;let ae=new be.SignatureHelp;return en.number(u.activeSignature)?ae.activeSignature=u.activeSignature:ae.activeSignature=0,en.number(u.activeParameter)?ae.activeParameter=u.activeParameter:ae.activeParameter=0,u.signatures&&(ae.signatures=await P(u.signatures,U)),ae}async function P(u,U){return et.mapAsync(u,c,U)}async function c(u,U){let ae=new be.SignatureInformation(u.label);return u.documentation!==void 0&&(ae.documentation=d(u.documentation)),u.parameters!==void 0&&(ae.parameters=await s(u.parameters,U)),u.activeParameter!==void 0&&(ae.activeParameter=u.activeParameter),ae}function s(u,U){return et.map(u,y,U)}function y(u){let U=new be.ParameterInformation(u.label);return u.documentation&&(U.documentation=d(u.documentation)),U}function w(u){return u?new be.Location(i(u.uri),q(u.range)):void 0}async function M(u,U){if(u)return B(u,U)}async function Q(u,U){if(u)return B(u,U)}function z(u){if(!u)return;let U={targetUri:i(u.targetUri),targetRange:q(u.targetRange),originSelectionRange:q(u.originSelectionRange),targetSelectionRange:q(u.targetSelectionRange)};if(!U.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return U}async function B(u,U){if(u)if(en.array(u)){if(u.length===0)return[];if(Ie.LocationLink.is(u[0])){let ae=u;return et.map(ae,z,U)}else{let ae=u;return et.map(ae,w,U)}}else return Ie.LocationLink.is(u)?[z(u)]:w(u)}async function ne(u,U){if(u)return et.map(u,w,U)}async function re(u,U){if(u)return et.map(u,fe,U)}function fe(u){let U=new be.DocumentHighlight(q(u.range));return en.number(u.kind)&&(U.kind=ue(u.kind)),U}function ue(u){switch(u){case Ie.DocumentHighlightKind.Text:return be.DocumentHighlightKind.Text;case Ie.DocumentHighlightKind.Read:return be.DocumentHighlightKind.Read;case Ie.DocumentHighlightKind.Write:return be.DocumentHighlightKind.Write}return be.DocumentHighlightKind.Text}async function Pe(u,U){if(u)return et.map(u,he,U)}function ve(u){return u<=Ie.SymbolKind.TypeParameter?u-1:be.SymbolKind.Property}function Ce(u){switch(u){case Ie.SymbolTag.Deprecated:return be.SymbolTag.Deprecated;default:return}}function Te(u){if(u==null)return;let U=[];for(let ae of u){let qe=Ce(ae);qe!==void 0&&U.push(qe)}return U.length===0?void 0:U}function he(u){let U=u.data,ae=u.location,qe=ae.range===void 0||U!==void 0?new UC.default(u.name,ve(u.kind),u.containerName??"",ae.range===void 0?i(ae.uri):new be.Location(i(u.location.uri),q(ae.range)),U):new be.SymbolInformation(u.name,ve(u.kind),u.containerName??"",new be.Location(i(u.location.uri),q(ae.range)));return W(qe,u),qe}async function C(u,U){if(u!=null)return et.map(u,k,U)}function k(u){let U=new be.DocumentSymbol(u.name,u.detail||"",ve(u.kind),q(u.range),q(u.selectionRange));if(W(U,u),u.children!==void 0&&u.children.length>0){let ae=[];for(let qe of u.children)ae.push(k(qe));U.children=ae}return U}function W(u,U){u.tags=Te(U.tags),U.deprecated&&(u.tags?u.tags.includes(be.SymbolTag.Deprecated)||(u.tags=u.tags.concat(be.SymbolTag.Deprecated)):u.tags=[be.SymbolTag.Deprecated])}function X(u){let U={title:u.title,command:u.command};return u.arguments&&(U.arguments=u.arguments),U}async function ge(u,U){if(u)return et.map(u,X,U)}let De=new Map;De.set(Ie.CodeActionKind.Empty,be.CodeActionKind.Empty),De.set(Ie.CodeActionKind.QuickFix,be.CodeActionKind.QuickFix),De.set(Ie.CodeActionKind.Refactor,be.CodeActionKind.Refactor),De.set(Ie.CodeActionKind.RefactorExtract,be.CodeActionKind.RefactorExtract),De.set(Ie.CodeActionKind.RefactorInline,be.CodeActionKind.RefactorInline),De.set(Ie.CodeActionKind.RefactorRewrite,be.CodeActionKind.RefactorRewrite),De.set(Ie.CodeActionKind.Source,be.CodeActionKind.Source),De.set(Ie.CodeActionKind.SourceOrganizeImports,be.CodeActionKind.SourceOrganizeImports);function Me(u){if(u==null)return;let U=De.get(u);if(U)return U;let ae=u.split(".");U=be.CodeActionKind.Empty;for(let qe of ae)U=U.append(qe);return U}function Xe(u){if(u!=null)return u.map(U=>Me(U))}async function nt(u,U){if(u==null)return;let ae=new MC.default(u.title,u.data);return u.kind!==void 0&&(ae.kind=Me(u.kind)),u.diagnostics!==void 0&&(ae.diagnostics=f(u.diagnostics)),u.edit!==void 0&&(ae.edit=await Ke(u.edit,U)),u.command!==void 0&&(ae.command=X(u.command)),u.isPreferred!==void 0&&(ae.isPreferred=u.isPreferred),u.disabled!==void 0&&(ae.disabled={reason:u.disabled.reason}),ae}function Ye(u,U){return et.mapAsync(u,async ae=>Ie.Command.is(ae)?X(ae):nt(ae,U),U)}function He(u){if(!u)return;let U=new AC.default(q(u.range));return u.command&&(U.command=X(u.command)),u.data!==void 0&&u.data!==null&&(U.data=u.data),U}async function Ze(u,U){if(u)return et.map(u,He,U)}async function Ke(u,U){if(!u)return;let ae=new Map;if(u.changeAnnotations!==void 0){let Tt=u.changeAnnotations;await et.forEach(Object.keys(Tt),rt=>{let mn=Be(Tt[rt]);ae.set(rt,mn)},U)}let qe=Tt=>{if(Tt!==void 0)return ae.get(Tt)},jt=new be.WorkspaceEdit;if(u.documentChanges){let Tt=u.documentChanges;await et.forEach(Tt,rt=>{if(Ie.CreateFile.is(rt))jt.createFile(i(rt.uri),rt.options,qe(rt.annotationId));else if(Ie.RenameFile.is(rt))jt.renameFile(i(rt.oldUri),i(rt.newUri),rt.options,qe(rt.annotationId));else if(Ie.DeleteFile.is(rt))jt.deleteFile(i(rt.uri),rt.options,qe(rt.annotationId));else if(Ie.TextDocumentEdit.is(rt)){let mn=i(rt.textDocument.uri);for(let at of rt.edits)Ie.AnnotatedTextEdit.is(at)?jt.replace(mn,q(at.range),at.newText,qe(at.annotationId)):jt.replace(mn,q(at.range),at.newText)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(rt,void 0,4)}`)},U)}else if(u.changes){let Tt=u.changes;await et.forEach(Object.keys(Tt),rt=>{jt.set(i(rt),V(Tt[rt]))},U)}return jt}function Be(u){if(u!==void 0)return{label:u.label,needsConfirmation:!!u.needsConfirmation,description:u.description}}function st(u){let U=q(u.range),ae=u.target?o(u.target):void 0,qe=new LC.default(U,ae);return u.tooltip!==void 0&&(qe.tooltip=u.tooltip),u.data!==void 0&&u.data!==null&&(qe.data=u.data),qe}async function ce(u,U){if(u)return et.map(u,st,U)}function te(u){return new be.Color(u.red,u.green,u.blue,u.alpha)}function le(u){return new be.ColorInformation(q(u.range),te(u.color))}async function me(u,U){if(u)return et.map(u,le,U)}function Fe(u){let U=new be.ColorPresentation(u.label);return U.additionalTextEdits=V(u.additionalTextEdits),u.textEdit&&(U.textEdit=de(u.textEdit)),U}async function Ne(u,U){if(u)return et.map(u,Fe,U)}function ze(u){if(u)switch(u){case Ie.FoldingRangeKind.Comment:return be.FoldingRangeKind.Comment;case Ie.FoldingRangeKind.Imports:return be.FoldingRangeKind.Imports;case Ie.FoldingRangeKind.Region:return be.FoldingRangeKind.Region}}function Et(u){return new be.FoldingRange(u.startLine,u.endLine,ze(u.kind))}async function m(u,U){if(u)return et.map(u,Et,U)}function Y(u){return new be.SelectionRange(q(u.range),u.parent?Y(u.parent):void 0)}async function Re(u,U){return Array.isArray(u)?et.map(u,Y,U):[]}function je(u){return Ie.InlineValueText.is(u)?new be.InlineValueText(q(u.range),u.text):Ie.InlineValueVariableLookup.is(u)?new be.InlineValueVariableLookup(q(u.range),u.variableName,u.caseSensitiveLookup):new be.InlineValueEvaluatableExpression(q(u.range),u.expression)}async function H(u,U){return Array.isArray(u)?et.map(u,je,U):[]}async function p(u,U){let ae=typeof u.label=="string"?u.label:await et.map(u.label,x,U),qe=new $C.default(E(u.position),ae);return u.kind!==void 0&&(qe.kind=u.kind),u.textEdits!==void 0&&(qe.textEdits=await we(u.textEdits,U)),u.tooltip!==void 0&&(qe.tooltip=A(u.tooltip)),u.paddingLeft!==void 0&&(qe.paddingLeft=u.paddingLeft),u.paddingRight!==void 0&&(qe.paddingRight=u.paddingRight),u.data!==void 0&&(qe.data=u.data),qe}function x(u){let U=new be.InlayHintLabelPart(u.value);return u.location!==void 0&&(U.location=w(u.location)),u.tooltip!==void 0&&(U.tooltip=A(u.tooltip)),u.command!==void 0&&(U.command=X(u.command)),U}function A(u){return typeof u=="string"?u:R(u)}async function _(u,U){if(Array.isArray(u))return et.mapAsync(u,p,U)}function h(u){if(u===null)return;let U=new HC.default(ve(u.kind),u.name,u.detail||"",o(u.uri),q(u.range),q(u.selectionRange),u.data);return u.tags!==void 0&&(U.tags=Te(u.tags)),U}async function G(u,U){if(u!==null)return et.map(u,h,U)}async function ie(u,U){return new be.CallHierarchyIncomingCall(h(u.from),await I(u.fromRanges,U))}async function Ee(u,U){if(u!==null)return et.mapAsync(u,ie,U)}async function ct(u,U){return new be.CallHierarchyOutgoingCall(h(u.to),await I(u.fromRanges,U))}async function ot(u,U){if(u!==null)return et.mapAsync(u,ct,U)}async function zt(u,U){if(u!=null)return new be.SemanticTokens(new Uint32Array(u.data),u.resultId)}function Ht(u){return new be.SemanticTokensEdit(u.start,u.deleteCount,u.data!==void 0?new Uint32Array(u.data):void 0)}async function sn(u,U){if(u!=null)return new be.SemanticTokensEdits(u.edits.map(Ht),u.resultId)}function $e(u){return u}async function In(u,U){if(u!=null)return new be.LinkedEditingRanges(await I(u.ranges,U),Qn(u.wordPattern))}function Qn(u){if(u!=null)return new RegExp(u)}function vr(u){if(u===null)return;let U=new jC.default(ve(u.kind),u.name,u.detail||"",o(u.uri),q(u.range),q(u.selectionRange),u.data);return u.tags!==void 0&&(U.tags=Te(u.tags)),U}async function _h(u,U){if(u!==null)return et.map(u,vr,U)}function Sh(u){if(en.string(u))return u;if(Ie.RelativePattern.is(u)){if(Ie.URI.is(u.baseUri))return new be.RelativePattern(o(u.baseUri),u.pattern);if(Ie.WorkspaceFolder.is(u.baseUri)){let U=be.workspace.getWorkspaceFolder(o(u.baseUri.uri));return U!==void 0?new be.RelativePattern(U,u.pattern):void 0}}}return{asUri:o,asDocumentSelector:a,asDiagnostics:l,asDiagnostic:g,asRange:q,asRanges:I,asPosition:E,asDiagnosticSeverity:O,asDiagnosticTag:v,asHover:T,asCompletionResult:N,asCompletionItem:$,asTextEdit:de,asTextEdits:we,asSignatureHelp:J,asSignatureInformations:P,asSignatureInformation:c,asParameterInformations:s,asParameterInformation:y,asDeclarationResult:M,asDefinitionResult:Q,asLocation:w,asReferences:ne,asDocumentHighlights:re,asDocumentHighlight:fe,asDocumentHighlightKind:ue,asSymbolKind:ve,asSymbolTag:Ce,asSymbolTags:Te,asSymbolInformations:Pe,asSymbolInformation:he,asDocumentSymbols:C,asDocumentSymbol:k,asCommand:X,asCommands:ge,asCodeAction:nt,asCodeActionKind:Me,asCodeActionKinds:Xe,asCodeActionResult:Ye,asCodeLens:He,asCodeLenses:Ze,asWorkspaceEdit:Ke,asDocumentLink:st,asDocumentLinks:ce,asFoldingRangeKind:ze,asFoldingRange:Et,asFoldingRanges:m,asColor:te,asColorInformation:le,asColorInformations:me,asColorPresentation:Fe,asColorPresentations:Ne,asSelectionRange:Y,asSelectionRanges:Re,asInlineValue:je,asInlineValues:H,asInlayHint:p,asInlayHints:_,asSemanticTokensLegend:$e,asSemanticTokens:zt,asSemanticTokensEdit:Ht,asSemanticTokensEdits:sn,asCallHierarchyItem:h,asCallHierarchyItems:G,asCallHierarchyIncomingCall:ie,asCallHierarchyIncomingCalls:Ee,asCallHierarchyOutgoingCall:ct,asCallHierarchyOutgoingCalls:ot,asLinkedEditingRanges:In,asTypeHierarchyItem:vr,asTypeHierarchyItems:_h,asGlobPattern:Sh}}Ei.createConverter=WC});var gt=ee(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.generateUuid=tn.parse=tn.isUUID=tn.v4=tn.empty=void 0;var Wr=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},Kr=class n extends Wr{constructor(){super([n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),"-",n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),"-","4",n._randomHex(),n._randomHex(),n._randomHex(),"-",n._oneOf(n._timeHighBits),n._randomHex(),n._randomHex(),n._randomHex(),"-",n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return n._oneOf(n._chars)}};Kr._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Kr._timeHighBits=["8","9","a","b"];tn.empty=new Wr("00000000-0000-0000-0000-000000000000");function zd(){return new Kr}tn.v4=zd;var KC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Vd(n){return KC.test(n)}tn.isUUID=Vd;function zC(n){if(!Vd(n))throw new Error("invalid uuid");return new Wr(n)}tn.parse=zC;function VC(){return zd().asHex()}tn.generateUuid=VC});var Ls=ee(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});ki.ProgressPart=void 0;var Bd=require("vscode"),Gd=ke(),Xd=Jt(),As=class{constructor(e,t,r){this._client=e,this._token=t,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(Gd.WorkDoneProgress.type,this._token,i=>{switch(i.kind){case"begin":this.begin(i);break;case"report":this.report(i);break;case"end":this.done(),r&&r(this);break}})}begin(e){this._infinite=e.percentage===void 0,this._lspProgressDisposable!==void 0&&Bd.window.withProgress({location:Bd.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(t,r)=>{if(this._lspProgressDisposable!==void 0)return this._progress=t,this._cancellationToken=r,this._tokenDisposable=this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(Gd.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((i,o)=>{this._resolve=i,this._reject=o})})}report(e){if(this._infinite&&Xd.string(e.message))this._progress!==void 0&&this._progress.report({message:e.message});else if(Xd.number(e.percentage)){let t=Math.max(0,Math.min(e.percentage,100)),r=Math.max(0,t-this._reported);this._reported+=r,this._progress!==void 0&&this._progress.report({message:e.message,increment:r})}}cancel(){this.cleanup(),this._reject!==void 0&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),this._resolve!==void 0&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){this._lspProgressDisposable!==void 0&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),this._tokenDisposable!==void 0&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}};ki.ProgressPart=As});var Ge=ee(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.WorkspaceFeature=wt.TextDocumentLanguageFeature=wt.TextDocumentEventFeature=wt.DynamicDocumentFeature=wt.DynamicFeature=wt.StaticFeature=wt.ensure=wt.LSPCancellationError=void 0;var Kn=require("vscode"),Ms=ke(),Lt=Jt(),Yd=gt(),Hs=class extends Kn.CancellationError{constructor(e){super(),this.data=e}};wt.LSPCancellationError=Hs;function BC(n,e){return n[e]===void 0&&(n[e]={}),n[e]}wt.ensure=BC;var GC;(function(n){function e(t){let r=t;return r!=null&&Lt.func(r.fillClientCapabilities)&&Lt.func(r.initialize)&&Lt.func(r.getState)&&Lt.func(r.dispose)&&(r.fillInitializeParams===void 0||Lt.func(r.fillInitializeParams))}n.is=e})(GC=wt.StaticFeature||(wt.StaticFeature={}));var XC;(function(n){function e(t){let r=t;return r!=null&&Lt.func(r.fillClientCapabilities)&&Lt.func(r.initialize)&&Lt.func(r.getState)&&Lt.func(r.dispose)&&(r.fillInitializeParams===void 0||Lt.func(r.fillInitializeParams))&&Lt.func(r.register)&&Lt.func(r.unregister)&&r.registrationType!==void 0}n.is=e})(XC=wt.DynamicFeature||(wt.DynamicFeature={}));var zr=class{constructor(e){this._client=e}getState(){let e=this.getDocumentSelectors(),t=0;for(let i of e){t++;for(let o of Kn.workspace.textDocuments)if(Kn.languages.match(i,o)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let r=t>0;return{kind:"document",id:this.registrationType.method,registrations:r,matches:!1}}};wt.DynamicDocumentFeature=zr;var js=class extends zr{constructor(e,t,r,i,o,a,l){super(e),this._event=t,this._type=r,this._middleware=i,this._createParams=o,this._textDocument=a,this._selectorFilter=l,this._selectors=new Map,this._onNotificationSent=new Kn.EventEmitter}static textDocumentFilter(e,t){for(let r of e)if(Kn.languages.match(r,t)>0)return!0;return!1}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(t=>{this.callback(t).catch(r=>{this._client.error(`Sending document notification ${this._type.method} failed.`,r)})})),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){let t=async r=>{let i=this._createParams(r);await this._client.sendNotification(this._type,i).catch(),this.notificationSent(r,this._type,i)};if(this.matches(e)){let r=this._middleware();return r?r(e,i=>t(i)):t(e)}}matches(e){return this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))?!1:!this._selectorFilter||this._selectorFilter(this._selectors.values(),e)}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,r){this._onNotificationSent.fire({original:e,type:t,params:r})}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._onNotificationSent.dispose(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let t of this._selectors.values())if(Kn.languages.match(t,e)>0)return{send:r=>this.callback(r)}}};wt.TextDocumentEventFeature=js;var Us=class extends zr{constructor(e,t){super(e),this._registrationType=t,this._registrations=new Map}*getDocumentSelectors(){for(let e of this._registrations.values()){let t=e.data.registerOptions.documentSelector;t!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(t))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let t=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:t[0],data:e,provider:t[1]})}unregister(e){let t=this._registrations.get(e);t!==void 0&&t.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,t){if(t){if(Ms.TextDocumentRegistrationOptions.is(t)){let r=Ms.StaticRegistrationOptions.hasId(t)?t.id:Yd.generateUuid(),i=t.documentSelector||e;if(i)return[r,Object.assign({},t,{documentSelector:i})]}else if(Lt.boolean(t)&&t===!0||Ms.WorkDoneProgressOptions.is(t)){if(!e)return[void 0,void 0];let r=Lt.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e});return[Yd.generateUuid(),r]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,t){if(!(!e||!t))return Lt.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e})}getProvider(e){for(let t of this._registrations.values()){let r=t.data.registerOptions.documentSelector;if(r!==null&&Kn.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(r),e)>0)return t.provider}}getAllProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}};wt.TextDocumentLanguageFeature=Us;var $s=class{constructor(e,t){this._client=e,this._registrationType=t,this._registrations=new Map}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){let t=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:t[0],provider:t[1]})}unregister(e){let t=this._registrations.get(e);t!==void 0&&t.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}};wt.WorkspaceFeature=$s});var Jd=ee((Aw,Qd)=>{Qd.exports=function(n,e){for(var t=[],r=0;r<n.length;r++){var i=e(n[r],r);YC(i)?t.push.apply(t,i):t.push(i)}return t};var YC=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"}});var rf=ee((Lw,nf)=>{"use strict";nf.exports=ef;function ef(n,e,t){n instanceof RegExp&&(n=Zd(n,t)),e instanceof RegExp&&(e=Zd(e,t));var r=tf(n,e,t);return r&&{start:r[0],end:r[1],pre:t.slice(0,r[0]),body:t.slice(r[0]+n.length,r[1]),post:t.slice(r[1]+e.length)}}function Zd(n,e){var t=e.match(n);return t?t[0]:null}ef.range=tf;function tf(n,e,t){var r,i,o,a,l,f=t.indexOf(n),g=t.indexOf(e,f+1),b=f;if(f>=0&&g>0){if(n===e)return[f,g];for(r=[],o=t.length;b>=0&&!l;)b==f?(r.push(b),f=t.indexOf(n,b+1)):r.length==1?l=[r.pop(),g]:(i=r.pop(),i<o&&(o=i,a=g),g=t.indexOf(e,b+1)),b=f<g&&f>=0?f:g;r.length&&(l=[o,a])}return l}});var ff=ee((Mw,df)=>{var QC=Jd(),of=rf();df.exports=eb;var sf="\0SLASH"+Math.random()+"\0",af="\0OPEN"+Math.random()+"\0",Ks="\0CLOSE"+Math.random()+"\0",cf="\0COMMA"+Math.random()+"\0",uf="\0PERIOD"+Math.random()+"\0";function Ws(n){return parseInt(n,10)==n?parseInt(n,10):n.charCodeAt(0)}function JC(n){return n.split("\\\\").join(sf).split("\\{").join(af).split("\\}").join(Ks).split("\\,").join(cf).split("\\.").join(uf)}function ZC(n){return n.split(sf).join("\\").split(af).join("{").split(Ks).join("}").split(cf).join(",").split(uf).join(".")}function lf(n){if(!n)return[""];var e=[],t=of("{","}",n);if(!t)return n.split(",");var r=t.pre,i=t.body,o=t.post,a=r.split(",");a[a.length-1]+="{"+i+"}";var l=lf(o);return o.length&&(a[a.length-1]+=l.shift(),a.push.apply(a,l)),e.push.apply(e,a),e}function eb(n){return n?(n.substr(0,2)==="{}"&&(n="\\{\\}"+n.substr(2)),sr(JC(n),!0).map(ZC)):[]}function tb(n){return"{"+n+"}"}function nb(n){return/^-?0\d/.test(n)}function rb(n,e){return n<=e}function ib(n,e){return n>=e}function sr(n,e){var t=[],r=of("{","}",n);if(!r||/\$$/.test(r.pre))return[n];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),o=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),a=i||o,l=r.body.indexOf(",")>=0;if(!a&&!l)return r.post.match(/,.*\}/)?(n=r.pre+"{"+r.body+Ks+r.post,sr(n)):[n];var f;if(a)f=r.body.split(/\.\./);else if(f=lf(r.body),f.length===1&&(f=sr(f[0],!1).map(tb),f.length===1)){var b=r.post.length?sr(r.post,!1):[""];return b.map(function(oe){return r.pre+f[0]+oe})}var g=r.pre,b=r.post.length?sr(r.post,!1):[""],S;if(a){var v=Ws(f[0]),E=Ws(f[1]),q=Math.max(f[0].length,f[1].length),I=f.length==3?Math.abs(Ws(f[2])):1,O=rb,F=E<v;F&&(I*=-1,O=ib);var d=f.some(nb);S=[];for(var R=v;O(R,E);R+=I){var T;if(o)T=String.fromCharCode(R),T==="\\"&&(T="");else if(T=String(R),d){var N=q-T.length;if(N>0){var j=new Array(N+1).join("0");R<0?T="-"+j+T.slice(1):T=j+T}}S.push(T)}}else S=QC(f,function($){return sr($,!1)});for(var K=0;K<S.length;K++)for(var L=0;L<b.length;L++){var Z=g+S[K]+b[L];(!e||a||Z)&&t.push(Z)}return t}});var Fi=ee((Hw,yf)=>{yf.exports=Vt;Vt.Minimatch=It;var Vr=function(){try{return require("path")}catch{}}()||{sep:"/"};Vt.sep=Vr.sep;var Bs=Vt.GLOBSTAR=It.GLOBSTAR={},ob=ff(),hf={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},zs="[^/]",Vs=zs+"*?",sb="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",ab="(?:(?!(?:\\/|^)\\.).)*?",gf=cb("().*{}+?[]^$\\!");function cb(n){return n.split("").reduce(function(e,t){return e[t]=!0,e},{})}var pf=/\/+/;Vt.filter=ub;function ub(n,e){return e=e||{},function(t,r,i){return Vt(t,n,e)}}function On(n,e){e=e||{};var t={};return Object.keys(n).forEach(function(r){t[r]=n[r]}),Object.keys(e).forEach(function(r){t[r]=e[r]}),t}Vt.defaults=function(n){if(!n||typeof n!="object"||!Object.keys(n).length)return Vt;var e=Vt,t=function(i,o,a){return e(i,o,On(n,a))};return t.Minimatch=function(i,o){return new e.Minimatch(i,On(n,o))},t.Minimatch.defaults=function(i){return e.defaults(On(n,i)).Minimatch},t.filter=function(i,o){return e.filter(i,On(n,o))},t.defaults=function(i){return e.defaults(On(n,i))},t.makeRe=function(i,o){return e.makeRe(i,On(n,o))},t.braceExpand=function(i,o){return e.braceExpand(i,On(n,o))},t.match=function(r,i,o){return e.match(r,i,On(n,o))},t};It.defaults=function(n){return Vt.defaults(n).Minimatch};function Vt(n,e,t){return Oi(e),t||(t={}),!t.nocomment&&e.charAt(0)==="#"?!1:new It(e,t).match(n)}function It(n,e){if(!(this instanceof It))return new It(n,e);Oi(n),e||(e={}),n=n.trim(),!e.allowWindowsEscape&&Vr.sep!=="/"&&(n=n.split(Vr.sep).join("/")),this.options=e,this.set=[],this.pattern=n,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}It.prototype.debug=function(){};It.prototype.make=lb;function lb(){var n=this.pattern,e=this.options;if(!e.nocomment&&n.charAt(0)==="#"){this.comment=!0;return}if(!n){this.empty=!0;return}this.parseNegate();var t=this.globSet=this.braceExpand();e.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,t),t=this.globParts=t.map(function(r){return r.split(pf)}),this.debug(this.pattern,t),t=t.map(function(r,i,o){return r.map(this.parse,this)},this),this.debug(this.pattern,t),t=t.filter(function(r){return r.indexOf(!1)===-1}),this.debug(this.pattern,t),this.set=t}It.prototype.parseNegate=db;function db(){var n=this.pattern,e=!1,t=this.options,r=0;if(!t.nonegate){for(var i=0,o=n.length;i<o&&n.charAt(i)==="!";i++)e=!e,r++;r&&(this.pattern=n.substr(r)),this.negate=e}}Vt.braceExpand=function(n,e){return mf(n,e)};It.prototype.braceExpand=mf;function mf(n,e){return e||(this instanceof It?e=this.options:e={}),n=typeof n>"u"?this.pattern:n,Oi(n),e.nobrace||!/\{(?:(?!\{).)*\}/.test(n)?[n]:ob(n)}var fb=1024*64,Oi=function(n){if(typeof n!="string")throw new TypeError("invalid pattern");if(n.length>fb)throw new TypeError("pattern is too long")};It.prototype.parse=hb;var xi={};function hb(n,e){Oi(n);var t=this.options;if(n==="**")if(t.noglobstar)n="*";else return Bs;if(n==="")return"";var r="",i=!!t.nocase,o=!1,a=[],l=[],f,g=!1,b=-1,S=-1,v=n.charAt(0)==="."?"":t.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",E=this;function q(){if(f){switch(f){case"*":r+=Vs,i=!0;break;case"?":r+=zs,i=!0;break;default:r+="\\"+f;break}E.debug("clearStateChar %j %j",f,r),f=!1}}for(var I=0,O=n.length,F;I<O&&(F=n.charAt(I));I++){if(this.debug("%s	%s %s %j",n,I,r,F),o&&gf[F]){r+="\\"+F,o=!1;continue}switch(F){case"/":return!1;case"\\":q(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",n,I,r,F),g){this.debug("  in class"),F==="!"&&I===S+1&&(F="^"),r+=F;continue}E.debug("call clearStateChar %j",f),q(),f=F,t.noext&&q();continue;case"(":if(g){r+="(";continue}if(!f){r+="\\(";continue}a.push({type:f,start:I-1,reStart:r.length,open:hf[f].open,close:hf[f].close}),r+=f==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",f,r),f=!1;continue;case")":if(g||!a.length){r+="\\)";continue}q(),i=!0;var d=a.pop();r+=d.close,d.type==="!"&&l.push(d),d.reEnd=r.length;continue;case"|":if(g||!a.length||o){r+="\\|",o=!1;continue}q(),r+="|";continue;case"[":if(q(),g){r+="\\"+F;continue}g=!0,S=I,b=r.length,r+=F;continue;case"]":if(I===S+1||!g){r+="\\"+F,o=!1;continue}var R=n.substring(S+1,I);try{RegExp("["+R+"]")}catch{var T=this.parse(R,xi);r=r.substr(0,b)+"\\["+T[0]+"\\]",i=i||T[1],g=!1;continue}i=!0,g=!1,r+=F;continue;default:q(),o?o=!1:gf[F]&&!(F==="^"&&g)&&(r+="\\"),r+=F}}for(g&&(R=n.substr(S+1),T=this.parse(R,xi),r=r.substr(0,b)+"\\["+T[0],i=i||T[1]),d=a.pop();d;d=a.pop()){var N=r.slice(d.reStart+d.open.length);this.debug("setting tail",r,d),N=N.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(s,y,w){return w||(w="\\"),y+y+w+"|"}),this.debug(`tail=%j
   %s`,N,N,d,r);var j=d.type==="*"?Vs:d.type==="?"?zs:"\\"+d.type;i=!0,r=r.slice(0,d.reStart)+j+"\\("+N}q(),o&&(r+="\\\\");var K=!1;switch(r.charAt(0)){case"[":case".":case"(":K=!0}for(var L=l.length-1;L>-1;L--){var Z=l[L],$=r.slice(0,Z.reStart),oe=r.slice(Z.reStart,Z.reEnd-8),se=r.slice(Z.reEnd-8,Z.reEnd),pe=r.slice(Z.reEnd);se+=pe;var de=$.split("(").length-1,we=pe;for(I=0;I<de;I++)we=we.replace(/\)[+*?]?/,"");pe=we;var V="";pe===""&&e!==xi&&(V="$");var J=$+oe+pe+V+se;r=J}if(r!==""&&i&&(r="(?=.)"+r),K&&(r=v+r),e===xi)return[r,i];if(!i)return pb(n);var P=t.nocase?"i":"";try{var c=new RegExp("^"+r+"$",P)}catch{return new RegExp("$.")}return c._glob=n,c._src=r,c}Vt.makeRe=function(n,e){return new It(n,e||{}).makeRe()};It.prototype.makeRe=gb;function gb(){if(this.regexp||this.regexp===!1)return this.regexp;var n=this.set;if(!n.length)return this.regexp=!1,this.regexp;var e=this.options,t=e.noglobstar?Vs:e.dot?sb:ab,r=e.nocase?"i":"",i=n.map(function(o){return o.map(function(a){return a===Bs?t:typeof a=="string"?mb(a):a._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,r)}catch{this.regexp=!1}return this.regexp}Vt.match=function(n,e,t){t=t||{};var r=new It(e,t);return n=n.filter(function(i){return r.match(i)}),r.options.nonull&&!n.length&&n.push(e),n};It.prototype.match=function(e,t){if(typeof t>"u"&&(t=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&t)return!0;var r=this.options;Vr.sep!=="/"&&(e=e.split(Vr.sep).join("/")),e=e.split(pf),this.debug(this.pattern,"split",e);var i=this.set;this.debug(this.pattern,"set",i);var o,a;for(a=e.length-1;a>=0&&(o=e[a],!o);a--);for(a=0;a<i.length;a++){var l=i[a],f=e;r.matchBase&&l.length===1&&(f=[o]);var g=this.matchOne(f,l,t);if(g)return r.flipNegate?!0:!this.negate}return r.flipNegate?!1:this.negate};It.prototype.matchOne=function(n,e,t){var r=this.options;this.debug("matchOne",{this:this,file:n,pattern:e}),this.debug("matchOne",n.length,e.length);for(var i=0,o=0,a=n.length,l=e.length;i<a&&o<l;i++,o++){this.debug("matchOne loop");var f=e[o],g=n[i];if(this.debug(e,f,g),f===!1)return!1;if(f===Bs){this.debug("GLOBSTAR",[e,f,g]);var b=i,S=o+1;if(S===l){for(this.debug("** at the end");i<a;i++)if(n[i]==="."||n[i]===".."||!r.dot&&n[i].charAt(0)===".")return!1;return!0}for(;b<a;){var v=n[b];if(this.debug(`
globstar while`,n,b,e,S,v),this.matchOne(n.slice(b),e.slice(S),t))return this.debug("globstar found match!",b,a,v),!0;if(v==="."||v===".."||!r.dot&&v.charAt(0)==="."){this.debug("dot detected!",n,b,e,S);break}this.debug("globstar swallow a segment, and continue"),b++}return!!(t&&(this.debug(`
>>> no match, partial?`,n,b,e,S),b===a))}var E;if(typeof f=="string"?(E=g===f,this.debug("string match",f,g,E)):(E=g.match(f),this.debug("pattern match",f,g,E)),!E)return!1}if(i===a&&o===l)return!0;if(i===a)return t;if(o===l)return i===a-1&&n[i]==="";throw new Error("wtf?")};function pb(n){return n.replace(/\\(.)/g,"$1")}function mb(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var na=ee(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.DiagnosticFeature=Cn.DiagnosticPullMode=Cn.vsdiag=void 0;var yb=Fi(),We=require("vscode"),vt=ke(),vb=gt(),Gs=Ge();function Ni(n,e){return n[e]===void 0&&(n[e]={}),n[e]}var gn;(function(n){let e;(function(t){t.full="full",t.unChanged="unChanged"})(e=n.DocumentDiagnosticReportKind||(n.DocumentDiagnosticReportKind={}))})(gn=Cn.vsdiag||(Cn.vsdiag={}));var Xs;(function(n){n.onType="onType",n.onSave="onSave"})(Xs=Cn.DiagnosticPullMode||(Cn.DiagnosticPullMode={}));var xt;(function(n){n.active="open",n.reschedule="reschedule",n.outDated="drop"})(xt||(xt={}));var Ys=class{constructor(){this.open=new Set;let e=()=>{this.open.clear();for(let t of We.window.tabGroups.all)for(let r of t.tabs){let i=r.input;i instanceof We.TabInputText?this.open.add(i.uri.toString()):i instanceof We.TabInputTextDiff&&this.open.add(i.modified.toString())}};e(),We.window.tabGroups.onDidChangeTabs!==void 0?this.disposable=We.window.tabGroups.onDidChangeTabs(e):this.disposable={dispose:()=>{}}}dispose(){this.disposable.dispose()}isActive(e){return e instanceof We.Uri?We.window.activeTextEditor?.document.uri===e:We.window.activeTextEditor?.document===e}isVisible(e){let t=e instanceof We.Uri?e:e.uri;return this.open.has(t.toString())}getTabResources(){let e=[];for(let t of We.window.tabGroups.all)for(let r of t.tabs){let i=r.input;i instanceof We.TabInputText?e.push(i.uri):i instanceof We.TabInputTextDiff&&e.push(i.modified)}return e}},$t;(function(n){n[n.document=1]="document",n[n.workspace=2]="workspace"})($t||($t={}));var Qs=class{constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,t,r){let i=e===$t.document?this.documentPullStates:this.workspacePullStates,[o,a,l]=t instanceof We.Uri?[t.toString(),t,r]:[t.uri.toString(),t.uri,t.version],f=i.get(o);return f===void 0&&(f={document:a,pulledVersion:l,resultId:void 0},i.set(o,f)),f}update(e,t,r,i){let o=e===$t.document?this.documentPullStates:this.workspacePullStates,[a,l,f,g]=t instanceof We.Uri?[t.toString(),t,r,i]:[t.uri.toString(),t.uri,t.version,r],b=o.get(a);b===void 0?(b={document:l,pulledVersion:f,resultId:g},o.set(a,b)):(b.pulledVersion=f,b.resultId=g)}unTrack(e,t){let r=t instanceof We.Uri?t.toString():t.uri.toString();(e===$t.document?this.documentPullStates:this.workspacePullStates).delete(r)}tracks(e,t){let r=t instanceof We.Uri?t.toString():t.uri.toString();return(e===$t.document?this.documentPullStates:this.workspacePullStates).has(r)}getResultId(e,t){let r=t instanceof We.Uri?t.toString():t.uri.toString();return(e===$t.document?this.documentPullStates:this.workspacePullStates).get(r)?.resultId}getAllResultIds(){let e=[];for(let[t,r]of this.workspacePullStates)this.documentPullStates.has(t)&&(r=this.documentPullStates.get(t)),r.resultId!==void 0&&e.push({uri:t,value:r.resultId});return e}},Js=class{constructor(e,t,r){this.client=e,this.tabs=t,this.options=r,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new We.EventEmitter,this.provider=this.createProvider(),this.diagnostics=We.languages.createDiagnosticCollection(r.identifier),this.openRequests=new Map,this.documentStates=new Qs,this.workspaceErrorCounter=0}knows(e,t){return this.documentStates.tracks(e,t)}pull(e,t){if(this.isDisposed)return;let r=e instanceof We.Uri?e:e.uri;this.pullAsync(e).then(()=>{t&&t()},i=>{this.client.error(`Document pull failed for text document ${r.toString()}`,i,!1)})}async pullAsync(e,t){if(this.isDisposed)return;let r=e instanceof We.Uri,i=r?e:e.uri,o=i.toString();t=r?t:e.version;let a=this.openRequests.get(o),l=r?this.documentStates.track($t.document,e,t):this.documentStates.track($t.document,e);if(a===void 0){let f=new We.CancellationTokenSource;this.openRequests.set(o,{state:xt.active,document:e,version:t,tokenSource:f});let g,b;try{g=await this.provider.provideDiagnostics(e,l.resultId,f.token)??{kind:gn.DocumentDiagnosticReportKind.full,items:[]}}catch(S){if(S instanceof Gs.LSPCancellationError&&vt.DiagnosticServerCancellationData.is(S.data)&&S.data.retriggerRequest===!1&&(b={state:xt.outDated,document:e}),b===void 0&&S instanceof We.CancellationError)b={state:xt.reschedule,document:e};else throw S}if(b=b??this.openRequests.get(o),b===void 0){this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${o}`),this.diagnostics.delete(i);return}if(this.openRequests.delete(o),!this.tabs.isVisible(e)){this.documentStates.unTrack($t.document,e);return}if(b.state===xt.outDated)return;g!==void 0&&(g.kind===gn.DocumentDiagnosticReportKind.full&&this.diagnostics.set(i,g.items),l.pulledVersion=t,l.resultId=g.resultId),b.state===xt.reschedule&&this.pull(e)}else a.state===xt.active?(a.tokenSource.cancel(),this.openRequests.set(o,{state:xt.reschedule,document:a.document})):a.state===xt.outDated&&this.openRequests.set(o,{state:xt.reschedule,document:a.document})}cleanupPull(e){let t=e instanceof We.Uri?e:e.uri,r=t.toString(),i=this.openRequests.get(r);this.options.workspaceDiagnostics||this.options.interFileDependencies?i!==void 0?this.openRequests.set(r,{state:xt.reschedule,document:e}):this.pull(e):(i!==void 0&&(i.state===xt.active&&i.tokenSource.cancel(),this.openRequests.set(r,{state:xt.outDated,document:e})),this.diagnostics.delete(t))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then(()=>{this.workspaceTimeout=(0,vt.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3)},e=>{!(e instanceof Gs.LSPCancellationError)&&!vt.DiagnosticServerCancellationData.is(e.data)&&(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,vt.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3))})}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;this.workspaceCancellation!==void 0&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new We.CancellationTokenSource;let e=this.documentStates.getAllResultIds().map(t=>({uri:this.client.protocol2CodeConverter.asUri(t.uri),value:t.value}));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,t=>{if(!(!t||this.isDisposed))for(let r of t.items)r.kind===gn.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks($t.document,r.uri)||this.diagnostics.set(r.uri,r.items)),this.documentStates.update($t.workspace,r.uri,r.version??void 0,r.resultId)})}createProvider(){let e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(t,r,i)=>{let o=(l,f,g)=>{let b={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(l instanceof We.Uri?l:l.uri)},previousResultId:f};return this.isDisposed===!0||!this.client.isRunning()?{kind:gn.DocumentDiagnosticReportKind.full,items:[]}:this.client.sendRequest(vt.DocumentDiagnosticRequest.type,b,g).then(async S=>S==null||this.isDisposed||g.isCancellationRequested?{kind:gn.DocumentDiagnosticReportKind.full,items:[]}:S.kind===vt.DocumentDiagnosticReportKind.Full?{kind:gn.DocumentDiagnosticReportKind.full,resultId:S.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(S.items,g)}:{kind:gn.DocumentDiagnosticReportKind.unChanged,resultId:S.resultId},S=>this.client.handleFailedRequest(vt.DocumentDiagnosticRequest.type,g,S,{kind:gn.DocumentDiagnosticReportKind.full,items:[]}))},a=this.client.middleware;return a.provideDiagnostics?a.provideDiagnostics(t,r,i,o):o(t,r,i)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(t,r,i)=>{let o=async g=>g.kind===vt.DocumentDiagnosticReportKind.Full?{kind:gn.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(g.uri),resultId:g.resultId,version:g.version,items:await this.client.protocol2CodeConverter.asDiagnostics(g.items,r)}:{kind:gn.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(g.uri),resultId:g.resultId,version:g.version},a=g=>{let b=[];for(let S of g)b.push({uri:this.client.code2ProtocolConverter.asUri(S.uri),value:S.value});return b},l=(g,b)=>{let S=(0,vb.generateUuid)(),v=this.client.onProgress(vt.WorkspaceDiagnosticRequest.partialResult,S,async q=>{if(q==null){i(null);return}let I={items:[]};for(let O of q.items)try{I.items.push(await o(O))}catch(F){this.client.error("Converting workspace diagnostics failed.",F)}i(I)}),E={identifier:this.options.identifier,previousResultIds:a(g),partialResultToken:S};return this.isDisposed===!0||!this.client.isRunning()?{items:[]}:this.client.sendRequest(vt.WorkspaceDiagnosticRequest.type,E,b).then(async q=>{if(b.isCancellationRequested)return{items:[]};let I={items:[]};for(let O of q.items)I.items.push(await o(O));return v.dispose(),i(I),{items:[]}},q=>(v.dispose(),this.client.handleFailedRequest(vt.DocumentDiagnosticRequest.type,b,q,{items:[]})))},f=this.client.middleware;return f.provideWorkspaceDiagnostics?f.provideWorkspaceDiagnostics(t,r,i,l):l(t,r,i)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(let[e,t]of this.openRequests)t.state===xt.active&&t.tokenSource.cancel(),this.openRequests.set(e,{state:xt.outDated,document:t.document});this.diagnostics.dispose()}},Zs=class{constructor(e){this.diagnosticRequestor=e,this.documents=new vt.LinkedMap,this.isDisposed=!1}add(e){if(this.isDisposed===!0)return;let t=e instanceof We.Uri?e.toString():e.uri.toString();this.documents.has(t)||(this.documents.set(t,e,vt.Touch.Last),this.trigger())}remove(e){let t=e instanceof We.Uri?e.toString():e.uri.toString();this.documents.has(t)&&(this.documents.delete(t),this.diagnosticRequestor.pull(e)),this.documents.size===0?this.stop():e===this.endDocument&&(this.endDocument=this.documents.last)}trigger(){if(this.isDisposed!==!0){if(this.intervalHandle!==void 0){this.endDocument=this.documents.last;return}this.endDocument=this.documents.last,this.intervalHandle=(0,vt.RAL)().timer.setInterval(()=>{let e=this.documents.first;if(e!==void 0){let t=e instanceof We.Uri?e.toString():e.uri.toString();this.diagnosticRequestor.pull(e),this.documents.set(t,e,vt.Touch.Last),e===this.endDocument&&this.stop()}},200)}}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear()}stop(){this.intervalHandle?.dispose(),this.intervalHandle=void 0,this.endDocument=void 0}},ea=class{constructor(e,t,r){let i=e.clientOptions.diagnosticPullOptions??{onChange:!0,onSave:!1},o=e.protocol2CodeConverter.asDocumentSelector(r.documentSelector),a=[],l=q=>{let I=r.documentSelector;if(i.match!==void 0)return i.match(I,q);for(let O of I)if(vt.TextDocumentFilter.is(O)){if(typeof O=="string"||O.language!==void 0&&O.language!=="*"||O.scheme!==void 0&&O.scheme!=="*"&&O.scheme!==q.scheme)return!1;if(O.pattern!==void 0){let F=new yb.Minimatch(O.pattern,{noext:!0});if(!F.makeRe()||!F.match(q.fsPath))return!1}}return!0},f=q=>q instanceof We.Uri?l(q):We.languages.match(o,q)>0&&t.isVisible(q),g=q=>q instanceof We.Uri?this.activeTextDocument?.uri.toString()===q.toString():this.activeTextDocument===q;this.diagnosticRequestor=new Js(e,t,r),this.backgroundScheduler=new Zs(this.diagnosticRequestor);let b=q=>{!f(q)||!r.interFileDependencies||g(q)||this.backgroundScheduler.add(q)};this.activeTextDocument=We.window.activeTextEditor?.document,We.window.onDidChangeActiveTextEditor(q=>{let I=this.activeTextDocument;this.activeTextDocument=q?.document,I!==void 0&&b(I),this.activeTextDocument!==void 0&&this.backgroundScheduler.remove(this.activeTextDocument)});let S=e.getFeature(vt.DidOpenTextDocumentNotification.method);a.push(S.onNotificationSent(q=>{let I=q.original;f(I)&&this.diagnosticRequestor.pull(I,()=>{b(I)})}));let v=new Set;for(let q of We.workspace.textDocuments)f(q)&&(this.diagnosticRequestor.pull(q,()=>{b(q)}),v.add(q.uri.toString()));if(i.onTabs===!0)for(let q of t.getTabResources())!v.has(q.toString())&&f(q)&&this.diagnosticRequestor.pull(q,()=>{b(q)});if(i.onChange===!0){let q=e.getFeature(vt.DidChangeTextDocumentNotification.method);a.push(q.onNotificationSent(async I=>{let O=I.original.document;(i.filter===void 0||!i.filter(O,Xs.onType))&&this.diagnosticRequestor.knows($t.document,O)&&I.original.contentChanges.length>0&&this.diagnosticRequestor.pull(O,()=>{this.backgroundScheduler.trigger()})}))}if(i.onSave===!0){let q=e.getFeature(vt.DidSaveTextDocumentNotification.method);a.push(q.onNotificationSent(I=>{let O=I.original;(i.filter===void 0||!i.filter(O,Xs.onSave))&&this.diagnosticRequestor.knows($t.document,O)&&this.diagnosticRequestor.pull(I.original,()=>{this.backgroundScheduler.trigger()})}))}let E=e.getFeature(vt.DidCloseTextDocumentNotification.method);a.push(E.onNotificationSent(q=>{let I=q.original;this.diagnosticRequestor.cleanupPull(I),this.backgroundScheduler.remove(I)})),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(()=>{for(let q of We.workspace.textDocuments)f(q)&&this.diagnosticRequestor.pull(q)}),r.workspaceDiagnostics===!0&&r.identifier!=="da348dc5-c30a-4515-9d98-31ff3be38d14"&&this.diagnosticRequestor.pullWorkspace(),this.disposable=We.Disposable.from(...a,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}},ta=class extends Gs.TextDocumentLanguageFeature{constructor(e){super(e,vt.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let t=Ni(Ni(e,"textDocument"),"diagnostic");t.dynamicRegistration=!0,t.relatedDocumentSupport=!1,Ni(Ni(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,t){this._client.onRequest(vt.DiagnosticRefreshRequest.type,async()=>{for(let a of this.getAllProviders())a.onDidChangeDiagnosticsEmitter.fire()});let[i,o]=this.getRegistration(t,e.diagnosticProvider);!i||!o||this.register({id:i,registerOptions:o})}dispose(){this.tabs!==void 0&&(this.tabs.dispose(),this.tabs=void 0),super.dispose()}registerLanguageProvider(e){this.tabs===void 0&&(this.tabs=new Ys);let t=new ea(this._client,this.tabs,e);return[t.disposable,t]}};Cn.DiagnosticFeature=ta});var bf=ee(Hi=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});Hi.NotebookDocumentSyncFeature=void 0;var Ot=require("vscode"),Cb=Fi(),_n=ke(),bb=gt(),vf=Jt();function Cf(n,e){return n[e]===void 0&&(n[e]={}),n[e]}var ar;(function(n){let e;(function(t){function r(v,E){return{version:v.version,uri:E.asUri(v.uri)}}t.asVersionedNotebookDocumentIdentifier=r;function i(v,E,q){let I=_n.NotebookDocument.create(q.asUri(v.uri),v.notebookType,v.version,o(E,q));return Object.keys(v.metadata).length>0&&(I.metadata=a(v.metadata)),I}t.asNotebookDocument=i;function o(v,E){return v.map(q=>l(q,E))}t.asNotebookCells=o;function a(v){return g(new Set,v)}t.asMetadata=a;function l(v,E){let q=_n.NotebookCell.create(f(v.kind),E.asUri(v.document.uri));return Object.keys(v.metadata).length>0&&(q.metadata=a(v.metadata)),v.executionSummary!==void 0&&vf.number(v.executionSummary.executionOrder)&&vf.boolean(v.executionSummary.success)&&(q.executionSummary={executionOrder:v.executionSummary.executionOrder,success:v.executionSummary.success}),q}t.asNotebookCell=l;function f(v){switch(v){case Ot.NotebookCellKind.Markup:return _n.NotebookCellKind.Markup;case Ot.NotebookCellKind.Code:return _n.NotebookCellKind.Code}}function g(v,E){if(v.has(E))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(E)){let q=[];for(let I of E)if(I!==null&&typeof I=="object"||Array.isArray(I))q.push(g(v,I));else{if(I instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");q.push(I)}return q}else{let q=Object.keys(E),I=Object.create(null);for(let O of q){let F=E[O];if(F!==null&&typeof F=="object"||Array.isArray(F))I[O]=g(v,F);else{if(F instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");I[O]=F}}return I}}function b(v,E){let q=E.asChangeTextDocumentParams(v);return{document:q.textDocument,changes:q.contentChanges}}t.asTextContentChange=b;function S(v,E){let q=Object.create(null);if(v.metadata&&(q.metadata=n.c2p.asMetadata(v.metadata)),v.cells!==void 0){let I=Object.create(null),O=v.cells;O.structure&&(I.structure={array:{start:O.structure.array.start,deleteCount:O.structure.array.deleteCount,cells:O.structure.array.cells!==void 0?O.structure.array.cells.map(F=>n.c2p.asNotebookCell(F,E)):void 0},didOpen:O.structure.didOpen!==void 0?O.structure.didOpen.map(F=>E.asOpenTextDocumentParams(F.document).textDocument):void 0,didClose:O.structure.didClose!==void 0?O.structure.didClose.map(F=>E.asCloseTextDocumentParams(F.document).textDocument):void 0}),O.data!==void 0&&(I.data=O.data.map(F=>n.c2p.asNotebookCell(F,E))),O.textContent!==void 0&&(I.textContent=O.textContent.map(F=>n.c2p.asTextContentChange(F,E))),Object.keys(I).length>0&&(q.cells=I)}return q}t.asNotebookDocumentChangeEvent=S})(e=n.c2p||(n.c2p={}))})(ar||(ar={}));var ra;(function(n){function e(l,f,g){let b=l.length,S=f.length,v=0;for(;v<S&&v<b&&t(l[v],f[v],g);)v++;if(v<S&&v<b){let E=b-1,q=S-1;for(;E>=0&&q>=0&&t(l[E],f[q],g);)E--,q--;let I=E+1-v,O=v===q+1?void 0:f.slice(v,q+1);return O!==void 0?{start:v,deleteCount:I,cells:O}:{start:v,deleteCount:I}}else return v<S?{start:v,deleteCount:0,cells:f.slice(v)}:v<b?{start:v,deleteCount:b-v}:void 0}n.computeDiff=e;function t(l,f,g=!0){return l.kind!==f.kind||l.document.uri.toString()!==f.document.uri.toString()||l.document.languageId!==f.document.languageId||!r(l.executionSummary,f.executionSummary)?!1:!g||g&&o(l.metadata,f.metadata)}function r(l,f){return l===f?!0:l===void 0||f===void 0?!1:l.executionOrder===f.executionOrder&&l.success===f.success&&i(l.timing,f.timing)}function i(l,f){return l===f?!0:l===void 0||f===void 0?!1:l.startTime===f.startTime&&l.endTime===f.endTime}function o(l,f){if(l===f)return!0;if(l==null||f===null||f===void 0||typeof l!=typeof f||typeof l!="object")return!1;let g=Array.isArray(l),b=Array.isArray(f);if(g!==b)return!1;if(g&&b){if(l.length!==f.length)return!1;for(let S=0;S<l.length;S++)if(!o(l[S],f[S]))return!1}if(a(l)&&a(f)){let S=Object.keys(l),v=Object.keys(f);if(S.length!==v.length||(S.sort(),v.sort(),!o(S,v)))return!1;for(let E=0;E<S.length;E++){let q=S[E];if(!o(l[q],f[q]))return!1}return!0}return!1}function a(l){return l!==null&&typeof l=="object"}n.isObjectLiteral=a})(ra||(ra={}));var ia;(function(n){function e(t,r){if(typeof t=="string")return t==="*"||r.notebookType===t;if(t.notebookType!==void 0&&t.notebookType!=="*"&&r.notebookType!==t.notebookType)return!1;let i=r.uri;if(t.scheme!==void 0&&t.scheme!=="*"&&i.scheme!==t.scheme)return!1;if(t.pattern!==void 0){let o=new Cb.Minimatch(t.pattern,{noext:!0});if(!o.makeRe()||!o.match(i.fsPath))return!1}return!0}n.matchNotebook=e})(ia||(ia={}));var Ai;(function(n){function e(r){let i=r.notebookSelector,o=[];for(let a of i){let l=(typeof a.notebook=="string"?a.notebook:a.notebook?.notebookType)??"*",f=typeof a.notebook=="string"?void 0:a.notebook?.scheme,g=typeof a.notebook=="string"?void 0:a.notebook?.pattern;if(a.cells!==void 0)for(let b of a.cells)o.push(t(l,f,g,b.language));else o.push(t(l,f,g,void 0))}return o}n.asDocumentSelector=e;function t(r,i,o,a){return i===void 0&&o===void 0?{notebook:r,language:a}:{notebook:{notebookType:r,scheme:i,pattern:o},language:a}}})(Ai||(Ai={}));var Li;(function(n){function e(t){return{cells:t,uris:new Set(t.map(r=>r.document.uri.toString()))}}n.create=e})(Li||(Li={}));var cr=class{constructor(e,t){this.client=e,this.options=t,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(Ai.asDocumentSelector(t)),Ot.workspace.onDidOpenNotebookDocument(r=>{this.notebookDidOpen.add(r.uri.toString()),this.didOpen(r)},void 0,this.disposables);for(let r of Ot.workspace.notebookDocuments)this.notebookDidOpen.add(r.uri.toString()),this.didOpen(r);Ot.workspace.onDidChangeNotebookDocument(r=>this.didChangeNotebookDocument(r),void 0,this.disposables),this.options.save===!0&&Ot.workspace.onDidSaveNotebookDocument(r=>this.didSave(r),void 0,this.disposables),Ot.workspace.onDidCloseNotebookDocument(r=>{this.didClose(r),this.notebookDidOpen.delete(r.uri.toString())},void 0,this.disposables)}getState(){for(let e of Ot.workspace.notebookDocuments)if(this.getMatchingCells(e)!==void 0)return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){return Ot.languages.match(this.selector,e)>0}didOpenNotebookCellTextDocument(e,t){if(Ot.languages.match(this.selector,t.document)===0||!this.notebookDidOpen.has(e.uri.toString()))return;let r=this.notebookSyncInfo.get(e.uri.toString()),i=this.cellMatches(e,t);if(r!==void 0){let o=r.uris.has(t.document.uri.toString());if(i&&o||!i&&!o)return;if(i){let a=this.getMatchingCells(e);if(a!==void 0){let l=this.asNotebookDocumentChangeEvent(e,void 0,r,a);l!==void 0&&this.doSendChange(l,a).catch(()=>{})}}}else i&&this.doSendOpen(e,[t]).catch(()=>{})}didChangeNotebookCellTextDocument(e,t){Ot.languages.match(this.selector,t.document)!==0&&this.doSendChange({notebook:e,cells:{textContent:[t]}},void 0).catch(()=>{})}didCloseNotebookCellTextDocument(e,t){let r=this.notebookSyncInfo.get(e.uri.toString());if(r===void 0)return;let i=t.document.uri,o=r.cells.findIndex(a=>a.document.uri.toString()===i.toString());if(o!==-1)if(o===0&&r.cells.length===1)this.doSendClose(e,r.cells).catch(()=>{});else{let a=r.cells.slice(),l=a.splice(o,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:o,deleteCount:1},didClose:l}}},a).catch(()=>{})}}dispose(){for(let e of this.disposables)e.dispose()}didOpen(e,t=this.getMatchingCells(e),r=this.notebookSyncInfo.get(e.uri.toString())){if(r!==void 0)if(t!==void 0){let i=this.asNotebookDocumentChangeEvent(e,void 0,r,t);i!==void 0&&this.doSendChange(i,t).catch(()=>{})}else this.doSendClose(e,[]).catch(()=>{});else{if(t===void 0)return;this.doSendOpen(e,t).catch(()=>{})}}didChangeNotebookDocument(e){let t=e.notebook,r=this.notebookSyncInfo.get(t.uri.toString());if(r===void 0){if(e.contentChanges.length===0)return;let i=this.getMatchingCells(t);if(i===void 0)return;this.didOpen(t,i,r)}else{let i=this.getMatchingCells(t);if(i===void 0){this.didClose(t,r);return}let o=this.asNotebookDocumentChangeEvent(e.notebook,e,r,i);o!==void 0&&this.doSendChange(o,i).catch(()=>{})}}didSave(e){this.notebookSyncInfo.get(e.uri.toString())!==void 0&&this.doSendSave(e).catch(()=>{})}didClose(e,t=this.notebookSyncInfo.get(e.uri.toString())){if(t===void 0)return;let r=e.getCells().filter(i=>t.uris.has(i.document.uri.toString()));this.doSendClose(e,r).catch(()=>{})}async sendDidOpenNotebookDocument(e){let t=this.getMatchingCells(e);if(t!==void 0)return this.doSendOpen(e,t)}async doSendOpen(e,t){let r=async(o,a)=>{let l=ar.c2p.asNotebookDocument(o,a,this.client.code2ProtocolConverter),f=a.map(g=>this.client.code2ProtocolConverter.asTextDocumentItem(g.document));try{await this.client.sendNotification(_n.DidOpenNotebookDocumentNotification.type,{notebookDocument:l,cellTextDocuments:f})}catch(g){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",g),g}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),Li.create(t)),i?.didOpen!==void 0?i.didOpen(e,t,r):r(e,t)}async sendDidChangeNotebookDocument(e){return this.doSendChange(e,void 0)}async doSendChange(e,t=this.getMatchingCells(e.notebook)){let r=async o=>{try{await this.client.sendNotification(_n.DidChangeNotebookDocumentNotification.type,{notebookDocument:ar.c2p.asVersionedNotebookDocumentIdentifier(o.notebook,this.client.code2ProtocolConverter),change:ar.c2p.asNotebookDocumentChangeEvent(o,this.client.code2ProtocolConverter)})}catch(a){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",a),a}},i=this.client.middleware?.notebooks;return e.cells?.structure!==void 0&&this.notebookSyncInfo.set(e.notebook.uri.toString(),Li.create(t??[])),i?.didChange!==void 0?i?.didChange(e,r):r(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){let t=async i=>{try{await this.client.sendNotification(_n.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(i.uri)}})}catch(o){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",o),o}},r=this.client.middleware?.notebooks;return r?.didSave!==void 0?r.didSave(e,t):t(e)}async sendDidCloseNotebookDocument(e){return this.doSendClose(e,this.getMatchingCells(e)??[])}async doSendClose(e,t){let r=async(o,a)=>{try{await this.client.sendNotification(_n.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(o.uri)},cellTextDocuments:a.map(l=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(l.document))})}catch(l){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",l),l}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),i?.didClose!==void 0?i.didClose(e,t,r):r(e,t)}asNotebookDocumentChangeEvent(e,t,r,i){if(t!==void 0&&t.notebook!==e)throw new Error("Notebook must be identical");let o={notebook:e};t?.metadata!==void 0&&(o.metadata=ar.c2p.asMetadata(t.metadata));let a;if(t?.cellChanges!==void 0&&t.cellChanges.length>0){let l=[];a=new Set(i.map(f=>f.document.uri.toString()));for(let f of t.cellChanges)a.has(f.cell.document.uri.toString())&&(f.executionSummary!==void 0||f.metadata!==void 0)&&l.push(f.cell);l.length>0&&(o.cells=o.cells??{},o.cells.data=l)}if((t?.contentChanges!==void 0&&t.contentChanges.length>0||t===void 0)&&r!==void 0&&i!==void 0){let l=r.cells,f=i,g=ra.computeDiff(l,f,!1),b,S;if(g!==void 0){b=g.cells===void 0?new Map:new Map(g.cells.map(q=>[q.document.uri.toString(),q])),S=g.deleteCount===0?new Map:new Map(l.slice(g.start,g.start+g.deleteCount).map(q=>[q.document.uri.toString(),q]));for(let q of Array.from(S.keys()))b.has(q)&&(S.delete(q),b.delete(q));o.cells=o.cells??{};let v=[],E=[];if(b.size>0||S.size>0){for(let q of b.values())v.push(q);for(let q of S.values())E.push(q)}o.cells.structure={array:g,didOpen:v,didClose:E}}}return Object.keys(o).length>1?o:void 0}getMatchingCells(e,t=e.getCells()){if(this.options.notebookSelector!==void 0){for(let r of this.options.notebookSelector)if(r.notebook===void 0){if(r.cells===void 0)return;let i=this.filterCells(e,t,r.cells);return i.length===0?void 0:i}else if(ia.matchNotebook(r.notebook,e))return r.cells===void 0?t:this.filterCells(e,t,r.cells)}}cellMatches(e,t){let r=this.getMatchingCells(e,[t]);return r!==void 0&&r[0]===t}filterCells(e,t,r){let i=t.filter(o=>{let a=o.document.languageId;return r.some(l=>l.language==="*"||a===l.language)});return typeof this.client.clientOptions.notebookDocumentOptions?.filterCells=="function"?this.client.clientOptions.notebookDocumentOptions.filterCells(e,t):i}},Mi=class n{constructor(e){this.client=e,this.registrations=new Map,this.registrationType=_n.NotebookDocumentSyncRegistrationType.type,Ot.workspace.onDidOpenTextDocument(t=>{if(t.uri.scheme!==n.CellScheme)return;let[r,i]=this.findNotebookDocumentAndCell(t);if(!(r===void 0||i===void 0))for(let o of this.registrations.values())o instanceof cr&&o.didOpenNotebookCellTextDocument(r,i)}),Ot.workspace.onDidChangeTextDocument(t=>{if(t.contentChanges.length===0)return;let r=t.document;if(r.uri.scheme!==n.CellScheme)return;let[i]=this.findNotebookDocumentAndCell(r);if(i!==void 0)for(let o of this.registrations.values())o instanceof cr&&o.didChangeNotebookCellTextDocument(i,t)}),Ot.workspace.onDidCloseTextDocument(t=>{if(t.uri.scheme!==n.CellScheme)return;let[r,i]=this.findNotebookDocumentAndCell(t);if(!(r===void 0||i===void 0))for(let o of this.registrations.values())o instanceof cr&&o.didCloseNotebookCellTextDocument(r,i)})}getState(){if(this.registrations.size===0)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(let e of this.registrations.values()){let t=e.getState();if(t.kind==="document"&&t.registrations===!0&&t.matches===!0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}fillClientCapabilities(e){let t=Cf(Cf(e,"notebookDocument"),"synchronization");t.dynamicRegistration=!0,t.executionSummarySupport=!0}preInitialize(e){let t=e.notebookDocumentSync;t!==void 0&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(Ai.asDocumentSelector(t)))}initialize(e){let t=e.notebookDocumentSync;if(t===void 0)return;let r=t.id??bb.generateUuid();this.register({id:r,registerOptions:t})}register(e){let t=new cr(this.client,e.registerOptions);this.registrations.set(e.id,t)}unregister(e){let t=this.registrations.get(e);t&&t.dispose()}dispose(){for(let e of this.registrations.values())e.dispose();this.registrations.clear()}handles(e){if(e.uri.scheme!==n.CellScheme)return!1;if(this.dedicatedChannel!==void 0&&Ot.languages.match(this.dedicatedChannel,e)>0)return!0;for(let t of this.registrations.values())if(t.handles(e))return!0;return!1}getProvider(e){for(let t of this.registrations.values())if(t.handles(e.document))return t}findNotebookDocumentAndCell(e){let t=e.uri.toString();for(let r of Ot.workspace.notebookDocuments)for(let i of r.getCells())if(i.document.uri.toString()===t)return[r,i];return[void 0,void 0]}};Hi.NotebookDocumentSyncFeature=Mi;Mi.CellScheme="vscode-notebook-cell"});var Rf=ee(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});Fn.SyncConfigurationFeature=Fn.toJSONObject=Fn.ConfigurationFeature=void 0;var ur=require("vscode"),Br=ke(),Db=Jt(),Rb=gt(),Df=Ge(),oa=class{constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(Br.ConfigurationRequest.type,(t,r)=>{let i=a=>{let l=[];for(let f of a.items){let g=f.scopeUri!==void 0&&f.scopeUri!==null?this._client.protocol2CodeConverter.asUri(f.scopeUri):void 0;l.push(this.getConfiguration(g,f.section!==null?f.section:void 0))}return l},o=e.middleware.workspace;return o&&o.configuration?o.configuration(t,r,i):i(t,r)})}getConfiguration(e,t){let r=null;if(t){let i=t.lastIndexOf(".");if(i===-1)r=zn(ur.workspace.getConfiguration(void 0,e).get(t));else{let o=ur.workspace.getConfiguration(t.substr(0,i),e);o&&(r=zn(o.get(t.substr(i+1))))}}else{let i=ur.workspace.getConfiguration(void 0,e);r={};for(let o of Object.keys(i))i.has(o)&&(r[o]=zn(i.get(o)))}return r===void 0&&(r=null),r}dispose(){}};Fn.ConfigurationFeature=oa;function zn(n){if(n){if(Array.isArray(n))return n.map(zn);if(typeof n=="object"){let e=Object.create(null);for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=zn(n[t]));return e}}return n}Fn.toJSONObject=zn;var sa=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return Br.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,Df.ensure)((0,Df.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let e=this._client.clientOptions.synchronize?.configurationSection;e!==void 0&&this.register({id:Rb.generateUuid(),registerOptions:{section:e}})}register(e){let t=ur.workspace.onDidChangeConfiguration(r=>{this.onDidChangeConfiguration(e.registerOptions.section,r)});this._listeners.set(e.id,t),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}onDidChangeConfiguration(e,t){let r;if(Db.string(e)?r=[e]:r=e,r!==void 0&&t!==void 0&&!r.some(l=>t.affectsConfiguration(l)))return;let i=async a=>a===void 0?this._client.sendNotification(Br.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(Br.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(a)}),o=this._client.middleware.workspace?.didChangeConfiguration;(o?o(r,i):i(r)).catch(a=>{this._client.error(`Sending notification ${Br.DidChangeConfigurationNotification.type.method} failed`,a)})}extractSettingsInformation(e){function t(o,a){let l=o;for(let f=0;f<a.length-1;f++){let g=l[a[f]];g||(g=Object.create(null),l[a[f]]=g),l=g}return l}let r=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let o=0;o<e.length;o++){let a=e[o],l=a.indexOf("."),f=null;if(l>=0?f=ur.workspace.getConfiguration(a.substr(0,l),r).get(a.substr(l+1)):f=ur.workspace.getConfiguration(void 0,r).get(a),f){let g=e[o].split(".");t(i,g)[g[g.length-1]]=zn(f)}}return i}};Fn.SyncConfigurationFeature=sa});var wf=ee(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.DidSaveTextDocumentFeature=Wt.WillSaveWaitUntilFeature=Wt.WillSaveFeature=Wt.DidChangeTextDocumentFeature=Wt.DidCloseTextDocumentFeature=Wt.DidOpenTextDocumentFeature=void 0;var nn=require("vscode"),_t=ke(),pt=Ge(),wb=$r(),lr=gt(),aa=class extends pt.TextDocumentEventFeature{constructor(e,t){super(e,nn.workspace.onDidOpenTextDocument,_t.DidOpenTextDocumentNotification.type,()=>e.middleware.didOpen,r=>e.code2ProtocolConverter.asOpenTextDocumentParams(r),r=>r,pt.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,pt.ensure)((0,pt.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let r=e.resolvedTextDocumentSync;t&&r&&r.openClose&&this.register({id:lr.generateUuid(),registerOptions:{documentSelector:t}})}get registrationType(){return _t.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let t=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);nn.workspace.textDocuments.forEach(r=>{let i=r.uri.toString();if(!this._syncedDocuments.has(i)&&nn.languages.match(t,r)>0&&!this._client.hasDedicatedTextSynchronizationFeature(r)){let o=this._client.middleware,a=l=>this._client.sendNotification(this._type,this._createParams(l));(o.didOpen?o.didOpen(r,a):a(r)).catch(l=>{this._client.error(`Sending document notification ${this._type.method} failed`,l)}),this._syncedDocuments.set(i,r)}})}notificationSent(e,t,r){super.notificationSent(e,t,r),this._syncedDocuments.set(e.uri.toString(),e)}};Wt.DidOpenTextDocumentFeature=aa;var ca=class extends pt.TextDocumentEventFeature{constructor(e,t){super(e,nn.workspace.onDidCloseTextDocument,_t.DidCloseTextDocumentNotification.type,()=>e.middleware.didClose,r=>e.code2ProtocolConverter.asCloseTextDocumentParams(r),r=>r,pt.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t}get registrationType(){return _t.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,pt.ensure)((0,pt.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let r=e.resolvedTextDocumentSync;t&&r&&r.openClose&&this.register({id:lr.generateUuid(),registerOptions:{documentSelector:t}})}notificationSent(e,t,r){super.notificationSent(e,t,r),this._syncedDocuments.delete(e.uri.toString())}unregister(e){let t=this._selectors.get(e);super.unregister(e);let r=this._selectors.values();this._syncedDocuments.forEach(i=>{if(nn.languages.match(t,i)>0&&!this._selectorFilter(r,i)&&!this._client.hasDedicatedTextSynchronizationFeature(i)){let o=this._client.middleware,a=l=>this._client.sendNotification(this._type,this._createParams(l));this._syncedDocuments.delete(i.uri.toString()),(o.didClose?o.didClose(i,a):a(i)).catch(l=>{this._client.error(`Sending document notification ${this._type.method} failed`,l)})}})}};Wt.DidCloseTextDocumentFeature=ca;var ua=class extends pt.DynamicDocumentFeature{constructor(e){super(e),this._forcingDelivery=!1,this._changeData=new Map,this._onNotificationSent=new nn.EventEmitter}get registrationType(){return _t.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,pt.ensure)((0,pt.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let r=e.resolvedTextDocumentSync;t&&r&&r.change!==void 0&&r.change!==_t.TextDocumentSyncKind.None&&this.register({id:lr.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:r.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=nn.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}))}*getDocumentSelectors(){for(let e of this._changeData.values())yield e.documentSelector}async callback(e){if(e.contentChanges.length===0)return;let t=[];for(let r of this._changeData.values())if(nn.languages.match(r.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let i=this._client.middleware;if(r.syncKind===_t.TextDocumentSyncKind.Incremental){let o=async a=>{let l=this._client.code2ProtocolConverter.asChangeTextDocumentParams(a);await this._client.sendNotification(_t.DidChangeTextDocumentNotification.type,l),this.notificationSent(a,_t.DidChangeTextDocumentNotification.type,l)};t.push(i.didChange?i.didChange(e,a=>o(a)):o(e))}else if(r.syncKind===_t.TextDocumentSyncKind.Full){let o=async a=>{let l=async f=>{let g=this._client.code2ProtocolConverter.asChangeTextDocumentParams(f.document);await this._client.sendNotification(_t.DidChangeTextDocumentNotification.type,g),this.notificationSent(f,_t.DidChangeTextDocumentNotification.type,g)};return this._changeDelayer?(this._changeDelayer.uri!==a.document.uri.toString()&&(await this.forceDelivery(),this._changeDelayer.uri=a.document.uri.toString()),this._changeDelayer.delayer.trigger(()=>l(a))):(this._changeDelayer={uri:a.document.uri.toString(),delayer:new wb.Delayer(200)},this._changeDelayer.delayer.trigger(()=>l(a),-1))};t.push(i.didChange?i.didChange(e,a=>o(a)):o(e))}}return Promise.all(t).then(void 0,r=>{throw this._client.error(`Sending document notification ${_t.DidChangeTextDocumentNotification.type.method} failed`,r),r})}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,r){this._onNotificationSent.fire({original:e,type:t,params:r})}unregister(e){this._changeData.delete(e),this._changeData.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._changeDelayer!==void 0&&this._changeDelayer.delayer.cancel(),this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}async forceDelivery(){if(!(this._forcingDelivery||!this._changeDelayer))try{return this._forcingDelivery=!0,this._changeDelayer.delayer.forceDelivery()}finally{this._forcingDelivery=!1}}getProvider(e){for(let t of this._changeData.values())if(nn.languages.match(t.documentSelector,e)>0)return{send:r=>this.callback(r)}}};Wt.DidChangeTextDocumentFeature=ua;var la=class extends pt.TextDocumentEventFeature{constructor(e){super(e,nn.workspace.onWillSaveTextDocument,_t.WillSaveTextDocumentNotification.type,()=>e.middleware.willSave,t=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(t),t=>t.document,(t,r)=>pt.TextDocumentEventFeature.textDocumentFilter(t,r.document))}get registrationType(){return _t.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let t=(0,pt.ensure)((0,pt.ensure)(e,"textDocument"),"synchronization");t.willSave=!0}initialize(e,t){let r=e.resolvedTextDocumentSync;t&&r&&r.willSave&&this.register({id:lr.generateUuid(),registerOptions:{documentSelector:t}})}};Wt.WillSaveFeature=la;var da=class extends pt.DynamicDocumentFeature{constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return _t.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let t=(0,pt.ensure)((0,pt.ensure)(e,"textDocument"),"synchronization");t.willSaveWaitUntil=!0}initialize(e,t){let r=e.resolvedTextDocumentSync;t&&r&&r.willSaveWaitUntil&&this.register({id:lr.generateUuid(),registerOptions:{documentSelector:t}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=nn.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(pt.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let t=this._client.middleware,r=i=>this._client.sendRequest(_t.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(i)).then(async o=>{let a=await this._client.protocol2CodeConverter.asTextEdits(o);return a===void 0?[]:a});e.waitUntil(t.willSaveWaitUntil?t.willSaveWaitUntil(e,r):r(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}};Wt.WillSaveWaitUntilFeature=da;var fa=class extends pt.TextDocumentEventFeature{constructor(e){super(e,nn.workspace.onDidSaveTextDocument,_t.DidSaveTextDocumentNotification.type,()=>e.middleware.didSave,t=>e.code2ProtocolConverter.asSaveTextDocumentParams(t,this._includeText),t=>t,pt.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return _t.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,pt.ensure)((0,pt.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,t){let r=e.resolvedTextDocumentSync;if(t&&r&&r.save){let i=typeof r.save=="boolean"?{includeText:!1}:{includeText:!!r.save.includeText};this.register({id:lr.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},i)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}};Wt.DidSaveTextDocumentFeature=fa});var _f=ee(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.CompletionItemFeature=void 0;var _b=require("vscode"),Ve=ke(),ha=Ge(),Sb=gt(),Tb=[Ve.CompletionItemKind.Text,Ve.CompletionItemKind.Method,Ve.CompletionItemKind.Function,Ve.CompletionItemKind.Constructor,Ve.CompletionItemKind.Field,Ve.CompletionItemKind.Variable,Ve.CompletionItemKind.Class,Ve.CompletionItemKind.Interface,Ve.CompletionItemKind.Module,Ve.CompletionItemKind.Property,Ve.CompletionItemKind.Unit,Ve.CompletionItemKind.Value,Ve.CompletionItemKind.Enum,Ve.CompletionItemKind.Keyword,Ve.CompletionItemKind.Snippet,Ve.CompletionItemKind.Color,Ve.CompletionItemKind.File,Ve.CompletionItemKind.Reference,Ve.CompletionItemKind.Folder,Ve.CompletionItemKind.EnumMember,Ve.CompletionItemKind.Constant,Ve.CompletionItemKind.Struct,Ve.CompletionItemKind.Event,Ve.CompletionItemKind.Operator,Ve.CompletionItemKind.TypeParameter],ga=class extends ha.TextDocumentLanguageFeature{constructor(e){super(e,Ve.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let t=(0,ha.ensure)((0,ha.ensure)(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[Ve.MarkupKind.Markdown,Ve.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[Ve.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[Ve.InsertTextMode.asIs,Ve.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},t.insertTextMode=Ve.InsertTextMode.adjustIndentation,t.completionItemKind={valueSet:Tb},t.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode"]}}initialize(e,t){let r=this.getRegistrationOptions(t,e.completionProvider);r&&this.register({id:Sb.generateUuid(),registerOptions:r})}registerLanguageProvider(e,t){this.labelDetailsSupport.set(t,!!e.completionItem?.labelDetailsSupport);let r=e.triggerCharacters??[],i=e.allCommitCharacters,o=e.documentSelector,a={provideCompletionItems:(l,f,g,b)=>{let S=this._client,v=this._client.middleware,E=(q,I,O,F)=>S.sendRequest(Ve.CompletionRequest.type,S.code2ProtocolConverter.asCompletionParams(q,I,O),F).then(d=>F.isCancellationRequested?null:S.protocol2CodeConverter.asCompletionResult(d,i,F),d=>S.handleFailedRequest(Ve.CompletionRequest.type,F,d,null));return v.provideCompletionItem?v.provideCompletionItem(l,f,b,g,E):E(l,f,b,g)},resolveCompletionItem:e.resolveProvider?(l,f)=>{let g=this._client,b=this._client.middleware,S=(v,E)=>g.sendRequest(Ve.CompletionResolveRequest.type,g.code2ProtocolConverter.asCompletionItem(v,!!this.labelDetailsSupport.get(t)),E).then(q=>E.isCancellationRequested?null:g.protocol2CodeConverter.asCompletionItem(q),q=>g.handleFailedRequest(Ve.CompletionResolveRequest.type,E,q,v));return b.resolveCompletionItem?b.resolveCompletionItem(l,f,S):S(l,f)}:void 0};return[_b.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(o),a,...r),a]}};ji.CompletionItemFeature=ga});var Sf=ee(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.HoverFeature=void 0;var qb=require("vscode"),Gr=ke(),pa=Ge(),Pb=gt(),ma=class extends pa.TextDocumentLanguageFeature{constructor(e){super(e,Gr.HoverRequest.type)}fillClientCapabilities(e){let t=(0,pa.ensure)((0,pa.ensure)(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[Gr.MarkupKind.Markdown,Gr.MarkupKind.PlainText]}initialize(e,t){let r=this.getRegistrationOptions(t,e.hoverProvider);r&&this.register({id:Pb.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let t=e.documentSelector,r={provideHover:(i,o,a)=>{let l=this._client,f=(b,S,v)=>l.sendRequest(Gr.HoverRequest.type,l.code2ProtocolConverter.asTextDocumentPositionParams(b,S),v).then(E=>v.isCancellationRequested?null:l.protocol2CodeConverter.asHover(E),E=>l.handleFailedRequest(Gr.HoverRequest.type,v,E,null)),g=l.middleware;return g.provideHover?g.provideHover(i,o,a,f):f(i,o,a)}};return[this.registerProvider(t,r),r]}registerProvider(e,t){return qb.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Ui.HoverFeature=ma});var Tf=ee($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});$i.DefinitionFeature=void 0;var Ib=require("vscode"),ya=ke(),va=Ge(),Eb=gt(),Ca=class extends va.TextDocumentLanguageFeature{constructor(e){super(e,ya.DefinitionRequest.type)}fillClientCapabilities(e){let t=(0,va.ensure)((0,va.ensure)(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let r=this.getRegistrationOptions(t,e.definitionProvider);r&&this.register({id:Eb.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let t=e.documentSelector,r={provideDefinition:(i,o,a)=>{let l=this._client,f=(b,S,v)=>l.sendRequest(ya.DefinitionRequest.type,l.code2ProtocolConverter.asTextDocumentPositionParams(b,S),v).then(E=>v.isCancellationRequested?null:l.protocol2CodeConverter.asDefinitionResult(E,v),E=>l.handleFailedRequest(ya.DefinitionRequest.type,v,E,null)),g=l.middleware;return g.provideDefinition?g.provideDefinition(i,o,a,f):f(i,o,a)}};return[this.registerProvider(t,r),r]}registerProvider(e,t){return Ib.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};$i.DefinitionFeature=Ca});var Pf=ee(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});Wi.SignatureHelpFeature=void 0;var qf=require("vscode"),Xr=ke(),ba=Ge(),kb=gt(),Da=class extends ba.TextDocumentLanguageFeature{constructor(e){super(e,Xr.SignatureHelpRequest.type)}fillClientCapabilities(e){let t=(0,ba.ensure)((0,ba.ensure)(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[Xr.MarkupKind.Markdown,Xr.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0},t.signatureInformation.activeParameterSupport=!0,t.contextSupport=!0}initialize(e,t){let r=this.getRegistrationOptions(t,e.signatureHelpProvider);r&&this.register({id:kb.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let t={provideSignatureHelp:(r,i,o,a)=>{let l=this._client,f=(b,S,v,E)=>l.sendRequest(Xr.SignatureHelpRequest.type,l.code2ProtocolConverter.asSignatureHelpParams(b,S,v),E).then(q=>E.isCancellationRequested?null:l.protocol2CodeConverter.asSignatureHelp(q,E),q=>l.handleFailedRequest(Xr.SignatureHelpRequest.type,E,q,null)),g=l.middleware;return g.provideSignatureHelp?g.provideSignatureHelp(r,i,a,o,f):f(r,i,a,o)}};return[this.registerProvider(e,t),t]}registerProvider(e,t){let r=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(e.retriggerCharacters===void 0){let i=e.triggerCharacters||[];return qf.languages.registerSignatureHelpProvider(r,t,...i)}else{let i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return qf.languages.registerSignatureHelpProvider(r,t,i)}}};Wi.SignatureHelpFeature=Da});var If=ee(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.DocumentHighlightFeature=void 0;var xb=require("vscode"),Ra=ke(),wa=Ge(),Ob=gt(),_a=class extends wa.TextDocumentLanguageFeature{constructor(e){super(e,Ra.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,wa.ensure)((0,wa.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,t){let r=this.getRegistrationOptions(t,e.documentHighlightProvider);r&&this.register({id:Ob.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let t=e.documentSelector,r={provideDocumentHighlights:(i,o,a)=>{let l=this._client,f=(b,S,v)=>l.sendRequest(Ra.DocumentHighlightRequest.type,l.code2ProtocolConverter.asTextDocumentPositionParams(b,S),v).then(E=>v.isCancellationRequested?null:l.protocol2CodeConverter.asDocumentHighlights(E,v),E=>l.handleFailedRequest(Ra.DocumentHighlightRequest.type,v,E,null)),g=l.middleware;return g.provideDocumentHighlights?g.provideDocumentHighlights(i,o,a,f):f(i,o,a)}};return[xb.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),r),r]}};Ki.DocumentHighlightFeature=_a});var qa=ee(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.DocumentSymbolFeature=bn.SupportedSymbolTags=bn.SupportedSymbolKinds=void 0;var Fb=require("vscode"),tt=ke(),Sa=Ge(),Nb=gt();bn.SupportedSymbolKinds=[tt.SymbolKind.File,tt.SymbolKind.Module,tt.SymbolKind.Namespace,tt.SymbolKind.Package,tt.SymbolKind.Class,tt.SymbolKind.Method,tt.SymbolKind.Property,tt.SymbolKind.Field,tt.SymbolKind.Constructor,tt.SymbolKind.Enum,tt.SymbolKind.Interface,tt.SymbolKind.Function,tt.SymbolKind.Variable,tt.SymbolKind.Constant,tt.SymbolKind.String,tt.SymbolKind.Number,tt.SymbolKind.Boolean,tt.SymbolKind.Array,tt.SymbolKind.Object,tt.SymbolKind.Key,tt.SymbolKind.Null,tt.SymbolKind.EnumMember,tt.SymbolKind.Struct,tt.SymbolKind.Event,tt.SymbolKind.Operator,tt.SymbolKind.TypeParameter];bn.SupportedSymbolTags=[tt.SymbolTag.Deprecated];var Ta=class extends Sa.TextDocumentLanguageFeature{constructor(e){super(e,tt.DocumentSymbolRequest.type)}fillClientCapabilities(e){let t=(0,Sa.ensure)((0,Sa.ensure)(e,"textDocument"),"documentSymbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:bn.SupportedSymbolKinds},t.hierarchicalDocumentSymbolSupport=!0,t.tagSupport={valueSet:bn.SupportedSymbolTags},t.labelSupport=!0}initialize(e,t){let r=this.getRegistrationOptions(t,e.documentSymbolProvider);r&&this.register({id:Nb.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let t=e.documentSelector,r={provideDocumentSymbols:(o,a)=>{let l=this._client,f=(b,S)=>l.sendRequest(tt.DocumentSymbolRequest.type,l.code2ProtocolConverter.asDocumentSymbolParams(b),S).then(async v=>{if(S.isCancellationRequested||v===void 0||v===null)return null;if(v.length===0)return[];{let E=v[0];return tt.DocumentSymbol.is(E)?await l.protocol2CodeConverter.asDocumentSymbols(v,S):await l.protocol2CodeConverter.asSymbolInformations(v,S)}},v=>l.handleFailedRequest(tt.DocumentSymbolRequest.type,S,v,null)),g=l.middleware;return g.provideDocumentSymbols?g.provideDocumentSymbols(o,a,f):f(o,a)}},i=e.label!==void 0?{label:e.label}:void 0;return[Fb.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),r,i),r]}};bn.DocumentSymbolFeature=Ta});var kf=ee(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.WorkspaceSymbolFeature=void 0;var Ab=require("vscode"),Yr=ke(),Pa=Ge(),Ef=qa(),Lb=gt(),Ia=class extends Pa.WorkspaceFeature{constructor(e){super(e,Yr.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let t=(0,Pa.ensure)((0,Pa.ensure)(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:Ef.SupportedSymbolKinds},t.tagSupport={valueSet:Ef.SupportedSymbolTags},t.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:Lb.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let t={provideWorkspaceSymbols:(r,i)=>{let o=this._client,a=(f,g)=>o.sendRequest(Yr.WorkspaceSymbolRequest.type,{query:f},g).then(b=>g.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformations(b,g),b=>o.handleFailedRequest(Yr.WorkspaceSymbolRequest.type,g,b,null)),l=o.middleware;return l.provideWorkspaceSymbols?l.provideWorkspaceSymbols(r,i,a):a(r,i)},resolveWorkspaceSymbol:e.resolveProvider===!0?(r,i)=>{let o=this._client,a=(f,g)=>o.sendRequest(Yr.WorkspaceSymbolResolveRequest.type,o.code2ProtocolConverter.asWorkspaceSymbol(f),g).then(b=>g.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformation(b),b=>o.handleFailedRequest(Yr.WorkspaceSymbolResolveRequest.type,g,b,null)),l=o.middleware;return l.resolveWorkspaceSymbol?l.resolveWorkspaceSymbol(r,i,a):a(r,i)}:void 0};return[Ab.languages.registerWorkspaceSymbolProvider(t),t]}};zi.WorkspaceSymbolFeature=Ia});var xf=ee(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});Vi.ReferencesFeature=void 0;var Mb=require("vscode"),Ea=ke(),ka=Ge(),Hb=gt(),xa=class extends ka.TextDocumentLanguageFeature{constructor(e){super(e,Ea.ReferencesRequest.type)}fillClientCapabilities(e){(0,ka.ensure)((0,ka.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,t){let r=this.getRegistrationOptions(t,e.referencesProvider);r&&this.register({id:Hb.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let t=e.documentSelector,r={provideReferences:(i,o,a,l)=>{let f=this._client,g=(S,v,E,q)=>f.sendRequest(Ea.ReferencesRequest.type,f.code2ProtocolConverter.asReferenceParams(S,v,E),q).then(I=>q.isCancellationRequested?null:f.protocol2CodeConverter.asReferences(I,q),I=>f.handleFailedRequest(Ea.ReferencesRequest.type,q,I,null)),b=f.middleware;return b.provideReferences?b.provideReferences(i,o,a,l,g):g(i,o,a,l)}};return[this.registerProvider(t,r),r]}registerProvider(e,t){return Mb.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Vi.ReferencesFeature=xa});var Of=ee(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.CodeActionFeature=void 0;var jb=require("vscode"),Bt=ke(),Ub=gt(),Oa=Ge(),Fa=class extends Oa.TextDocumentLanguageFeature{constructor(e){super(e,Bt.CodeActionRequest.type)}fillClientCapabilities(e){let t=(0,Oa.ensure)((0,Oa.ensure)(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.isPreferredSupport=!0,t.disabledSupport=!0,t.dataSupport=!0,t.resolveSupport={properties:["edit"]},t.codeActionLiteralSupport={codeActionKind:{valueSet:[Bt.CodeActionKind.Empty,Bt.CodeActionKind.QuickFix,Bt.CodeActionKind.Refactor,Bt.CodeActionKind.RefactorExtract,Bt.CodeActionKind.RefactorInline,Bt.CodeActionKind.RefactorRewrite,Bt.CodeActionKind.Source,Bt.CodeActionKind.SourceOrganizeImports]}},t.honorsChangeAnnotations=!1}initialize(e,t){let r=this.getRegistrationOptions(t,e.codeActionProvider);r&&this.register({id:Ub.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let t=e.documentSelector,r={provideCodeActions:(i,o,a,l)=>{let f=this._client,g=async(S,v,E,q)=>{let I={textDocument:f.code2ProtocolConverter.asTextDocumentIdentifier(S),range:f.code2ProtocolConverter.asRange(v),context:await f.code2ProtocolConverter.asCodeActionContext(E,q)};return f.sendRequest(Bt.CodeActionRequest.type,I,q).then(O=>q.isCancellationRequested||O===null||O===void 0?null:f.protocol2CodeConverter.asCodeActionResult(O,q),O=>f.handleFailedRequest(Bt.CodeActionRequest.type,q,O,null))},b=f.middleware;return b.provideCodeActions?b.provideCodeActions(i,o,a,l,g):g(i,o,a,l)},resolveCodeAction:e.resolveProvider?(i,o)=>{let a=this._client,l=this._client.middleware,f=async(g,b)=>a.sendRequest(Bt.CodeActionResolveRequest.type,await a.code2ProtocolConverter.asCodeAction(g,b),b).then(S=>b.isCancellationRequested?g:a.protocol2CodeConverter.asCodeAction(S,b),S=>a.handleFailedRequest(Bt.CodeActionResolveRequest.type,b,S,g));return l.resolveCodeAction?l.resolveCodeAction(i,o,f):f(i,o)}:void 0};return[jb.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),r,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),r]}};Bi.CodeActionFeature=Fa});var Nf=ee(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});Gi.CodeLensFeature=void 0;var Ff=require("vscode"),dr=ke(),$b=gt(),Qr=Ge(),Na=class extends Qr.TextDocumentLanguageFeature{constructor(e){super(e,dr.CodeLensRequest.type)}fillClientCapabilities(e){(0,Qr.ensure)((0,Qr.ensure)(e,"textDocument"),"codeLens").dynamicRegistration=!0,(0,Qr.ensure)((0,Qr.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,t){this._client.onRequest(dr.CodeLensRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeCodeLensEmitter.fire()});let i=this.getRegistrationOptions(t,e.codeLensProvider);i&&this.register({id:$b.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,r=new Ff.EventEmitter,i={onDidChangeCodeLenses:r.event,provideCodeLenses:(o,a)=>{let l=this._client,f=(b,S)=>l.sendRequest(dr.CodeLensRequest.type,l.code2ProtocolConverter.asCodeLensParams(b),S).then(v=>S.isCancellationRequested?null:l.protocol2CodeConverter.asCodeLenses(v,S),v=>l.handleFailedRequest(dr.CodeLensRequest.type,S,v,null)),g=l.middleware;return g.provideCodeLenses?g.provideCodeLenses(o,a,f):f(o,a)},resolveCodeLens:e.resolveProvider?(o,a)=>{let l=this._client,f=(b,S)=>l.sendRequest(dr.CodeLensResolveRequest.type,l.code2ProtocolConverter.asCodeLens(b),S).then(v=>S.isCancellationRequested?b:l.protocol2CodeConverter.asCodeLens(v),v=>l.handleFailedRequest(dr.CodeLensResolveRequest.type,S,v,b)),g=l.middleware;return g.resolveCodeLens?g.resolveCodeLens(o,a,f):f(o,a)}:void 0};return[Ff.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),i),{provider:i,onDidChangeCodeLensEmitter:r}]}};Gi.CodeLensFeature=Na});var Af=ee(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});Nn.DocumentOnTypeFormattingFeature=Nn.DocumentRangeFormattingFeature=Nn.DocumentFormattingFeature=void 0;var Xi=require("vscode"),Sn=ke(),Ha=gt(),Tn=Ge(),Jr;(function(n){function e(t){let r=Xi.workspace.getConfiguration("files",t);return{trimTrailingWhitespace:r.get("trimTrailingWhitespace"),trimFinalNewlines:r.get("trimFinalNewlines"),insertFinalNewline:r.get("insertFinalNewline")}}n.fromConfiguration=e})(Jr||(Jr={}));var Aa=class extends Tn.TextDocumentLanguageFeature{constructor(e){super(e,Sn.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,Tn.ensure)((0,Tn.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,t){let r=this.getRegistrationOptions(t,e.documentFormattingProvider);r&&this.register({id:Ha.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let t=e.documentSelector,r={provideDocumentFormattingEdits:(i,o,a)=>{let l=this._client,f=(b,S,v)=>{let E={textDocument:l.code2ProtocolConverter.asTextDocumentIdentifier(b),options:l.code2ProtocolConverter.asFormattingOptions(S,Jr.fromConfiguration(b))};return l.sendRequest(Sn.DocumentFormattingRequest.type,E,v).then(q=>v.isCancellationRequested?null:l.protocol2CodeConverter.asTextEdits(q,v),q=>l.handleFailedRequest(Sn.DocumentFormattingRequest.type,v,q,null))},g=l.middleware;return g.provideDocumentFormattingEdits?g.provideDocumentFormattingEdits(i,o,a,f):f(i,o,a)}};return[Xi.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),r),r]}};Nn.DocumentFormattingFeature=Aa;var La=class extends Tn.TextDocumentLanguageFeature{constructor(e){super(e,Sn.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){(0,Tn.ensure)((0,Tn.ensure)(e,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(e,t){let r=this.getRegistrationOptions(t,e.documentRangeFormattingProvider);r&&this.register({id:Ha.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let t=e.documentSelector,r={provideDocumentRangeFormattingEdits:(i,o,a,l)=>{let f=this._client,g=(S,v,E,q)=>{let I={textDocument:f.code2ProtocolConverter.asTextDocumentIdentifier(S),range:f.code2ProtocolConverter.asRange(v),options:f.code2ProtocolConverter.asFormattingOptions(E,Jr.fromConfiguration(S))};return f.sendRequest(Sn.DocumentRangeFormattingRequest.type,I,q).then(O=>q.isCancellationRequested?null:f.protocol2CodeConverter.asTextEdits(O,q),O=>f.handleFailedRequest(Sn.DocumentRangeFormattingRequest.type,q,O,null))},b=f.middleware;return b.provideDocumentRangeFormattingEdits?b.provideDocumentRangeFormattingEdits(i,o,a,l,g):g(i,o,a,l)}};return[Xi.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),r),r]}};Nn.DocumentRangeFormattingFeature=La;var Ma=class extends Tn.TextDocumentLanguageFeature{constructor(e){super(e,Sn.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,Tn.ensure)((0,Tn.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,t){let r=this.getRegistrationOptions(t,e.documentOnTypeFormattingProvider);r&&this.register({id:Ha.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let t=e.documentSelector,r={provideOnTypeFormattingEdits:(o,a,l,f,g)=>{let b=this._client,S=(E,q,I,O,F)=>{let d={textDocument:b.code2ProtocolConverter.asTextDocumentIdentifier(E),position:b.code2ProtocolConverter.asPosition(q),ch:I,options:b.code2ProtocolConverter.asFormattingOptions(O,Jr.fromConfiguration(E))};return b.sendRequest(Sn.DocumentOnTypeFormattingRequest.type,d,F).then(R=>F.isCancellationRequested?null:b.protocol2CodeConverter.asTextEdits(R,F),R=>b.handleFailedRequest(Sn.DocumentOnTypeFormattingRequest.type,F,R,null))},v=b.middleware;return v.provideOnTypeFormattingEdits?v.provideOnTypeFormattingEdits(o,a,l,f,g,S):S(o,a,l,f,g)}},i=e.moreTriggerCharacter||[];return[Xi.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),r,e.firstTriggerCharacter,...i),r]}};Nn.DocumentOnTypeFormattingFeature=Ma});var Mf=ee(Yi=>{"use strict";Object.defineProperty(Yi,"__esModule",{value:!0});Yi.RenameFeature=void 0;var Wb=require("vscode"),Vn=ke(),Kb=gt(),Lf=Jt(),ja=Ge(),Ua=class extends ja.TextDocumentLanguageFeature{constructor(e){super(e,Vn.RenameRequest.type)}fillClientCapabilities(e){let t=(0,ja.ensure)((0,ja.ensure)(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0,t.prepareSupportDefaultBehavior=Vn.PrepareSupportDefaultBehavior.Identifier,t.honorsChangeAnnotations=!0}initialize(e,t){let r=this.getRegistrationOptions(t,e.renameProvider);r&&(Lf.boolean(e.renameProvider)&&(r.prepareProvider=!1),this.register({id:Kb.generateUuid(),registerOptions:r}))}registerLanguageProvider(e){let t=e.documentSelector,r={provideRenameEdits:(i,o,a,l)=>{let f=this._client,g=(S,v,E,q)=>{let I={textDocument:f.code2ProtocolConverter.asTextDocumentIdentifier(S),position:f.code2ProtocolConverter.asPosition(v),newName:E};return f.sendRequest(Vn.RenameRequest.type,I,q).then(O=>q.isCancellationRequested?null:f.protocol2CodeConverter.asWorkspaceEdit(O,q),O=>f.handleFailedRequest(Vn.RenameRequest.type,q,O,null,!1))},b=f.middleware;return b.provideRenameEdits?b.provideRenameEdits(i,o,a,l,g):g(i,o,a,l)},prepareRename:e.prepareProvider?(i,o,a)=>{let l=this._client,f=(b,S,v)=>{let E={textDocument:l.code2ProtocolConverter.asTextDocumentIdentifier(b),position:l.code2ProtocolConverter.asPosition(S)};return l.sendRequest(Vn.PrepareRenameRequest.type,E,v).then(q=>v.isCancellationRequested?null:Vn.Range.is(q)?l.protocol2CodeConverter.asRange(q):this.isDefaultBehavior(q)?q.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):q&&Vn.Range.is(q.range)?{range:l.protocol2CodeConverter.asRange(q.range),placeholder:q.placeholder}:Promise.reject(new Error("The element can't be renamed.")),q=>{throw typeof q.message=="string"?new Error(q.message):new Error("The element can't be renamed.")})},g=l.middleware;return g.prepareRename?g.prepareRename(i,o,a,f):f(i,o,a)}:void 0};return[this.registerProvider(t,r),r]}registerProvider(e,t){return Wb.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}isDefaultBehavior(e){let t=e;return t&&Lf.boolean(t.defaultBehavior)}};Yi.RenameFeature=Ua});var Hf=ee(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.DocumentLinkFeature=void 0;var zb=require("vscode"),Zr=ke(),$a=Ge(),Vb=gt(),Wa=class extends $a.TextDocumentLanguageFeature{constructor(e){super(e,Zr.DocumentLinkRequest.type)}fillClientCapabilities(e){let t=(0,$a.ensure)((0,$a.ensure)(e,"textDocument"),"documentLink");t.dynamicRegistration=!0,t.tooltipSupport=!0}initialize(e,t){let r=this.getRegistrationOptions(t,e.documentLinkProvider);r&&this.register({id:Vb.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let t=e.documentSelector,r={provideDocumentLinks:(i,o)=>{let a=this._client,l=(g,b)=>a.sendRequest(Zr.DocumentLinkRequest.type,a.code2ProtocolConverter.asDocumentLinkParams(g),b).then(S=>b.isCancellationRequested?null:a.protocol2CodeConverter.asDocumentLinks(S,b),S=>a.handleFailedRequest(Zr.DocumentLinkRequest.type,b,S,null)),f=a.middleware;return f.provideDocumentLinks?f.provideDocumentLinks(i,o,l):l(i,o)},resolveDocumentLink:e.resolveProvider?(i,o)=>{let a=this._client,l=(g,b)=>a.sendRequest(Zr.DocumentLinkResolveRequest.type,a.code2ProtocolConverter.asDocumentLink(g),b).then(S=>b.isCancellationRequested?g:a.protocol2CodeConverter.asDocumentLink(S),S=>a.handleFailedRequest(Zr.DocumentLinkResolveRequest.type,b,S,g)),f=a.middleware;return f.resolveDocumentLink?f.resolveDocumentLink(i,o,l):l(i,o)}:void 0};return[zb.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),r),r]}};Qi.DocumentLinkFeature=Wa});var Uf=ee(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.ExecuteCommandFeature=void 0;var Bb=require("vscode"),Ka=ke(),Gb=gt(),jf=Ge(),za=class{constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return Ka.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,jf.ensure)((0,jf.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:Gb.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let t=this._client,r=t.middleware,i=(o,a)=>{let l={command:o,arguments:a};return t.sendRequest(Ka.ExecuteCommandRequest.type,l).then(void 0,f=>t.handleFailedRequest(Ka.ExecuteCommandRequest.type,void 0,f,void 0))};if(e.registerOptions.commands){let o=[];for(let a of e.registerOptions.commands)o.push(Bb.commands.registerCommand(a,(...l)=>r.executeCommand?r.executeCommand(a,l,i):i(a,l)));this._commands.set(e.id,o)}}unregister(e){let t=this._commands.get(e);t&&t.forEach(r=>r.dispose())}dispose(){this._commands.forEach(e=>{e.forEach(t=>t.dispose())}),this._commands.clear()}};Ji.ExecuteCommandFeature=za});var $f=ee(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.FileSystemWatcherFeature=void 0;var Xb=require("vscode"),Bn=ke(),Zi=Ge(),Va=class{constructor(e,t){this._client=e,this._notifyFileEvent=t,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return Bn.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,Zi.ensure)((0,Zi.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,Zi.ensure)((0,Zi.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,t){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let t=[];for(let r of e.registerOptions.watchers){let i=this._client.protocol2CodeConverter.asGlobPattern(r.globPattern);if(i===void 0)continue;let o=!0,a=!0,l=!0;r.kind!==void 0&&r.kind!==null&&(o=(r.kind&Bn.WatchKind.Create)!==0,a=(r.kind&Bn.WatchKind.Change)!==0,l=(r.kind&Bn.WatchKind.Delete)!==0);let f=Xb.workspace.createFileSystemWatcher(i,!o,!a,!l);this.hookListeners(f,o,a,l,t),t.push(f)}this._watchers.set(e.id,t)}registerRaw(e,t){let r=[];for(let i of t)this.hookListeners(i,!0,!0,!0,r);this._watchers.set(e,r)}hookListeners(e,t,r,i,o){t&&e.onDidCreate(a=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(a),type:Bn.FileChangeType.Created}),null,o),r&&e.onDidChange(a=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(a),type:Bn.FileChangeType.Changed}),null,o),i&&e.onDidDelete(a=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(a),type:Bn.FileChangeType.Deleted}),null,o)}unregister(e){let t=this._watchers.get(e);if(t)for(let r of t)r.dispose()}dispose(){this._watchers.forEach(e=>{for(let t of e)t.dispose()}),this._watchers.clear()}};eo.FileSystemWatcherFeature=Va});var Wf=ee(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});to.ColorProviderFeature=void 0;var Yb=require("vscode"),ei=ke(),Ba=Ge(),Ga=class extends Ba.TextDocumentLanguageFeature{constructor(e){super(e,ei.DocumentColorRequest.type)}fillClientCapabilities(e){(0,Ba.ensure)((0,Ba.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,t){let[r,i]=this.getRegistration(t,e.colorProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,r={provideColorPresentations:(i,o,a)=>{let l=this._client,f=(b,S,v)=>{let E={color:b,textDocument:l.code2ProtocolConverter.asTextDocumentIdentifier(S.document),range:l.code2ProtocolConverter.asRange(S.range)};return l.sendRequest(ei.ColorPresentationRequest.type,E,v).then(q=>v.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(q,v),q=>l.handleFailedRequest(ei.ColorPresentationRequest.type,v,q,null))},g=l.middleware;return g.provideColorPresentations?g.provideColorPresentations(i,o,a,f):f(i,o,a)},provideDocumentColors:(i,o)=>{let a=this._client,l=(g,b)=>{let S={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(g)};return a.sendRequest(ei.DocumentColorRequest.type,S,b).then(v=>b.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(v,b),v=>a.handleFailedRequest(ei.DocumentColorRequest.type,b,v,null))},f=a.middleware;return f.provideDocumentColors?f.provideDocumentColors(i,o,l):l(i,o)}};return[Yb.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),r),r]}};to.ColorProviderFeature=Ga});var Kf=ee(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.ImplementationFeature=void 0;var Qb=require("vscode"),Xa=ke(),Ya=Ge(),Qa=class extends Ya.TextDocumentLanguageFeature{constructor(e){super(e,Xa.ImplementationRequest.type)}fillClientCapabilities(e){let t=(0,Ya.ensure)((0,Ya.ensure)(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[r,i]=this.getRegistration(t,e.implementationProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,r={provideImplementation:(i,o,a)=>{let l=this._client,f=(b,S,v)=>l.sendRequest(Xa.ImplementationRequest.type,l.code2ProtocolConverter.asTextDocumentPositionParams(b,S),v).then(E=>v.isCancellationRequested?null:l.protocol2CodeConverter.asDefinitionResult(E,v),E=>l.handleFailedRequest(Xa.ImplementationRequest.type,v,E,null)),g=l.middleware;return g.provideImplementation?g.provideImplementation(i,o,a,f):f(i,o,a)}};return[this.registerProvider(t,r),r]}registerProvider(e,t){return Qb.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};no.ImplementationFeature=Qa});var zf=ee(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.TypeDefinitionFeature=void 0;var Jb=require("vscode"),Ja=ke(),ti=Ge(),Za=class extends ti.TextDocumentLanguageFeature{constructor(e){super(e,Ja.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,ti.ensure)((0,ti.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let t=(0,ti.ensure)((0,ti.ensure)(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[r,i]=this.getRegistration(t,e.typeDefinitionProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,r={provideTypeDefinition:(i,o,a)=>{let l=this._client,f=(b,S,v)=>l.sendRequest(Ja.TypeDefinitionRequest.type,l.code2ProtocolConverter.asTextDocumentPositionParams(b,S),v).then(E=>v.isCancellationRequested?null:l.protocol2CodeConverter.asDefinitionResult(E,v),E=>l.handleFailedRequest(Ja.TypeDefinitionRequest.type,v,E,null)),g=l.middleware;return g.provideTypeDefinition?g.provideTypeDefinition(i,o,a,f):f(i,o,a)}};return[this.registerProvider(t,r),r]}registerProvider(e,t){return Jb.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};ro.TypeDefinitionFeature=Za});var Vf=ee(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.WorkspaceFoldersFeature=fr.arrayDiff=void 0;var Zb=gt(),io=require("vscode"),ni=ke();function ec(n,e){if(n!==void 0)return n[e]}function tc(n,e){return n.filter(t=>e.indexOf(t)<0)}fr.arrayDiff=tc;var nc=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return ni.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let t=io.workspace.workspaceFolders;this.initializeWithFolders(t),t===void 0?e.workspaceFolders=null:e.workspaceFolders=t.map(r=>this.asProtocol(r))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let t=this._client;t.onRequest(ni.WorkspaceFoldersRequest.type,o=>{let a=()=>{let f=io.workspace.workspaceFolders;return f===void 0?null:f.map(b=>this.asProtocol(b))},l=t.middleware.workspace;return l&&l.workspaceFolders?l.workspaceFolders(o,a):a(o)});let r=ec(ec(ec(e,"workspace"),"workspaceFolders"),"changeNotifications"),i;typeof r=="string"?i=r:r===!0&&(i=Zb.generateUuid()),i&&this.register({id:i,registerOptions:void 0})}sendInitialEvent(e){let t;if(this._initialFolders&&e){let r=tc(this._initialFolders,e),i=tc(e,this._initialFolders);(i.length>0||r.length>0)&&(t=this.doSendEvent(i,r))}else this._initialFolders?t=this.doSendEvent([],this._initialFolders):e&&(t=this.doSendEvent(e,[]));t!==void 0&&t.catch(r=>{this._client.error(`Sending notification ${ni.DidChangeWorkspaceFoldersNotification.type.method} failed`,r)})}doSendEvent(e,t){let r={event:{added:e.map(i=>this.asProtocol(i)),removed:t.map(i=>this.asProtocol(i))}};return this._client.sendNotification(ni.DidChangeWorkspaceFoldersNotification.type,r)}register(e){let t=e.id,r=this._client,i=io.workspace.onDidChangeWorkspaceFolders(o=>{let a=g=>this.doSendEvent(g.added,g.removed),l=r.middleware.workspace;(l&&l.didChangeWorkspaceFolders?l.didChangeWorkspaceFolders(o,a):a(o)).catch(g=>{this._client.error(`Sending notification ${ni.DidChangeWorkspaceFoldersNotification.type.method} failed`,g)})});this._listeners.set(t,i),this.sendInitialEvent(io.workspace.workspaceFolders)}unregister(e){let t=this._listeners.get(e);t!==void 0&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};fr.WorkspaceFoldersFeature=nc});var Bf=ee(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.FoldingRangeFeature=void 0;var eD=require("vscode"),hr=ke(),rc=Ge(),ic=class extends rc.TextDocumentLanguageFeature{constructor(e){super(e,hr.FoldingRangeRequest.type)}fillClientCapabilities(e){let t=(0,rc.ensure)((0,rc.ensure)(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0,t.foldingRangeKind={valueSet:[hr.FoldingRangeKind.Comment,hr.FoldingRangeKind.Imports,hr.FoldingRangeKind.Region]},t.foldingRange={collapsedText:!1}}initialize(e,t){let[r,i]=this.getRegistration(t,e.foldingRangeProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,r={provideFoldingRanges:(i,o,a)=>{let l=this._client,f=(b,S,v)=>{let E={textDocument:l.code2ProtocolConverter.asTextDocumentIdentifier(b)};return l.sendRequest(hr.FoldingRangeRequest.type,E,v).then(q=>v.isCancellationRequested?null:l.protocol2CodeConverter.asFoldingRanges(q,v),q=>l.handleFailedRequest(hr.FoldingRangeRequest.type,v,q,null))},g=l.middleware;return g.provideFoldingRanges?g.provideFoldingRanges(i,o,a,f):f(i,o,a)}};return[eD.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),r),r]}};oo.FoldingRangeFeature=ic});var Gf=ee(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.DeclarationFeature=void 0;var tD=require("vscode"),oc=ke(),sc=Ge(),ac=class extends sc.TextDocumentLanguageFeature{constructor(e){super(e,oc.DeclarationRequest.type)}fillClientCapabilities(e){let t=(0,sc.ensure)((0,sc.ensure)(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[r,i]=this.getRegistration(t,e.declarationProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,r={provideDeclaration:(i,o,a)=>{let l=this._client,f=(b,S,v)=>l.sendRequest(oc.DeclarationRequest.type,l.code2ProtocolConverter.asTextDocumentPositionParams(b,S),v).then(E=>v.isCancellationRequested?null:l.protocol2CodeConverter.asDeclarationResult(E,v),E=>l.handleFailedRequest(oc.DeclarationRequest.type,v,E,null)),g=l.middleware;return g.provideDeclaration?g.provideDeclaration(i,o,a,f):f(i,o,a)}};return[this.registerProvider(t,r),r]}registerProvider(e,t){return tD.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};so.DeclarationFeature=ac});var Xf=ee(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.SelectionRangeFeature=void 0;var nD=require("vscode"),cc=ke(),uc=Ge(),lc=class extends uc.TextDocumentLanguageFeature{constructor(e){super(e,cc.SelectionRangeRequest.type)}fillClientCapabilities(e){let t=(0,uc.ensure)((0,uc.ensure)(e,"textDocument"),"selectionRange");t.dynamicRegistration=!0}initialize(e,t){let[r,i]=this.getRegistration(t,e.selectionRangeProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,r={provideSelectionRanges:(i,o,a)=>{let l=this._client,f=async(b,S,v)=>{let E={textDocument:l.code2ProtocolConverter.asTextDocumentIdentifier(b),positions:await l.code2ProtocolConverter.asPositions(S,v)};return l.sendRequest(cc.SelectionRangeRequest.type,E,v).then(q=>v.isCancellationRequested?null:l.protocol2CodeConverter.asSelectionRanges(q,v),q=>l.handleFailedRequest(cc.SelectionRangeRequest.type,v,q,null))},g=l.middleware;return g.provideSelectionRanges?g.provideSelectionRanges(i,o,a,f):f(i,o,a)}};return[this.registerProvider(t,r),r]}registerProvider(e,t){return nD.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};ao.SelectionRangeFeature=lc});var Qf=ee(co=>{"use strict";Object.defineProperty(co,"__esModule",{value:!0});co.ProgressFeature=void 0;var Yf=ke(),rD=Ls();function iD(n,e){return n[e]===void 0&&(n[e]=Object.create(null)),n[e]}var dc=class{constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:Yf.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){iD(e,"window").workDoneProgress=!0}initialize(){let e=this._client,t=i=>{this.activeParts.delete(i)},r=i=>{this.activeParts.add(new rD.ProgressPart(this._client,i.token,t))};e.onRequest(Yf.WorkDoneProgressCreateRequest.type,r)}dispose(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};co.ProgressFeature=dc});var Jf=ee(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.CallHierarchyFeature=void 0;var oD=require("vscode"),Gn=ke(),fc=Ge(),hc=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,t,r){let i=this.client,o=this.middleware,a=(l,f,g)=>{let b=i.code2ProtocolConverter.asTextDocumentPositionParams(l,f);return i.sendRequest(Gn.CallHierarchyPrepareRequest.type,b,g).then(S=>g.isCancellationRequested?null:i.protocol2CodeConverter.asCallHierarchyItems(S,g),S=>i.handleFailedRequest(Gn.CallHierarchyPrepareRequest.type,g,S,null))};return o.prepareCallHierarchy?o.prepareCallHierarchy(e,t,r,a):a(e,t,r)}provideCallHierarchyIncomingCalls(e,t){let r=this.client,i=this.middleware,o=(a,l)=>{let f={item:r.code2ProtocolConverter.asCallHierarchyItem(a)};return r.sendRequest(Gn.CallHierarchyIncomingCallsRequest.type,f,l).then(g=>l.isCancellationRequested?null:r.protocol2CodeConverter.asCallHierarchyIncomingCalls(g,l),g=>r.handleFailedRequest(Gn.CallHierarchyIncomingCallsRequest.type,l,g,null))};return i.provideCallHierarchyIncomingCalls?i.provideCallHierarchyIncomingCalls(e,t,o):o(e,t)}provideCallHierarchyOutgoingCalls(e,t){let r=this.client,i=this.middleware,o=(a,l)=>{let f={item:r.code2ProtocolConverter.asCallHierarchyItem(a)};return r.sendRequest(Gn.CallHierarchyOutgoingCallsRequest.type,f,l).then(g=>l.isCancellationRequested?null:r.protocol2CodeConverter.asCallHierarchyOutgoingCalls(g,l),g=>r.handleFailedRequest(Gn.CallHierarchyOutgoingCallsRequest.type,l,g,null))};return i.provideCallHierarchyOutgoingCalls?i.provideCallHierarchyOutgoingCalls(e,t,o):o(e,t)}},gc=class extends fc.TextDocumentLanguageFeature{constructor(e){super(e,Gn.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let t=e,r=(0,fc.ensure)((0,fc.ensure)(t,"textDocument"),"callHierarchy");r.dynamicRegistration=!0}initialize(e,t){let[r,i]=this.getRegistration(t,e.callHierarchyProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let t=this._client,r=new hc(t);return[oD.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),r),r]}};uo.CallHierarchyFeature=gc});var Zf=ee(fo=>{"use strict";Object.defineProperty(fo,"__esModule",{value:!0});fo.SemanticTokensFeature=void 0;var lo=require("vscode"),Oe=ke(),ri=Ge(),sD=Jt(),pc=class extends ri.TextDocumentLanguageFeature{constructor(e){super(e,Oe.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let t=(0,ri.ensure)((0,ri.ensure)(e,"textDocument"),"semanticTokens");t.dynamicRegistration=!0,t.tokenTypes=[Oe.SemanticTokenTypes.namespace,Oe.SemanticTokenTypes.type,Oe.SemanticTokenTypes.class,Oe.SemanticTokenTypes.enum,Oe.SemanticTokenTypes.interface,Oe.SemanticTokenTypes.struct,Oe.SemanticTokenTypes.typeParameter,Oe.SemanticTokenTypes.parameter,Oe.SemanticTokenTypes.variable,Oe.SemanticTokenTypes.property,Oe.SemanticTokenTypes.enumMember,Oe.SemanticTokenTypes.event,Oe.SemanticTokenTypes.function,Oe.SemanticTokenTypes.method,Oe.SemanticTokenTypes.macro,Oe.SemanticTokenTypes.keyword,Oe.SemanticTokenTypes.modifier,Oe.SemanticTokenTypes.comment,Oe.SemanticTokenTypes.string,Oe.SemanticTokenTypes.number,Oe.SemanticTokenTypes.regexp,Oe.SemanticTokenTypes.operator,Oe.SemanticTokenTypes.decorator],t.tokenModifiers=[Oe.SemanticTokenModifiers.declaration,Oe.SemanticTokenModifiers.definition,Oe.SemanticTokenModifiers.readonly,Oe.SemanticTokenModifiers.static,Oe.SemanticTokenModifiers.deprecated,Oe.SemanticTokenModifiers.abstract,Oe.SemanticTokenModifiers.async,Oe.SemanticTokenModifiers.modification,Oe.SemanticTokenModifiers.documentation,Oe.SemanticTokenModifiers.defaultLibrary],t.formats=[Oe.TokenFormat.Relative],t.requests={range:!0,full:{delta:!0}},t.multilineTokenSupport=!1,t.overlappingTokenSupport=!1,t.serverCancelSupport=!0,t.augmentsSyntaxTokens=!0,(0,ri.ensure)((0,ri.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,t){this._client.onRequest(Oe.SemanticTokensRefreshRequest.type,async()=>{for(let a of this.getAllProviders())a.onDidChangeSemanticTokensEmitter.fire()});let[i,o]=this.getRegistration(t,e.semanticTokensProvider);!i||!o||this.register({id:i,registerOptions:o})}registerLanguageProvider(e){let t=e.documentSelector,r=sD.boolean(e.full)?e.full:e.full!==void 0,i=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,o=new lo.EventEmitter,a=r?{onDidChangeSemanticTokens:o.event,provideDocumentSemanticTokens:(E,q)=>{let I=this._client,O=I.middleware,F=(d,R)=>{let T={textDocument:I.code2ProtocolConverter.asTextDocumentIdentifier(d)};return I.sendRequest(Oe.SemanticTokensRequest.type,T,R).then(N=>R.isCancellationRequested?null:I.protocol2CodeConverter.asSemanticTokens(N,R),N=>I.handleFailedRequest(Oe.SemanticTokensRequest.type,R,N,null))};return O.provideDocumentSemanticTokens?O.provideDocumentSemanticTokens(E,q,F):F(E,q)},provideDocumentSemanticTokensEdits:i?(E,q,I)=>{let O=this._client,F=O.middleware,d=(R,T,N)=>{let j={textDocument:O.code2ProtocolConverter.asTextDocumentIdentifier(R),previousResultId:T};return O.sendRequest(Oe.SemanticTokensDeltaRequest.type,j,N).then(async K=>N.isCancellationRequested?null:Oe.SemanticTokens.is(K)?await O.protocol2CodeConverter.asSemanticTokens(K,N):await O.protocol2CodeConverter.asSemanticTokensEdits(K,N),K=>O.handleFailedRequest(Oe.SemanticTokensDeltaRequest.type,N,K,null))};return F.provideDocumentSemanticTokensEdits?F.provideDocumentSemanticTokensEdits(E,q,I,d):d(E,q,I)}:void 0}:void 0,f=e.range===!0?{provideDocumentRangeSemanticTokens:(E,q,I)=>{let O=this._client,F=O.middleware,d=(R,T,N)=>{let j={textDocument:O.code2ProtocolConverter.asTextDocumentIdentifier(R),range:O.code2ProtocolConverter.asRange(T)};return O.sendRequest(Oe.SemanticTokensRangeRequest.type,j,N).then(K=>N.isCancellationRequested?null:O.protocol2CodeConverter.asSemanticTokens(K,N),K=>O.handleFailedRequest(Oe.SemanticTokensRangeRequest.type,N,K,null))};return F.provideDocumentRangeSemanticTokens?F.provideDocumentRangeSemanticTokens(E,q,I,d):d(E,q,I)}}:void 0,g=[],b=this._client,S=b.protocol2CodeConverter.asSemanticTokensLegend(e.legend),v=b.protocol2CodeConverter.asDocumentSelector(t);return a!==void 0&&g.push(lo.languages.registerDocumentSemanticTokensProvider(v,a,S)),f!==void 0&&g.push(lo.languages.registerDocumentRangeSemanticTokensProvider(v,f,S)),[new lo.Disposable(()=>g.forEach(E=>E.dispose())),{range:f,full:a,onDidChangeSemanticTokensEmitter:o}]}};fo.SemanticTokensFeature=pc});var nh=ee(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.WillDeleteFilesFeature=Kt.WillRenameFilesFeature=Kt.WillCreateFilesFeature=Kt.DidDeleteFilesFeature=Kt.DidRenameFilesFeature=Kt.DidCreateFilesFeature=void 0;var rn=require("vscode"),aD=Fi(),qn=ke(),cD=gt();function eh(n,e){return n[e]===void 0&&(n[e]={}),n[e]}function uD(n,e){return n[e]}function th(n,e,t){n[e]=t}var ii=class n{constructor(e,t,r,i,o){this._client=e,this._event=t,this._registrationType=r,this._clientCapability=i,this._serverCapability=o,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){let t=eh(eh(e,"workspace"),"fileOperations");th(t,"dynamicRegistration",!0),th(t,this._clientCapability,!0)}initialize(e){let t=e.workspace?.fileOperations,r=t!==void 0?uD(t,this._serverCapability):void 0;if(r?.filters!==void 0)try{this.register({id:cD.generateUuid(),registerOptions:{filters:r.filters}})}catch(i){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${i}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let t=e.registerOptions.filters.map(r=>{let i=new aD.Minimatch(r.pattern.glob,n.asMinimatchOptions(r.pattern.options));if(!i.makeRe())throw new Error(`Invalid pattern ${r.pattern.glob}!`);return{scheme:r.scheme,matcher:i,kind:r.pattern.matches}});this._filters.set(e.id,t)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return n.getFileType(e)}async filter(e,t){let r=await Promise.all(e.files.map(async o=>{let a=t(o),l=a.fsPath.replace(/\\/g,"/");for(let f of this._filters.values())for(let g of f)if(!(g.scheme!==void 0&&g.scheme!==a.scheme)){if(g.matcher.match(l)){if(g.kind===void 0)return!0;let b=await this.getFileType(a);if(b===void 0)return this._client.error(`Failed to determine file type for ${a.toString()}.`),!0;if(b===rn.FileType.File&&g.kind===qn.FileOperationPatternKind.file||b===rn.FileType.Directory&&g.kind===qn.FileOperationPatternKind.folder)return!0}else if(g.kind===qn.FileOperationPatternKind.folder&&await n.getFileType(a)===rn.FileType.Directory&&g.matcher.match(`${l}/`))return!0}return!1})),i=e.files.filter((o,a)=>r[a]);return{...e,files:i}}static async getFileType(e){try{return(await rn.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){if(e!==void 0&&e.ignoreCase===!0)return{nocase:!0}}},ho=class extends ii{constructor(e,t,r,i,o,a,l){super(e,t,r,i,o),this._notificationType=r,this._accessUri=a,this._createParams=l}async send(e){let t=await this.filter(e,this._accessUri);if(t.files.length){let r=async i=>this._client.sendNotification(this._notificationType,this._createParams(i));return this.doSend(t,r)}}},go=class extends ho{constructor(){super(...arguments),this._fsPathFileTypes=new Map}async getFileType(e){let t=e.fsPath;if(this._fsPathFileTypes.has(t))return this._fsPathFileTypes.get(t);let r=await ii.getFileType(e);return r&&this._fsPathFileTypes.set(t,r),r}async cacheFileTypes(e,t){await this.filter(e,t)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),this.filterSize()===0&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}dispose(){super.dispose(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}},mc=class extends ho{constructor(e){super(e,rn.workspace.onDidCreateFiles,qn.DidCreateFilesNotification.type,"didCreate","didCreate",t=>t,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,t){let r=this._client.middleware.workspace;return r?.didCreateFiles?r.didCreateFiles(e,t):t(e)}};Kt.DidCreateFilesFeature=mc;var yc=class extends go{constructor(e){super(e,rn.workspace.onDidRenameFiles,qn.DidRenameFilesNotification.type,"didRename","didRename",t=>t.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=rn.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,t=>t.oldUri))}doSend(e,t){this.clearFileTypeCache();let r=this._client.middleware.workspace;return r?.didRenameFiles?r.didRenameFiles(e,t):t(e)}};Kt.DidRenameFilesFeature=yc;var vc=class extends go{constructor(e){super(e,rn.workspace.onDidDeleteFiles,qn.DidDeleteFilesNotification.type,"didDelete","didDelete",t=>t,e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=rn.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,t=>t))}doSend(e,t){this.clearFileTypeCache();let r=this._client.middleware.workspace;return r?.didDeleteFiles?r.didDeleteFiles(e,t):t(e)}};Kt.DidDeleteFilesFeature=vc;var oi=class extends ii{constructor(e,t,r,i,o,a,l){super(e,t,r,i,o),this._requestType=r,this._accessUri=a,this._createParams=l}async send(e){let t=this.waitUntil(e);e.waitUntil(t)}async waitUntil(e){let t=await this.filter(e,this._accessUri);if(t.files.length){let r=i=>this._client.sendRequest(this._requestType,this._createParams(i),i.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(t,r)}else return}},Cc=class extends oi{constructor(e){super(e,rn.workspace.onWillCreateFiles,qn.WillCreateFilesRequest.type,"willCreate","willCreate",t=>t,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,t){let r=this._client.middleware.workspace;return r?.willCreateFiles?r.willCreateFiles(e,t):t(e)}};Kt.WillCreateFilesFeature=Cc;var bc=class extends oi{constructor(e){super(e,rn.workspace.onWillRenameFiles,qn.WillRenameFilesRequest.type,"willRename","willRename",t=>t.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,t){let r=this._client.middleware.workspace;return r?.willRenameFiles?r.willRenameFiles(e,t):t(e)}};Kt.WillRenameFilesFeature=bc;var Dc=class extends oi{constructor(e){super(e,rn.workspace.onWillDeleteFiles,qn.WillDeleteFilesRequest.type,"willDelete","willDelete",t=>t,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,t){let r=this._client.middleware.workspace;return r?.willDeleteFiles?r.willDeleteFiles(e,t):t(e)}};Kt.WillDeleteFilesFeature=Dc});var rh=ee(po=>{"use strict";Object.defineProperty(po,"__esModule",{value:!0});po.LinkedEditingFeature=void 0;var lD=require("vscode"),Rc=ke(),wc=Ge(),_c=class extends wc.TextDocumentLanguageFeature{constructor(e){super(e,Rc.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let t=(0,wc.ensure)((0,wc.ensure)(e,"textDocument"),"linkedEditingRange");t.dynamicRegistration=!0}initialize(e,t){let[r,i]=this.getRegistration(t,e.linkedEditingRangeProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,r={provideLinkedEditingRanges:(i,o,a)=>{let l=this._client,f=(b,S,v)=>l.sendRequest(Rc.LinkedEditingRangeRequest.type,l.code2ProtocolConverter.asTextDocumentPositionParams(b,S),v).then(E=>v.isCancellationRequested?null:l.protocol2CodeConverter.asLinkedEditingRanges(E,v),E=>l.handleFailedRequest(Rc.LinkedEditingRangeRequest.type,v,E,null)),g=l.middleware;return g.provideLinkedEditingRange?g.provideLinkedEditingRange(i,o,a,f):f(i,o,a)}};return[this.registerProvider(t,r),r]}registerProvider(e,t){return lD.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};po.LinkedEditingFeature=_c});var ih=ee(mo=>{"use strict";Object.defineProperty(mo,"__esModule",{value:!0});mo.TypeHierarchyFeature=void 0;var dD=require("vscode"),Xn=ke(),Sc=Ge(),Tc=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,t,r){let i=this.client,o=this.middleware,a=(l,f,g)=>{let b=i.code2ProtocolConverter.asTextDocumentPositionParams(l,f);return i.sendRequest(Xn.TypeHierarchyPrepareRequest.type,b,g).then(S=>g.isCancellationRequested?null:i.protocol2CodeConverter.asTypeHierarchyItems(S,g),S=>i.handleFailedRequest(Xn.TypeHierarchyPrepareRequest.type,g,S,null))};return o.prepareTypeHierarchy?o.prepareTypeHierarchy(e,t,r,a):a(e,t,r)}provideTypeHierarchySupertypes(e,t){let r=this.client,i=this.middleware,o=(a,l)=>{let f={item:r.code2ProtocolConverter.asTypeHierarchyItem(a)};return r.sendRequest(Xn.TypeHierarchySupertypesRequest.type,f,l).then(g=>l.isCancellationRequested?null:r.protocol2CodeConverter.asTypeHierarchyItems(g,l),g=>r.handleFailedRequest(Xn.TypeHierarchySupertypesRequest.type,l,g,null))};return i.provideTypeHierarchySupertypes?i.provideTypeHierarchySupertypes(e,t,o):o(e,t)}provideTypeHierarchySubtypes(e,t){let r=this.client,i=this.middleware,o=(a,l)=>{let f={item:r.code2ProtocolConverter.asTypeHierarchyItem(a)};return r.sendRequest(Xn.TypeHierarchySubtypesRequest.type,f,l).then(g=>l.isCancellationRequested?null:r.protocol2CodeConverter.asTypeHierarchyItems(g,l),g=>r.handleFailedRequest(Xn.TypeHierarchySubtypesRequest.type,l,g,null))};return i.provideTypeHierarchySubtypes?i.provideTypeHierarchySubtypes(e,t,o):o(e,t)}},qc=class extends Sc.TextDocumentLanguageFeature{constructor(e){super(e,Xn.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){let t=(0,Sc.ensure)((0,Sc.ensure)(e,"textDocument"),"typeHierarchy");t.dynamicRegistration=!0}initialize(e,t){let[r,i]=this.getRegistration(t,e.typeHierarchyProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let t=this._client,r=new Tc(t);return[dD.languages.registerTypeHierarchyProvider(t.protocol2CodeConverter.asDocumentSelector(e.documentSelector),r),r]}};mo.TypeHierarchyFeature=qc});var sh=ee(vo=>{"use strict";Object.defineProperty(vo,"__esModule",{value:!0});vo.InlineValueFeature=void 0;var oh=require("vscode"),yo=ke(),si=Ge(),Pc=class extends si.TextDocumentLanguageFeature{constructor(e){super(e,yo.InlineValueRequest.type)}fillClientCapabilities(e){(0,si.ensure)((0,si.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,si.ensure)((0,si.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,t){this._client.onRequest(yo.InlineValueRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlineValues.fire()});let[r,i]=this.getRegistration(t,e.inlineValueProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,r=new oh.EventEmitter,i={onDidChangeInlineValues:r.event,provideInlineValues:(o,a,l,f)=>{let g=this._client,b=(v,E,q,I)=>{let O={textDocument:g.code2ProtocolConverter.asTextDocumentIdentifier(v),range:g.code2ProtocolConverter.asRange(E),context:g.code2ProtocolConverter.asInlineValueContext(q)};return g.sendRequest(yo.InlineValueRequest.type,O,I).then(F=>I.isCancellationRequested?null:g.protocol2CodeConverter.asInlineValues(F,I),F=>g.handleFailedRequest(yo.InlineValueRequest.type,I,F,null))},S=g.middleware;return S.provideInlineValues?S.provideInlineValues(o,a,l,f,b):b(o,a,l,f)}};return[this.registerProvider(t,i),{provider:i,onDidChangeInlineValues:r}]}registerProvider(e,t){return oh.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};vo.InlineValueFeature=Pc});var ch=ee(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});Co.InlayHintsFeature=void 0;var ah=require("vscode"),gr=ke(),ai=Ge(),Ic=class extends ai.TextDocumentLanguageFeature{constructor(e){super(e,gr.InlayHintRequest.type)}fillClientCapabilities(e){let t=(0,ai.ensure)((0,ai.ensure)(e,"textDocument"),"inlayHint");t.dynamicRegistration=!0,t.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,ai.ensure)((0,ai.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,t){this._client.onRequest(gr.InlayHintRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlayHints.fire()});let[r,i]=this.getRegistration(t,e.inlayHintProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,r=new ah.EventEmitter,i={onDidChangeInlayHints:r.event,provideInlayHints:(o,a,l)=>{let f=this._client,g=async(S,v,E)=>{let q={textDocument:f.code2ProtocolConverter.asTextDocumentIdentifier(S),range:f.code2ProtocolConverter.asRange(v)};try{let I=await f.sendRequest(gr.InlayHintRequest.type,q,E);return E.isCancellationRequested?null:f.protocol2CodeConverter.asInlayHints(I,E)}catch(I){return f.handleFailedRequest(gr.InlayHintRequest.type,E,I,null)}},b=f.middleware;return b.provideInlayHints?b.provideInlayHints(o,a,l,g):g(o,a,l)}};return i.resolveInlayHint=e.resolveProvider===!0?(o,a)=>{let l=this._client,f=async(b,S)=>{try{let v=await l.sendRequest(gr.InlayHintResolveRequest.type,l.code2ProtocolConverter.asInlayHint(b),S);if(S.isCancellationRequested)return null;let E=l.protocol2CodeConverter.asInlayHint(v,S);return S.isCancellationRequested?null:E}catch(v){return l.handleFailedRequest(gr.InlayHintResolveRequest.type,S,v,null)}},g=l.middleware;return g.resolveInlayHint?g.resolveInlayHint(o,a,f):f(o,a)}:void 0,[this.registerProvider(t,i),{provider:i,onDidChangeInlayHints:r}]}registerProvider(e,t){return ah.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Co.InlayHintsFeature=Ic});var Oc=ee(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.ProposedFeatures=lt.BaseLanguageClient=lt.MessageTransports=lt.SuspendMode=lt.State=lt.CloseAction=lt.ErrorAction=lt.RevealOutputChannelOn=void 0;var it=require("vscode"),ye=ke(),fD=Ud(),hD=Kd(),on=Jt(),uh=$r(),lh=gt(),gD=Ls(),pn=Ge(),pD=na(),dh=bf(),fh=Rf(),pr=wf(),mD=_f(),yD=Sf(),vD=Tf(),CD=Pf(),bD=If(),DD=qa(),RD=kf(),wD=xf(),_D=Of(),SD=Nf(),Ec=Af(),TD=Mf(),qD=Hf(),PD=Uf(),ID=$f(),ED=Wf(),kD=Kf(),xD=zf(),OD=Vf(),FD=Bf(),ND=Gf(),AD=Xf(),LD=Qf(),MD=Jf(),HD=Zf(),mr=nh(),jD=rh(),UD=ih(),$D=sh(),WD=ch(),ci;(function(n){n[n.Info=1]="Info",n[n.Warn=2]="Warn",n[n.Error=3]="Error",n[n.Never=4]="Never"})(ci=lt.RevealOutputChannelOn||(lt.RevealOutputChannelOn={}));var Do;(function(n){n[n.Continue=1]="Continue",n[n.Shutdown=2]="Shutdown"})(Do=lt.ErrorAction||(lt.ErrorAction={}));var Yn;(function(n){n[n.DoNotRestart=1]="DoNotRestart",n[n.Restart=2]="Restart"})(Yn=lt.CloseAction||(lt.CloseAction={}));var bo;(function(n){n[n.Stopped=1]="Stopped",n[n.Starting=3]="Starting",n[n.Running=2]="Running"})(bo=lt.State||(lt.State={}));var KD;(function(n){n.off="off",n.on="on"})(KD=lt.SuspendMode||(lt.SuspendMode={}));var kc=class{constructor(e,t){this.client=e,this.maxRestartCount=t,this.restarts=[]}error(e,t,r){return r&&r<=3?{action:Do.Continue}:{action:Do.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:Yn.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?{action:Yn.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:Yn.Restart})}},Ue;(function(n){n.Initial="initial",n.Starting="starting",n.StartFailed="startFailed",n.Running="running",n.Stopping="stopping",n.Stopped="stopped"})(Ue||(Ue={}));var zD;(function(n){function e(t){return t&&ye.MessageReader.is(t.reader)&&ye.MessageWriter.is(t.writer)}n.is=e})(zD=lt.MessageTransports||(lt.MessageTransports={}));var Ro=class n{constructor(e,t,r){this._traceFormat=ye.TraceFormat.Text,this._diagnosticQueue=new Map,this._diagnosticQueueState={state:"idle"},this._features=[],this._dynamicFeatures=new Map,this.workspaceEditLock=new uh.Semaphore(1),this._id=e,this._name=t,r=r||{};let i={isTrusted:!1,supportHtml:!1};r.markdown!==void 0&&(i.isTrusted=r.markdown.isTrusted===!0,i.supportHtml=r.markdown.supportHtml===!0),this._clientOptions={documentSelector:r.documentSelector??[],synchronize:r.synchronize??{},diagnosticCollectionName:r.diagnosticCollectionName,outputChannelName:r.outputChannelName??this._name,revealOutputChannelOn:r.revealOutputChannelOn??ci.Error,stdioEncoding:r.stdioEncoding??"utf8",initializationOptions:r.initializationOptions,initializationFailedHandler:r.initializationFailedHandler,progressOnInitialization:!!r.progressOnInitialization,errorHandler:r.errorHandler??this.createDefaultErrorHandler(r.connectionOptions?.maxRestartCount),middleware:r.middleware??{},uriConverters:r.uriConverters,workspaceFolder:r.workspaceFolder,connectionOptions:r.connectionOptions,markdown:i,diagnosticPullOptions:r.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:r.notebookDocumentOptions??{}},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=Ue.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,r.outputChannel?(this._outputChannel=r.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=r.traceOutputChannel,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new uh.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new ye.Emitter,this._stateChangeEmitter=new ye.Emitter,this._trace=ye.Trace.Off,this._tracer={log:(o,a)=>{on.string(o)?this.logTrace(o,a):this.logObjectTrace(o)}},this._c2p=fD.createConverter(r.uriConverters?r.uriConverters.code2Protocol:void 0),this._p2c=hD.createConverter(r.uriConverters?r.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=it.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let t=this.getPublicState();this._state=e;let r=this.getPublicState();r!==t&&this._stateChangeEmitter.fire({oldState:t,newState:r})}getPublicState(){switch(this.$state){case Ue.Starting:return bo.Starting;case Ue.Running:return bo.Running;default:return bo.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...t){if(this.$state===Ue.StartFailed||this.$state===Ue.Stopping||this.$state===Ue.Stopped)return Promise.reject(new ye.ResponseError(ye.ErrorCodes.ConnectionInactive,"Client is not running"));try{let r=await this.$start();return await this.forceDocumentSync(),r.sendRequest(e,...t)}catch(r){throw this.error(`Sending request ${on.string(e)?e:e.method} failed.`,r),r}}onRequest(e,t){let r=typeof e=="string"?e:e.method;this._requestHandlers.set(r,t);let i=this.activeConnection(),o;return i!==void 0?(this._requestDisposables.set(r,i.onRequest(e,t)),o={dispose:()=>{let a=this._requestDisposables.get(r);a!==void 0&&(a.dispose(),this._requestDisposables.delete(r))}}):(this._pendingRequestHandlers.set(r,t),o={dispose:()=>{this._pendingRequestHandlers.delete(r);let a=this._requestDisposables.get(r);a!==void 0&&(a.dispose(),this._requestDisposables.delete(r))}}),{dispose:()=>{this._requestHandlers.delete(r),o.dispose()}}}async sendNotification(e,t){if(this.$state===Ue.StartFailed||this.$state===Ue.Stopping||this.$state===Ue.Stopped)return Promise.reject(new ye.ResponseError(ye.ErrorCodes.ConnectionInactive,"Client is not running"));try{let r=await this.$start();return await this.forceDocumentSync(),r.sendNotification(e,t)}catch(r){throw this.error(`Sending notification ${on.string(e)?e:e.method} failed.`,r),r}}onNotification(e,t){let r=typeof e=="string"?e:e.method;this._notificationHandlers.set(r,t);let i=this.activeConnection(),o;return i!==void 0?(this._notificationDisposables.set(r,i.onNotification(e,t)),o={dispose:()=>{let a=this._notificationDisposables.get(r);a!==void 0&&(a.dispose(),this._notificationDisposables.delete(r))}}):(this._pendingNotificationHandlers.set(r,t),o={dispose:()=>{this._pendingNotificationHandlers.delete(r);let a=this._notificationDisposables.get(r);a!==void 0&&(a.dispose(),this._notificationDisposables.delete(r))}}),{dispose:()=>{this._notificationHandlers.delete(r),o.dispose()}}}async sendProgress(e,t,r){if(this.$state===Ue.StartFailed||this.$state===Ue.Stopping||this.$state===Ue.Stopped)return Promise.reject(new ye.ResponseError(ye.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,t,r)}catch(i){throw this.error(`Sending progress for token ${t} failed.`,i),i}}onProgress(e,t,r){this._progressHandlers.set(t,{type:e,handler:r});let i=this.activeConnection(),o,a=this._clientOptions.middleware?.handleWorkDoneProgress,l=ye.WorkDoneProgress.is(e)&&a!==void 0?f=>{a(t,f,()=>r(f))}:r;return i!==void 0?(this._progressDisposables.set(t,i.onProgress(e,t,l)),o={dispose:()=>{let f=this._progressDisposables.get(t);f!==void 0&&(f.dispose(),this._progressDisposables.delete(t))}}):(this._pendingProgressHandlers.set(t,{type:e,handler:r}),o={dispose:()=>{this._pendingProgressHandlers.delete(t);let f=this._progressDisposables.get(t);f!==void 0&&(f.dispose(),this._progressDisposables.delete(t))}}),{dispose:()=>{this._progressHandlers.delete(t),o.dispose()}}}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new kc(this,e??4)}async setTrace(e){this._trace=e;let t=this.activeConnection();t!==void 0&&await t.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof ye.ResponseError){let t=e;return`  Message: ${t.message}
  Code: ${t.code} ${t.data?`
`+t.data.toString():""}`}return e instanceof Error?on.string(e.stack)?e.stack:e.message:on.string(e)?e:e.toString()}info(e,t,r=!0){this.outputChannel.appendLine(`[Info  - ${new Date().toLocaleTimeString()}] ${e}`),t!=null&&this.outputChannel.appendLine(this.data2String(t)),r&&this._clientOptions.revealOutputChannelOn<=ci.Info&&this.showNotificationMessage(ye.MessageType.Info,e)}warn(e,t,r=!0){this.outputChannel.appendLine(`[Warn  - ${new Date().toLocaleTimeString()}] ${e}`),t!=null&&this.outputChannel.appendLine(this.data2String(t)),r&&this._clientOptions.revealOutputChannelOn<=ci.Warn&&this.showNotificationMessage(ye.MessageType.Warning,e)}error(e,t,r=!0){this.outputChannel.appendLine(`[Error - ${new Date().toLocaleTimeString()}] ${e}`),t!=null&&this.outputChannel.appendLine(this.data2String(t)),(r==="force"||r&&this._clientOptions.revealOutputChannelOn<=ci.Error)&&this.showNotificationMessage(ye.MessageType.Error,e)}showNotificationMessage(e,t){t=t??"A request has failed. See the output for more information.",(e===ye.MessageType.Error?it.window.showErrorMessage:e===ye.MessageType.Warning?it.window.showWarningMessage:it.window.showInformationMessage)(t,"Go to output").then(i=>{i!==void 0&&this.outputChannel.show(!0)})}logTrace(e,t){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),t&&this.traceOutputChannel.appendLine(this.data2String(t))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.$state===Ue.Initial||this.$state===Ue.Stopping||this.$state===Ue.Stopped}needsStop(){return this.$state===Ue.Starting||this.$state===Ue.Running}activeConnection(){return this.$state===Ue.Running&&this._connection!==void 0?this._connection:void 0}isRunning(){return this.$state===Ue.Running}async start(){if(this._disposed==="disposing"||this._disposed==="disposed")throw new Error("Client got disposed and can't be restarted.");if(this.$state===Ue.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(this._onStart!==void 0)return this._onStart;let[e,t,r]=this.createOnStartPromise();this._onStart=e,this._diagnostics===void 0&&(this._diagnostics=this._clientOptions.diagnosticCollectionName?it.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):it.languages.createDiagnosticCollection());for(let[i,o]of this._notificationHandlers)this._pendingNotificationHandlers.has(i)||this._pendingNotificationHandlers.set(i,o);for(let[i,o]of this._requestHandlers)this._pendingRequestHandlers.has(i)||this._pendingRequestHandlers.set(i,o);for(let[i,o]of this._progressHandlers)this._pendingProgressHandlers.has(i)||this._pendingProgressHandlers.set(i,o);this.$state=Ue.Starting;try{let i=await this.createConnection();i.onNotification(ye.LogMessageNotification.type,o=>{switch(o.type){case ye.MessageType.Error:this.error(o.message,void 0,!1);break;case ye.MessageType.Warning:this.warn(o.message,void 0,!1);break;case ye.MessageType.Info:this.info(o.message,void 0,!1);break;default:this.outputChannel.appendLine(o.message)}}),i.onNotification(ye.ShowMessageNotification.type,o=>{switch(o.type){case ye.MessageType.Error:it.window.showErrorMessage(o.message);break;case ye.MessageType.Warning:it.window.showWarningMessage(o.message);break;case ye.MessageType.Info:it.window.showInformationMessage(o.message);break;default:it.window.showInformationMessage(o.message)}}),i.onRequest(ye.ShowMessageRequest.type,o=>{let a;switch(o.type){case ye.MessageType.Error:a=it.window.showErrorMessage;break;case ye.MessageType.Warning:a=it.window.showWarningMessage;break;case ye.MessageType.Info:a=it.window.showInformationMessage;break;default:a=it.window.showInformationMessage}let l=o.actions||[];return a(o.message,...l)}),i.onNotification(ye.TelemetryEventNotification.type,o=>{this._telemetryEmitter.fire(o)}),i.onRequest(ye.ShowDocumentRequest.type,async o=>{let a=async f=>{let g=this.protocol2CodeConverter.asUri(f.uri);try{if(f.external===!0)return{success:await it.env.openExternal(g)};{let b={};return f.selection!==void 0&&(b.selection=this.protocol2CodeConverter.asRange(f.selection)),f.takeFocus===void 0||f.takeFocus===!1?b.preserveFocus=!0:f.takeFocus===!0&&(b.preserveFocus=!1),await it.window.showTextDocument(g,b),{success:!0}}}catch{return{success:!1}}},l=this._clientOptions.middleware.window?.showDocument;return l!==void 0?l(o,a):a(o)}),i.listen(),await this.initialize(i),t()}catch(i){this.$state=Ue.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,i,"force"),r(i)}return this._onStart}createOnStartPromise(){let e,t;return[new Promise((i,o)=>{e=i,t=o}),e,t]}async initialize(e){this.refreshTrace(e,!1);let t=this._clientOptions.initializationOptions,[r,i]=this._clientOptions.workspaceFolder!==void 0?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],o={processId:null,clientInfo:{name:it.env.appName,version:it.version},locale:this.getLocale(),rootPath:r||null,rootUri:r?this._c2p.asUri(it.Uri.file(r)):null,capabilities:this.computeClientCapabilities(),initializationOptions:on.func(t)?t():t,trace:ye.Trace.toString(this._trace),workspaceFolders:i};if(this.fillInitializeParams(o),this._clientOptions.progressOnInitialization){let a=lh.generateUuid(),l=new gD.ProgressPart(e,a);o.workDoneToken=a;try{let f=await this.doInitialize(e,o);return l.done(),f}catch(f){throw l.cancel(),f}}else return this.doInitialize(e,o)}async doInitialize(e,t){try{let r=await e.initialize(t);if(r.capabilities.positionEncoding!==void 0&&r.capabilities.positionEncoding!==ye.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${r.capabilities.positionEncoding}) received from server ${this.name}`);this._initializeResult=r,this.$state=Ue.Running;let i;on.number(r.capabilities.textDocumentSync)?r.capabilities.textDocumentSync===ye.TextDocumentSyncKind.None?i={openClose:!1,change:ye.TextDocumentSyncKind.None,save:void 0}:i={openClose:!0,change:r.capabilities.textDocumentSync,save:{includeText:!1}}:r.capabilities.textDocumentSync!==void 0&&r.capabilities.textDocumentSync!==null&&(i=r.capabilities.textDocumentSync),this._capabilities=Object.assign({},r.capabilities,{resolvedTextDocumentSync:i}),e.onNotification(ye.PublishDiagnosticsNotification.type,o=>this.handleDiagnostics(o)),e.onRequest(ye.RegistrationRequest.type,o=>this.handleRegistrationRequest(o)),e.onRequest("client/registerFeature",o=>this.handleRegistrationRequest(o)),e.onRequest(ye.UnregistrationRequest.type,o=>this.handleUnregistrationRequest(o)),e.onRequest("client/unregisterFeature",o=>this.handleUnregistrationRequest(o)),e.onRequest(ye.ApplyWorkspaceEditRequest.type,o=>this.handleApplyWorkspaceEdit(o));for(let[o,a]of this._pendingNotificationHandlers)this._notificationDisposables.set(o,e.onNotification(o,a));this._pendingNotificationHandlers.clear();for(let[o,a]of this._pendingRequestHandlers)this._requestDisposables.set(o,e.onRequest(o,a));this._pendingRequestHandlers.clear();for(let[o,a]of this._pendingProgressHandlers)this._progressDisposables.set(o,e.onProgress(a.type,o,a.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(ye.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),r}catch(r){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(r)?this.initialize(e):this.stop():r instanceof ye.ResponseError&&r.data&&r.data.retry?it.window.showErrorMessage(r.message,{title:"Retry",id:"retry"}).then(i=>{i&&i.id==="retry"?this.initialize(e):this.stop()}):(r&&r.message&&it.window.showErrorMessage(r.message),this.error("Server initialization failed.",r),this.stop()),r}}_clientGetRootPath(){let e=it.workspace.workspaceFolders;if(!e||e.length===0)return;let t=e[0];if(t.uri.scheme==="file")return t.uri.fsPath}stop(e=2e3){return this.shutdown("stop",e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,t){if(this.$state===Ue.Stopped||this.$state===Ue.Initial)return;if(this.$state===Ue.Stopping){if(this._onStop!==void 0)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}let r=this.activeConnection();if(r===void 0||this.$state!==Ue.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=Ue.Stopping,this.cleanUp(e);let i=new Promise(a=>{(0,ye.RAL)().timer.setTimeout(a,t)}),o=(async a=>(await a.shutdown(),await a.exit(),a))(r);return this._onStop=Promise.race([i,o]).then(a=>{if(a!==void 0)a.end(),a.dispose();else throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out")},a=>{throw this.error("Stopping server failed",a,!1),a}).finally(()=>{this.$state=Ue.Stopped,e==="stop"&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()})}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();let t=this._listeners.splice(0,this._listeners.length);for(let r of t)r.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(let r of Array.from(this._features.entries()).map(i=>i[1]).reverse())r.dispose();e==="stop"&&this._diagnostics!==void 0&&(this._diagnostics.dispose(),this._diagnostics=void 0),this._idleInterval!==void 0&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){this._outputChannel!==void 0&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){let t=this;async function r(o){return t._fileEvents.push(o),t._fileEventDelayer.trigger(async()=>{let a=await t.$start();await t.forceDocumentSync();let l=a.sendNotification(ye.DidChangeWatchedFilesNotification.type,{changes:t._fileEvents});return t._fileEvents=[],l})}let i=this.clientOptions.middleware?.workspace;(i?.didChangeWatchedFile?i.didChangeWatchedFile(e,r):r(e)).catch(o=>{t.error("Notify file events failed.",o)})}async forceDocumentSync(){return this._didChangeTextDocumentFeature===void 0&&(this._didChangeTextDocumentFeature=this._dynamicFeatures.get(ye.DidChangeTextDocumentNotification.type.method)),this._didChangeTextDocumentFeature.forceDelivery()}handleDiagnostics(e){if(!this._diagnostics)return;let t=e.uri;this._diagnosticQueueState.state==="busy"&&this._diagnosticQueueState.document===t&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,ye.RAL)().timer.setImmediate(()=>{this.workDiagnosticQueue()})}workDiagnosticQueue(){if(this._diagnosticQueueState.state==="busy")return;let e=this._diagnosticQueue.entries().next();if(e.done===!0)return;let[t,r]=e.value;this._diagnosticQueue.delete(t);let i=new it.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:t,tokenSource:i},this._p2c.asDiagnostics(r,i.token).then(o=>{if(!i.token.isCancellationRequested){let a=this._p2c.asUri(t),l=this.clientOptions.middleware;l.handleDiagnostics?l.handleDiagnostics(a,o,(f,g)=>this.setDiagnostics(f,g)):this.setDiagnostics(a,o)}}).finally(()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()})}setDiagnostics(e,t){this._diagnostics&&this._diagnostics.set(e,t)}async $start(){if(this.$state===Ue.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();let e=this.activeConnection();if(e===void 0)throw new Error("Starting server failed");return e}async createConnection(){let e=(i,o,a)=>{this.handleConnectionError(i,o,a)},t=()=>{this.handleConnectionClosed()},r=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=VD(r.reader,r.writer,e,t,this._clientOptions.connectionOptions),this._connection}handleConnectionClosed(){if(this.$state===Ue.Stopped)return;try{this._connection!==void 0&&this._connection.dispose()}catch{}let e={action:Yn.DoNotRestart};if(this.$state!==Ue.Stopping)try{e=this._clientOptions.errorHandler.closed()}catch{}this._connection=void 0,e.action===Yn.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,"force"),this.cleanUp("stop"),this.$state===Ue.Starting?this.$state=Ue.StartFailed:this.$state=Ue.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===Yn.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart."),this.cleanUp("restart"),this.$state=Ue.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch(t=>this.error("Restarting server failed",t,"force")))}handleConnectionError(e,t,r){let i=this._clientOptions.errorHandler.error(e,t,r);i.action===Do.Shutdown&&(this.error(i.message??`Client ${this._name}: connection to server is erroring. Shutting down server.`,void 0,"force"),this.stop().catch(o=>{this.error("Stopping server failed",o,!1)}))}hookConfigurationChanged(e){this._listeners.push(it.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)}))}refreshTrace(e,t=!1){let r=it.workspace.getConfiguration(this._id),i=ye.Trace.Off,o=ye.TraceFormat.Text;if(r){let a=r.get("trace.server","off");typeof a=="string"?i=ye.Trace.fromString(a):(i=ye.Trace.fromString(r.get("trace.server.verbosity","off")),o=ye.TraceFormat.fromString(r.get("trace.server.format","text")))}this._trace=i,this._traceFormat=o,e.trace(this._trace,this._tracer,{sendNotification:t,traceFormat:this._traceFormat}).catch(a=>{this.error("Updating trace failed with error",a,!1)})}hookFileEvents(e){let t=this._clientOptions.synchronize.fileEvents;if(!t)return;let r;on.array(t)?r=t:r=[t],r&&this._dynamicFeatures.get(ye.DidChangeWatchedFilesNotification.type.method).registerRaw(lh.generateUuid(),r)}registerFeatures(e){for(let t of e)this.registerFeature(t)}registerFeature(e){if(this._features.push(e),pn.DynamicFeature.is(e)){let t=e.registrationType;this._dynamicFeatures.set(t.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){let t=this.getFeature(ye.NotebookDocumentSyncRegistrationType.method);return t===void 0||!(t instanceof dh.NotebookDocumentSyncFeature)?!1:t.handles(e)}registerBuiltinFeatures(){this.registerFeature(new fh.ConfigurationFeature(this)),this.registerFeature(new pr.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new pr.DidChangeTextDocumentFeature(this)),this.registerFeature(new pr.WillSaveFeature(this)),this.registerFeature(new pr.WillSaveWaitUntilFeature(this)),this.registerFeature(new pr.DidSaveTextDocumentFeature(this)),this.registerFeature(new pr.DidCloseTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new ID.FileSystemWatcherFeature(this,e=>this.notifyFileEvent(e))),this.registerFeature(new mD.CompletionItemFeature(this)),this.registerFeature(new yD.HoverFeature(this)),this.registerFeature(new CD.SignatureHelpFeature(this)),this.registerFeature(new vD.DefinitionFeature(this)),this.registerFeature(new wD.ReferencesFeature(this)),this.registerFeature(new bD.DocumentHighlightFeature(this)),this.registerFeature(new DD.DocumentSymbolFeature(this)),this.registerFeature(new RD.WorkspaceSymbolFeature(this)),this.registerFeature(new _D.CodeActionFeature(this)),this.registerFeature(new SD.CodeLensFeature(this)),this.registerFeature(new Ec.DocumentFormattingFeature(this)),this.registerFeature(new Ec.DocumentRangeFormattingFeature(this)),this.registerFeature(new Ec.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new TD.RenameFeature(this)),this.registerFeature(new qD.DocumentLinkFeature(this)),this.registerFeature(new PD.ExecuteCommandFeature(this)),this.registerFeature(new fh.SyncConfigurationFeature(this)),this.registerFeature(new xD.TypeDefinitionFeature(this)),this.registerFeature(new kD.ImplementationFeature(this)),this.registerFeature(new ED.ColorProviderFeature(this)),this.clientOptions.workspaceFolder===void 0&&this.registerFeature(new OD.WorkspaceFoldersFeature(this)),this.registerFeature(new FD.FoldingRangeFeature(this)),this.registerFeature(new ND.DeclarationFeature(this)),this.registerFeature(new AD.SelectionRangeFeature(this)),this.registerFeature(new LD.ProgressFeature(this)),this.registerFeature(new MD.CallHierarchyFeature(this)),this.registerFeature(new HD.SemanticTokensFeature(this)),this.registerFeature(new jD.LinkedEditingFeature(this)),this.registerFeature(new mr.DidCreateFilesFeature(this)),this.registerFeature(new mr.DidRenameFilesFeature(this)),this.registerFeature(new mr.DidDeleteFilesFeature(this)),this.registerFeature(new mr.WillCreateFilesFeature(this)),this.registerFeature(new mr.WillRenameFilesFeature(this)),this.registerFeature(new mr.WillDeleteFilesFeature(this)),this.registerFeature(new UD.TypeHierarchyFeature(this)),this.registerFeature(new $D.InlineValueFeature(this)),this.registerFeature(new WD.InlayHintsFeature(this)),this.registerFeature(new pD.DiagnosticFeature(this)),this.registerFeature(new dh.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(hh.createAll(this))}fillInitializeParams(e){for(let t of this._features)on.func(t.fillInitializeParams)&&t.fillInitializeParams(e)}computeClientCapabilities(){let e={};(0,pn.ensure)(e,"workspace").applyEdit=!0;let t=(0,pn.ensure)((0,pn.ensure)(e,"workspace"),"workspaceEdit");t.documentChanges=!0,t.resourceOperations=[ye.ResourceOperationKind.Create,ye.ResourceOperationKind.Rename,ye.ResourceOperationKind.Delete],t.failureHandling=ye.FailureHandlingKind.TextOnlyTransactional,t.normalizesLineEndings=!0,t.changeAnnotationSupport={groupsOnLabel:!0};let r=(0,pn.ensure)((0,pn.ensure)(e,"textDocument"),"publishDiagnostics");r.relatedInformation=!0,r.versionSupport=!1,r.tagSupport={valueSet:[ye.DiagnosticTag.Unnecessary,ye.DiagnosticTag.Deprecated]},r.codeDescriptionSupport=!0,r.dataSupport=!0;let i=(0,pn.ensure)(e,"window"),o=(0,pn.ensure)(i,"showMessage");o.messageActionItem={additionalPropertiesSupport:!0};let a=(0,pn.ensure)(i,"showDocument");a.support=!0;let l=(0,pn.ensure)(e,"general");l.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(n.RequestsToCancelOnContentModified)},l.regularExpressions={engine:"ECMAScript",version:"ES2020"},l.markdown={parser:"marked",version:"1.1.0"},l.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(l.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let f of this._features)f.fillClientCapabilities(e);return e}initializeFeatures(e){let t=this._clientOptions.documentSelector;for(let r of this._features)on.func(r.preInitialize)&&r.preInitialize(this._capabilities,t);for(let r of this._features)r.initialize(this._capabilities,t)}async handleRegistrationRequest(e){if(!this.isRunning()){for(let t of e.registrations)this._ignoredRegistrations.add(t.id);return}for(let t of e.registrations){let r=this._dynamicFeatures.get(t.method);if(r===void 0)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Registration failed.`));let i=t.registerOptions??{};i.documentSelector=i.documentSelector??this._clientOptions.documentSelector;let o={id:t.id,registerOptions:i};try{r.register(o)}catch(a){return Promise.reject(a)}}}async handleUnregistrationRequest(e){for(let t of e.unregisterations){if(this._ignoredRegistrations.has(t.id))continue;let r=this._dynamicFeatures.get(t.method);if(!r)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Unregistration failed.`));r.unregister(t.id)}}async handleApplyWorkspaceEdit(e){let t=e.edit,r=await this.workspaceEditLock.lock(()=>this._p2c.asWorkspaceEdit(t)),i=new Map;it.workspace.textDocuments.forEach(a=>i.set(a.uri.toString(),a));let o=!1;if(t.documentChanges){for(let a of t.documentChanges)if(ye.TextDocumentEdit.is(a)&&a.textDocument.version&&a.textDocument.version>=0){let l=i.get(a.textDocument.uri);if(l&&l.version!==a.textDocument.version){o=!0;break}}}return o?Promise.resolve({applied:!1}):on.asPromise(it.workspace.applyEdit(r).then(a=>({applied:a})))}handleFailedRequest(e,t,r,i,o=!0){if(r instanceof ye.ResponseError){if(r.code===ye.ErrorCodes.PendingResponseRejected||r.code===ye.ErrorCodes.ConnectionInactive)return i;if(r.code===ye.LSPErrorCodes.RequestCancelled||r.code===ye.LSPErrorCodes.ServerCancelled){if(t!==void 0&&t.isCancellationRequested)return i;throw r.data!==void 0?new pn.LSPCancellationError(r.data):new it.CancellationError}else if(r.code===ye.LSPErrorCodes.ContentModified){if(n.RequestsToCancelOnContentModified.has(e.method))throw new it.CancellationError;return i}}throw this.error(`Request ${e.method} failed.`,r,o),r}};lt.BaseLanguageClient=Ro;Ro.RequestsToCancelOnContentModified=new Set([ye.SemanticTokensRequest.method,ye.SemanticTokensRangeRequest.method,ye.SemanticTokensDeltaRequest.method]);var xc=class{error(e){(0,ye.RAL)().console.error(e)}warn(e){(0,ye.RAL)().console.warn(e)}info(e){(0,ye.RAL)().console.info(e)}log(e){(0,ye.RAL)().console.log(e)}};function VD(n,e,t,r,i){let o=-1,a=new xc,l=(0,ye.createProtocolConnection)(n,e,a,i);return l.onError(g=>{t(g[0],g[1],g[2])}),l.onClose(r),{get lastUsed(){return o},resetLastUsed:()=>{o=-1},listen:()=>l.listen(),sendRequest:(g,...b)=>(o=Date.now(),l.sendRequest(g,...b)),onRequest:(g,b)=>l.onRequest(g,b),hasPendingResponse:()=>l.hasPendingResponse(),sendNotification:(g,b)=>(o=Date.now(),l.sendNotification(g,b)),onNotification:(g,b)=>l.onNotification(g,b),onProgress:l.onProgress,sendProgress:l.sendProgress,trace:(g,b,S)=>{let v={sendNotification:!1,traceFormat:ye.TraceFormat.Text};return S===void 0?l.trace(g,b,v):(on.boolean(S),l.trace(g,b,S))},initialize:g=>(o=Date.now(),l.sendRequest(ye.InitializeRequest.type,g)),shutdown:()=>(o=Date.now(),l.sendRequest(ye.ShutdownRequest.type,void 0)),exit:()=>(o=Date.now(),l.sendNotification(ye.ExitNotification.type)),end:()=>l.end(),dispose:()=>l.dispose()}}var hh;(function(n){function e(t){return[]}n.createAll=e})(hh=lt.ProposedFeatures||(lt.ProposedFeatures={}))});var ph=ee(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});wo.terminate=void 0;var gh=require("child_process"),BD=require("path"),GD=process.platform==="win32",XD=process.platform==="darwin",YD=process.platform==="linux";function QD(n,e){if(GD)try{let i={stdio:["pipe","pipe","ignore"]};return e&&(i.cwd=e),gh.execFileSync("taskkill",["/T","/F","/PID",n.pid.toString()],i),!0}catch{return!1}else if(YD||XD)try{var t=(0,BD.join)(__dirname,"terminateProcess.sh"),r=gh.spawnSync(t,[n.pid.toString()]);return!r.error}catch{return!1}else return n.kill("SIGKILL"),!0}wo.terminate=QD});var Fc=ee((R_,mh)=>{"use strict";mh.exports=ke()});var vh=ee(Gt=>{"use strict";var JD=Gt&&Gt.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Nc=Gt&&Gt.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&JD(e,n,t)};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.DiagnosticPullMode=Gt.vsdiag=void 0;Nc(ke(),Gt);Nc(Ge(),Gt);var yh=na();Object.defineProperty(Gt,"vsdiag",{enumerable:!0,get:function(){return yh.vsdiag}});Object.defineProperty(Gt,"DiagnosticPullMode",{enumerable:!0,get:function(){return yh.DiagnosticPullMode}});Nc(Oc(),Gt)});var wh=ee(Mt=>{"use strict";var ZD=Mt&&Mt.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Rh=Mt&&Mt.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&ZD(e,n,t)};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.SettingMonitor=Mt.LanguageClient=Mt.TransportKind=void 0;var Pn=require("child_process"),Ac=require("fs"),Lc=require("path"),Ch=Od(),Ln=require("vscode"),dt=Jt(),bh=Oc(),eR=ph(),mt=Fc();Rh(Fc(),Mt);Rh(vh(),Mt);var Dh="^1.67.0",Ct;(function(n){n[n.stdio=0]="stdio",n[n.ipc=1]="ipc",n[n.pipe=2]="pipe",n[n.socket=3]="socket"})(Ct=Mt.TransportKind||(Mt.TransportKind={}));var An;(function(n){function e(t){let r=t;return r&&r.kind===Ct.socket&&dt.number(r.port)}n.isSocket=e})(An||(An={}));var Mc;(function(n){function e(t){return dt.string(t.command)}n.is=e})(Mc||(Mc={}));var Hc;(function(n){function e(t){return dt.string(t.module)}n.is=e})(Hc||(Hc={}));var jc;(function(n){function e(t){let r=t;return r&&r.writer!==void 0&&r.reader!==void 0}n.is=e})(jc||(jc={}));var Uc;(function(n){function e(t){let r=t;return r&&r.process!==void 0&&typeof r.detached=="boolean"}n.is=e})(Uc||(Uc={}));var $c=class extends bh.BaseLanguageClient{constructor(e,t,r,i,o){let a,l,f,g,b;dt.string(t)?(a=e,l=t,f=r,g=i,b=!!o):(a=e.toLowerCase(),l=e,f=t,g=r,b=i),b===void 0&&(b=!1),super(a,l,g),this._serverOptions=f,this._forceDebug=b,this._isInDebugMode=b;try{this.checkVersion()}catch(S){throw dt.string(S.message)&&this.outputChannel.appendLine(S.message),S}}checkVersion(){let e=Ch.parse(Ln.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${Ln.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!Ch.satisfies(e,Dh))throw new Error(`The language client requires VS Code version ${Dh} but received version ${Ln.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise(e=>setTimeout(e,1e3)),await this.start()):await this.start()}stop(e=2e3){return super.stop(e).finally(()=>{if(this._serverProcess){let t=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(t),this._isDetached=void 0}})}checkProcessDied(e){!e||e.pid===void 0||setTimeout(()=>{try{e.pid!==void 0&&(process.kill(e.pid,0),(0,eR.terminate)(e))}catch{}},2e3)}handleConnectionClosed(){this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function t(b,S){if(!b&&!S)return;let v=Object.create(null);return Object.keys(process.env).forEach(E=>v[E]=process.env[E]),S&&(v.ELECTRON_RUN_AS_NODE="1",v.ELECTRON_NO_ASAR="1"),b&&Object.keys(b).forEach(E=>v[E]=b[E]),v}let r=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],i=["--debug","--debug-brk","--inspect","--inspect-brk"];function o(){let b=process.execArgv;return b?b.some(S=>r.some(v=>S.startsWith(v))||i.some(v=>S===v)):!1}function a(b){if(b.stdin===null||b.stdout===null||b.stderr===null)throw new Error("Process created without stdio streams")}let l=this._serverOptions;if(dt.func(l))return l().then(b=>{if(bh.MessageTransports.is(b))return this._isDetached=!!b.detached,b;if(jc.is(b))return this._isDetached=!!b.detached,{reader:new mt.StreamMessageReader(b.reader),writer:new mt.StreamMessageWriter(b.writer)};{let S;return Uc.is(b)?(S=b.process,this._isDetached=b.detached):(S=b,this._isDetached=!1),S.stderr.on("data",v=>this.outputChannel.append(dt.string(v)?v:v.toString(e))),{reader:new mt.StreamMessageReader(S.stdout),writer:new mt.StreamMessageWriter(S.stdin)}}});let f,g=l;return g.run||g.debug?this._forceDebug||o()?(f=g.debug,this._isInDebugMode=!0):(f=g.run,this._isInDebugMode=!1):f=l,this._getServerWorkingDir(f.options).then(b=>{if(Hc.is(f)&&f.module){let S=f,v=S.transport||Ct.stdio;if(S.runtime){let E=[],q=S.options??Object.create(null);q.execArgv&&q.execArgv.forEach(d=>E.push(d)),E.push(S.module),S.args&&S.args.forEach(d=>E.push(d));let I=Object.create(null);I.cwd=b,I.env=t(q.env,!1);let O=this._getRuntimePath(S.runtime,b),F;if(v===Ct.ipc?(I.stdio=[null,null,null,"ipc"],E.push("--node-ipc")):v===Ct.stdio?E.push("--stdio"):v===Ct.pipe?(F=(0,mt.generateRandomPipeName)(),E.push(`--pipe=${F}`)):An.isSocket(v)&&E.push(`--socket=${v.port}`),E.push(`--clientProcessId=${process.pid.toString()}`),v===Ct.ipc||v===Ct.stdio){let d=Pn.spawn(O,E,I);return!d||!d.pid?yr(d,`Launching server using runtime ${O} failed.`):(this._serverProcess=d,d.stderr.on("data",R=>this.outputChannel.append(dt.string(R)?R:R.toString(e))),v===Ct.ipc?(d.stdout.on("data",R=>this.outputChannel.append(dt.string(R)?R:R.toString(e))),Promise.resolve({reader:new mt.IPCMessageReader(d),writer:new mt.IPCMessageWriter(d)})):Promise.resolve({reader:new mt.StreamMessageReader(d.stdout),writer:new mt.StreamMessageWriter(d.stdin)}))}else{if(v===Ct.pipe)return(0,mt.createClientPipeTransport)(F).then(d=>{let R=Pn.spawn(O,E,I);return!R||!R.pid?yr(R,`Launching server using runtime ${O} failed.`):(this._serverProcess=R,R.stderr.on("data",T=>this.outputChannel.append(dt.string(T)?T:T.toString(e))),R.stdout.on("data",T=>this.outputChannel.append(dt.string(T)?T:T.toString(e))),d.onConnected().then(T=>({reader:T[0],writer:T[1]})))});if(An.isSocket(v))return(0,mt.createClientSocketTransport)(v.port).then(d=>{let R=Pn.spawn(O,E,I);return!R||!R.pid?yr(R,`Launching server using runtime ${O} failed.`):(this._serverProcess=R,R.stderr.on("data",T=>this.outputChannel.append(dt.string(T)?T:T.toString(e))),R.stdout.on("data",T=>this.outputChannel.append(dt.string(T)?T:T.toString(e))),d.onConnected().then(T=>({reader:T[0],writer:T[1]})))})}}else{let E;return new Promise((q,I)=>{let O=(S.args&&S.args.slice())??[];v===Ct.ipc?O.push("--node-ipc"):v===Ct.stdio?O.push("--stdio"):v===Ct.pipe?(E=(0,mt.generateRandomPipeName)(),O.push(`--pipe=${E}`)):An.isSocket(v)&&O.push(`--socket=${v.port}`),O.push(`--clientProcessId=${process.pid.toString()}`);let F=S.options??Object.create(null);if(F.env=t(F.env,!0),F.execArgv=F.execArgv||[],F.cwd=b,F.silent=!0,v===Ct.ipc||v===Ct.stdio){let d=Pn.fork(S.module,O||[],F);a(d),this._serverProcess=d,d.stderr.on("data",R=>this.outputChannel.append(dt.string(R)?R:R.toString(e))),v===Ct.ipc?(d.stdout.on("data",R=>this.outputChannel.append(dt.string(R)?R:R.toString(e))),q({reader:new mt.IPCMessageReader(this._serverProcess),writer:new mt.IPCMessageWriter(this._serverProcess)})):q({reader:new mt.StreamMessageReader(d.stdout),writer:new mt.StreamMessageWriter(d.stdin)})}else v===Ct.pipe?(0,mt.createClientPipeTransport)(E).then(d=>{let R=Pn.fork(S.module,O||[],F);a(R),this._serverProcess=R,R.stderr.on("data",T=>this.outputChannel.append(dt.string(T)?T:T.toString(e))),R.stdout.on("data",T=>this.outputChannel.append(dt.string(T)?T:T.toString(e))),d.onConnected().then(T=>{q({reader:T[0],writer:T[1]})},I)},I):An.isSocket(v)&&(0,mt.createClientSocketTransport)(v.port).then(d=>{let R=Pn.fork(S.module,O||[],F);a(R),this._serverProcess=R,R.stderr.on("data",T=>this.outputChannel.append(dt.string(T)?T:T.toString(e))),R.stdout.on("data",T=>this.outputChannel.append(dt.string(T)?T:T.toString(e))),d.onConnected().then(T=>{q({reader:T[0],writer:T[1]})},I)},I)})}}else if(Mc.is(f)&&f.command){let S=f,v=f.args!==void 0?f.args.slice(0):[],E,q=f.transport;if(q===Ct.stdio)v.push("--stdio");else if(q===Ct.pipe)E=(0,mt.generateRandomPipeName)(),v.push(`--pipe=${E}`);else if(An.isSocket(q))v.push(`--socket=${q.port}`);else if(q===Ct.ipc)throw new Error("Transport kind ipc is not support for command executable");let I=Object.assign({},S.options);if(I.cwd=I.cwd||b,q===void 0||q===Ct.stdio){let O=Pn.spawn(S.command,v,I);return!O||!O.pid?yr(O,`Launching server using command ${S.command} failed.`):(O.stderr.on("data",F=>this.outputChannel.append(dt.string(F)?F:F.toString(e))),this._serverProcess=O,this._isDetached=!!I.detached,Promise.resolve({reader:new mt.StreamMessageReader(O.stdout),writer:new mt.StreamMessageWriter(O.stdin)}))}else{if(q===Ct.pipe)return(0,mt.createClientPipeTransport)(E).then(O=>{let F=Pn.spawn(S.command,v,I);return!F||!F.pid?yr(F,`Launching server using command ${S.command} failed.`):(this._serverProcess=F,this._isDetached=!!I.detached,F.stderr.on("data",d=>this.outputChannel.append(dt.string(d)?d:d.toString(e))),F.stdout.on("data",d=>this.outputChannel.append(dt.string(d)?d:d.toString(e))),O.onConnected().then(d=>({reader:d[0],writer:d[1]})))});if(An.isSocket(q))return(0,mt.createClientSocketTransport)(q.port).then(O=>{let F=Pn.spawn(S.command,v,I);return!F||!F.pid?yr(F,`Launching server using command ${S.command} failed.`):(this._serverProcess=F,this._isDetached=!!I.detached,F.stderr.on("data",d=>this.outputChannel.append(dt.string(d)?d:d.toString(e))),F.stdout.on("data",d=>this.outputChannel.append(dt.string(d)?d:d.toString(e))),O.onConnected().then(d=>({reader:d[0],writer:d[1]})))})}}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(l,null,4)))})}_getRuntimePath(e,t){if(Lc.isAbsolute(e))return e;let r=this._mainGetRootPath();if(r!==void 0){let i=Lc.join(r,e);if(Ac.existsSync(i))return i}if(t!==void 0){let i=Lc.join(t,e);if(Ac.existsSync(i))return i}return e}_mainGetRootPath(){let e=Ln.workspace.workspaceFolders;if(!e||e.length===0)return;let t=e[0];if(t.uri.scheme==="file")return t.uri.fsPath}_getServerWorkingDir(e){let t=e&&e.cwd;return t||(t=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),t?new Promise(r=>{Ac.lstat(t,(i,o)=>{r(!i&&o.isDirectory()?t:void 0)})}):Promise.resolve(void 0)}getLocale(){let e=process.env.VSCODE_NLS_CONFIG;if(e===void 0)return"en";let t;try{t=JSON.parse(e)}catch{}return t===void 0||typeof t.locale!="string"?"en":t.locale}};Mt.LanguageClient=$c;var Wc=class{constructor(e,t){this._client=e,this._setting=t,this._listeners=[]}start(){return Ln.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new Ln.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),t=e>=0?this._setting.substr(0,e):this._setting,r=e>=0?this._setting.substr(e+1):void 0,i=r?Ln.workspace.getConfiguration(t).get(r,!1):Ln.workspace.getConfiguration(t);i&&this._client.needsStart()?this._client.start().catch(o=>this._client.error("Start failed after configuration change",o,"force")):!i&&this._client.needsStop()&&this._client.stop().catch(o=>this._client.error("Stop failed after configuration change",o,"force"))}};Mt.SettingMonitor=Wc;function yr(n,e){return n===null?Promise.reject(e):new Promise((t,r)=>{n.on("error",i=>{r(`${e} ${i}`)}),setImmediate(()=>r(e))})}});(()=>{var n={881:(i,o,a)=>{(()=>{var l={705:S=>{S.exports=function v(E,q,I){function O(R,T){if(!q[R]){if(!E[R]){if(F)return F(R,!0);throw new Error("Cannot find module '"+R+"'")}T=q[R]={exports:{}},E[R][0].call(T.exports,function(N){return O(E[R][1][N]||N)},T,T.exports,v,E,q,I)}return q[R].exports}for(var F=void 0,d=0;d<I.length;d++)O(I[d]);return O}({1:[function(v,E,q){(function(I,O,F,d,R,T,N,j,K){"use strict";var L=v("crypto");function Z(V,J){var P;return(P=(J=se(V,J)).algorithm!=="passthrough"?L.createHash(J.algorithm):new we).write===void 0&&(P.write=P.update,P.end=P.update),de(J,P).dispatch(V),P.update||P.end(""),P.digest?P.digest(J.encoding==="buffer"?void 0:J.encoding):(V=P.read(),J.encoding!=="buffer"?V.toString(J.encoding):V)}(q=E.exports=Z).sha1=function(V){return Z(V)},q.keys=function(V){return Z(V,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},q.MD5=function(V){return Z(V,{algorithm:"md5",encoding:"hex"})},q.keysMD5=function(V){return Z(V,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var $=L.getHashes?L.getHashes().slice():["sha1","md5"],oe=($.push("passthrough"),["buffer","hex","binary","base64"]);function se(V,J){var P={};if(P.algorithm=(J=J||{}).algorithm||"sha1",P.encoding=J.encoding||"hex",P.excludeValues=!!J.excludeValues,P.algorithm=P.algorithm.toLowerCase(),P.encoding=P.encoding.toLowerCase(),P.ignoreUnknown=J.ignoreUnknown===!0,P.respectType=J.respectType!==!1,P.respectFunctionNames=J.respectFunctionNames!==!1,P.respectFunctionProperties=J.respectFunctionProperties!==!1,P.unorderedArrays=J.unorderedArrays===!0,P.unorderedSets=J.unorderedSets!==!1,P.unorderedObjects=J.unorderedObjects!==!1,P.replacer=J.replacer||void 0,P.excludeKeys=J.excludeKeys||void 0,V===void 0)throw new Error("Object argument required.");for(var c=0;c<$.length;++c)$[c].toLowerCase()===P.algorithm.toLowerCase()&&(P.algorithm=$[c]);if($.indexOf(P.algorithm)===-1)throw new Error('Algorithm "'+P.algorithm+'"  not supported. supported values: '+$.join(", "));if(oe.indexOf(P.encoding)===-1&&P.algorithm!=="passthrough")throw new Error('Encoding "'+P.encoding+'"  not supported. supported values: '+oe.join(", "));return P}function pe(V){if(typeof V=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(V))!=null}function de(V,J,P){function c(s){return J.update?J.update(s,"utf8"):J.write(s,"utf8")}return P=P||[],{dispatch:function(s){return this["_"+((s=V.replacer?V.replacer(s):s)===null?"null":typeof s)](s)},_object:function(s){var y,w=Object.prototype.toString.call(s),M=/\[object (.*)\]/i.exec(w);if(M=(M=M?M[1]:"unknown:["+w+"]").toLowerCase(),0<=(w=P.indexOf(s)))return this.dispatch("[CIRCULAR:"+w+"]");if(P.push(s),F!==void 0&&F.isBuffer&&F.isBuffer(s))return c("buffer:"),c(s);if(M==="object"||M==="function"||M==="asyncfunction")return w=Object.keys(s),V.unorderedObjects&&(w=w.sort()),V.respectType===!1||pe(s)||w.splice(0,0,"prototype","__proto__","constructor"),V.excludeKeys&&(w=w.filter(function(Q){return!V.excludeKeys(Q)})),c("object:"+w.length+":"),y=this,w.forEach(function(Q){y.dispatch(Q),c(":"),V.excludeValues||y.dispatch(s[Q]),c(",")});if(!this["_"+M]){if(V.ignoreUnknown)return c("["+M+"]");throw new Error('Unknown object type "'+M+'"')}this["_"+M](s)},_array:function(s,y){y=y!==void 0?y:V.unorderedArrays!==!1;var w=this;if(c("array:"+s.length+":"),!y||s.length<=1)return s.forEach(function(Q){return w.dispatch(Q)});var M=[];return y=s.map(function(Q){var z=new we,B=P.slice();return de(V,z,B).dispatch(Q),M=M.concat(B.slice(P.length)),z.read().toString()}),P=P.concat(M),y.sort(),this._array(y,!1)},_date:function(s){return c("date:"+s.toJSON())},_symbol:function(s){return c("symbol:"+s.toString())},_error:function(s){return c("error:"+s.toString())},_boolean:function(s){return c("bool:"+s.toString())},_string:function(s){c("string:"+s.length+":"),c(s.toString())},_function:function(s){c("fn:"),pe(s)?this.dispatch("[native]"):this.dispatch(s.toString()),V.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(s.name)),V.respectFunctionProperties&&this._object(s)},_number:function(s){return c("number:"+s.toString())},_xml:function(s){return c("xml:"+s.toString())},_null:function(){return c("Null")},_undefined:function(){return c("Undefined")},_regexp:function(s){return c("regex:"+s.toString())},_uint8array:function(s){return c("uint8array:"),this.dispatch(Array.prototype.slice.call(s))},_uint8clampedarray:function(s){return c("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(s))},_int8array:function(s){return c("int8array:"),this.dispatch(Array.prototype.slice.call(s))},_uint16array:function(s){return c("uint16array:"),this.dispatch(Array.prototype.slice.call(s))},_int16array:function(s){return c("int16array:"),this.dispatch(Array.prototype.slice.call(s))},_uint32array:function(s){return c("uint32array:"),this.dispatch(Array.prototype.slice.call(s))},_int32array:function(s){return c("int32array:"),this.dispatch(Array.prototype.slice.call(s))},_float32array:function(s){return c("float32array:"),this.dispatch(Array.prototype.slice.call(s))},_float64array:function(s){return c("float64array:"),this.dispatch(Array.prototype.slice.call(s))},_arraybuffer:function(s){return c("arraybuffer:"),this.dispatch(new Uint8Array(s))},_url:function(s){return c("url:"+s.toString())},_map:function(s){return c("map:"),s=Array.from(s),this._array(s,V.unorderedSets!==!1)},_set:function(s){return c("set:"),s=Array.from(s),this._array(s,V.unorderedSets!==!1)},_file:function(s){return c("file:"),this.dispatch([s.name,s.size,s.type,s.lastModfied])},_blob:function(){if(V.ignoreUnknown)return c("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return c("domwindow")},_bigint:function(s){return c("bigint:"+s.toString())},_process:function(){return c("process")},_timer:function(){return c("timer")},_pipe:function(){return c("pipe")},_tcp:function(){return c("tcp")},_udp:function(){return c("udp")},_tty:function(){return c("tty")},_statwatcher:function(){return c("statwatcher")},_securecontext:function(){return c("securecontext")},_connection:function(){return c("connection")},_zlib:function(){return c("zlib")},_context:function(){return c("context")},_nodescript:function(){return c("nodescript")},_httpparser:function(){return c("httpparser")},_dataview:function(){return c("dataview")},_signal:function(){return c("signal")},_fsevent:function(){return c("fsevent")},_tlswrap:function(){return c("tlswrap")}}}function we(){return{buf:"",write:function(V){this.buf+=V},end:function(V){this.buf+=V},read:function(){return this.buf}}}q.writeToStream=function(V,J,P){return P===void 0&&(P=J,J={}),de(J=se(V,J),P).dispatch(V)}}).call(this,v("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},v("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(v,E,q){(function(I,O,F,d,R,T,N,j,K){(function(L){"use strict";var Z=typeof Uint8Array<"u"?Uint8Array:Array,$="+".charCodeAt(0),oe="/".charCodeAt(0),se="0".charCodeAt(0),pe="a".charCodeAt(0),de="A".charCodeAt(0),we="-".charCodeAt(0),V="_".charCodeAt(0);function J(P){return(P=P.charCodeAt(0))===$||P===we?62:P===oe||P===V?63:P<se?-1:P<se+10?P-se+26+26:P<de+26?P-de:P<pe+26?P-pe+26:void 0}L.toByteArray=function(P){var c,s;if(0<P.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var y=P.length,w=(y=P.charAt(y-2)==="="?2:P.charAt(y-1)==="="?1:0,new Z(3*P.length/4-y)),M=0<y?P.length-4:P.length,Q=0;function z(B){w[Q++]=B}for(c=0;c<M;c+=4,0)z((16711680&(s=J(P.charAt(c))<<18|J(P.charAt(c+1))<<12|J(P.charAt(c+2))<<6|J(P.charAt(c+3))))>>16),z((65280&s)>>8),z(255&s);return y==2?z(255&(s=J(P.charAt(c))<<2|J(P.charAt(c+1))>>4)):y==1&&(z((s=J(P.charAt(c))<<10|J(P.charAt(c+1))<<4|J(P.charAt(c+2))>>2)>>8&255),z(255&s)),w},L.fromByteArray=function(P){var c,s,y,w,M=P.length%3,Q="";function z(B){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(B)}for(c=0,y=P.length-M;c<y;c+=3)Q+=z((w=s=(P[c]<<16)+(P[c+1]<<8)+P[c+2])>>18&63)+z(w>>12&63)+z(w>>6&63)+z(63&w);switch(M){case 1:Q=(Q+=z((s=P[P.length-1])>>2))+z(s<<4&63)+"==";break;case 2:Q=(Q=(Q+=z((s=(P[P.length-2]<<8)+P[P.length-1])>>10))+z(s>>4&63))+z(s<<2&63)+"="}return Q}})(q===void 0?this.base64js={}:q)}).call(this,v("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},v("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(v,E,q){(function(I,O,$,d,R,T,N,j,K){var L=v("base64-js"),Z=v("ieee754");function $(C,k,W){if(!(this instanceof $))return new $(C,k,W);var X,ge,De,Me,Xe=typeof C;if(k==="base64"&&Xe=="string")for(C=(Me=C).trim?Me.trim():Me.replace(/^\s+|\s+$/g,"");C.length%4!=0;)C+="=";if(Xe=="number")X=z(C);else if(Xe=="string")X=$.byteLength(C,k);else{if(Xe!="object")throw new Error("First argument needs to be a number, array or string.");X=z(C.length)}if($._useTypedArrays?ge=$._augment(new Uint8Array(X)):((ge=this).length=X,ge._isBuffer=!0),$._useTypedArrays&&typeof C.byteLength=="number")ge._set(C);else if(B(Me=C)||$.isBuffer(Me)||Me&&typeof Me=="object"&&typeof Me.length=="number")for(De=0;De<X;De++)$.isBuffer(C)?ge[De]=C.readUInt8(De):ge[De]=C[De];else if(Xe=="string")ge.write(C,0,k);else if(Xe=="number"&&!$._useTypedArrays&&!W)for(De=0;De<X;De++)ge[De]=0;return ge}function oe(C,k,W,X){var ge;if(X||(he(typeof W=="boolean","missing or invalid endian"),he(k!=null,"missing offset"),he(k+1<C.length,"Trying to read beyond buffer length")),!((X=C.length)<=k))return W?(ge=C[k],k+1<X&&(ge|=C[k+1]<<8)):(ge=C[k]<<8,k+1<X&&(ge|=C[k+1])),ge}function se(C,k,W,X){var ge;if(X||(he(typeof W=="boolean","missing or invalid endian"),he(k!=null,"missing offset"),he(k+3<C.length,"Trying to read beyond buffer length")),!((X=C.length)<=k))return W?(k+2<X&&(ge=C[k+2]<<16),k+1<X&&(ge|=C[k+1]<<8),ge|=C[k],k+3<X&&(ge+=C[k+3]<<24>>>0)):(k+1<X&&(ge=C[k+1]<<16),k+2<X&&(ge|=C[k+2]<<8),k+3<X&&(ge|=C[k+3]),ge+=C[k]<<24>>>0),ge}function pe(C,k,W,X){if(X||(he(typeof W=="boolean","missing or invalid endian"),he(k!=null,"missing offset"),he(k+1<C.length,"Trying to read beyond buffer length")),!(C.length<=k))return 32768&(X=oe(C,k,W,!0))?-1*(65535-X+1):X}function de(C,k,W,X){if(X||(he(typeof W=="boolean","missing or invalid endian"),he(k!=null,"missing offset"),he(k+3<C.length,"Trying to read beyond buffer length")),!(C.length<=k))return 2147483648&(X=se(C,k,W,!0))?-1*(4294967295-X+1):X}function we(C,k,W,X){return X||(he(typeof W=="boolean","missing or invalid endian"),he(k+3<C.length,"Trying to read beyond buffer length")),Z.read(C,k,W,23,4)}function V(C,k,W,X){return X||(he(typeof W=="boolean","missing or invalid endian"),he(k+7<C.length,"Trying to read beyond buffer length")),Z.read(C,k,W,52,8)}function J(C,k,W,X,ge){if(ge||(he(k!=null,"missing value"),he(typeof X=="boolean","missing or invalid endian"),he(W!=null,"missing offset"),he(W+1<C.length,"trying to write beyond buffer length"),ve(k,65535)),!((ge=C.length)<=W))for(var De=0,Me=Math.min(ge-W,2);De<Me;De++)C[W+De]=(k&255<<8*(X?De:1-De))>>>8*(X?De:1-De)}function P(C,k,W,X,ge){if(ge||(he(k!=null,"missing value"),he(typeof X=="boolean","missing or invalid endian"),he(W!=null,"missing offset"),he(W+3<C.length,"trying to write beyond buffer length"),ve(k,4294967295)),!((ge=C.length)<=W))for(var De=0,Me=Math.min(ge-W,4);De<Me;De++)C[W+De]=k>>>8*(X?De:3-De)&255}function c(C,k,W,X,ge){ge||(he(k!=null,"missing value"),he(typeof X=="boolean","missing or invalid endian"),he(W!=null,"missing offset"),he(W+1<C.length,"Trying to write beyond buffer length"),Ce(k,32767,-32768)),C.length<=W||J(C,0<=k?k:65535+k+1,W,X,ge)}function s(C,k,W,X,ge){ge||(he(k!=null,"missing value"),he(typeof X=="boolean","missing or invalid endian"),he(W!=null,"missing offset"),he(W+3<C.length,"Trying to write beyond buffer length"),Ce(k,2147483647,-2147483648)),C.length<=W||P(C,0<=k?k:4294967295+k+1,W,X,ge)}function y(C,k,W,X,ge){ge||(he(k!=null,"missing value"),he(typeof X=="boolean","missing or invalid endian"),he(W!=null,"missing offset"),he(W+3<C.length,"Trying to write beyond buffer length"),Te(k,34028234663852886e22,-34028234663852886e22)),C.length<=W||Z.write(C,k,W,X,23,4)}function w(C,k,W,X,ge){ge||(he(k!=null,"missing value"),he(typeof X=="boolean","missing or invalid endian"),he(W!=null,"missing offset"),he(W+7<C.length,"Trying to write beyond buffer length"),Te(k,17976931348623157e292,-17976931348623157e292)),C.length<=W||Z.write(C,k,W,X,52,8)}q.Buffer=$,q.SlowBuffer=$,q.INSPECT_MAX_BYTES=50,$.poolSize=8192,$._useTypedArrays=function(){try{var C=new ArrayBuffer(0),k=new Uint8Array(C);return k.foo=function(){return 42},k.foo()===42&&typeof k.subarray=="function"}catch{return!1}}(),$.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},$.isBuffer=function(C){return!(C==null||!C._isBuffer)},$.byteLength=function(C,k){var W;switch(C+="",k||"utf8"){case"hex":W=C.length/2;break;case"utf8":case"utf-8":W=re(C).length;break;case"ascii":case"binary":case"raw":W=C.length;break;case"base64":W=fe(C).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":W=2*C.length;break;default:throw new Error("Unknown encoding")}return W},$.concat=function(C,k){if(he(B(C),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),C.length===0)return new $(0);if(C.length===1)return C[0];if(typeof k!="number")for(ge=k=0;ge<C.length;ge++)k+=C[ge].length;for(var W=new $(k),X=0,ge=0;ge<C.length;ge++){var De=C[ge];De.copy(W,X),X+=De.length}return W},$.prototype.write=function(C,k,W,X){isFinite(k)?isFinite(W)||(X=W,W=void 0):(nt=X,X=k,k=W,W=nt),k=Number(k)||0;var ge,De,Me,Xe,nt=this.length-k;switch((!W||nt<(W=Number(W)))&&(W=nt),X=String(X||"utf8").toLowerCase()){case"hex":ge=function(Ye,He,Ze,Ke){Ze=Number(Ze)||0;var Be=Ye.length-Ze;(!Ke||Be<(Ke=Number(Ke)))&&(Ke=Be),he((Be=He.length)%2==0,"Invalid hex string"),Be/2<Ke&&(Ke=Be/2);for(var st=0;st<Ke;st++){var ce=parseInt(He.substr(2*st,2),16);he(!isNaN(ce),"Invalid hex string"),Ye[Ze+st]=ce}return $._charsWritten=2*st,st}(this,C,k,W);break;case"utf8":case"utf-8":De=this,Me=k,Xe=W,ge=$._charsWritten=ue(re(C),De,Me,Xe);break;case"ascii":case"binary":ge=function(Ye,He,Ze,Ke){return $._charsWritten=ue(function(Be){for(var st=[],ce=0;ce<Be.length;ce++)st.push(255&Be.charCodeAt(ce));return st}(He),Ye,Ze,Ke)}(this,C,k,W);break;case"base64":De=this,Me=k,Xe=W,ge=$._charsWritten=ue(fe(C),De,Me,Xe);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ge=function(Ye,He,Ze,Ke){return $._charsWritten=ue(function(Be){for(var st,ce,te=[],le=0;le<Be.length;le++)st=(ce=Be.charCodeAt(le))>>8,ce%=256,te.push(ce),te.push(st);return te}(He),Ye,Ze,Ke)}(this,C,k,W);break;default:throw new Error("Unknown encoding")}return ge},$.prototype.toString=function(C,k,W){var X,ge,De,Me,Xe=this;if(C=String(C||"utf8").toLowerCase(),k=Number(k)||0,(W=W!==void 0?Number(W):Xe.length)===k)return"";switch(C){case"hex":X=function(nt,Ye,He){var Ze=nt.length;(!Ye||Ye<0)&&(Ye=0),(!He||He<0||Ze<He)&&(He=Ze);for(var Ke="",Be=Ye;Be<He;Be++)Ke+=ne(nt[Be]);return Ke}(Xe,k,W);break;case"utf8":case"utf-8":X=function(nt,Ye,He){var Ze="",Ke="";He=Math.min(nt.length,He);for(var Be=Ye;Be<He;Be++)nt[Be]<=127?(Ze+=Pe(Ke)+String.fromCharCode(nt[Be]),Ke=""):Ke+="%"+nt[Be].toString(16);return Ze+Pe(Ke)}(Xe,k,W);break;case"ascii":case"binary":X=function(nt,Ye,He){var Ze="";He=Math.min(nt.length,He);for(var Ke=Ye;Ke<He;Ke++)Ze+=String.fromCharCode(nt[Ke]);return Ze}(Xe,k,W);break;case"base64":ge=Xe,Me=W,X=(De=k)===0&&Me===ge.length?L.fromByteArray(ge):L.fromByteArray(ge.slice(De,Me));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":X=function(nt,Ye,He){for(var Ze=nt.slice(Ye,He),Ke="",Be=0;Be<Ze.length;Be+=2)Ke+=String.fromCharCode(Ze[Be]+256*Ze[Be+1]);return Ke}(Xe,k,W);break;default:throw new Error("Unknown encoding")}return X},$.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},$.prototype.copy=function(C,k,W,X){if(k=k||0,(X=X||X===0?X:this.length)!==(W=W||0)&&C.length!==0&&this.length!==0){he(W<=X,"sourceEnd < sourceStart"),he(0<=k&&k<C.length,"targetStart out of bounds"),he(0<=W&&W<this.length,"sourceStart out of bounds"),he(0<=X&&X<=this.length,"sourceEnd out of bounds"),X>this.length&&(X=this.length);var ge=(X=C.length-k<X-W?C.length-k+W:X)-W;if(ge<100||!$._useTypedArrays)for(var De=0;De<ge;De++)C[De+k]=this[De+W];else C._set(this.subarray(W,W+ge),k)}},$.prototype.slice=function(C,k){var W=this.length;if(C=Q(C,W,0),k=Q(k,W,W),$._useTypedArrays)return $._augment(this.subarray(C,k));for(var X=k-C,ge=new $(X,void 0,!0),De=0;De<X;De++)ge[De]=this[De+C];return ge},$.prototype.get=function(C){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(C)},$.prototype.set=function(C,k){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(C,k)},$.prototype.readUInt8=function(C,k){if(k||(he(C!=null,"missing offset"),he(C<this.length,"Trying to read beyond buffer length")),!(C>=this.length))return this[C]},$.prototype.readUInt16LE=function(C,k){return oe(this,C,!0,k)},$.prototype.readUInt16BE=function(C,k){return oe(this,C,!1,k)},$.prototype.readUInt32LE=function(C,k){return se(this,C,!0,k)},$.prototype.readUInt32BE=function(C,k){return se(this,C,!1,k)},$.prototype.readInt8=function(C,k){if(k||(he(C!=null,"missing offset"),he(C<this.length,"Trying to read beyond buffer length")),!(C>=this.length))return 128&this[C]?-1*(255-this[C]+1):this[C]},$.prototype.readInt16LE=function(C,k){return pe(this,C,!0,k)},$.prototype.readInt16BE=function(C,k){return pe(this,C,!1,k)},$.prototype.readInt32LE=function(C,k){return de(this,C,!0,k)},$.prototype.readInt32BE=function(C,k){return de(this,C,!1,k)},$.prototype.readFloatLE=function(C,k){return we(this,C,!0,k)},$.prototype.readFloatBE=function(C,k){return we(this,C,!1,k)},$.prototype.readDoubleLE=function(C,k){return V(this,C,!0,k)},$.prototype.readDoubleBE=function(C,k){return V(this,C,!1,k)},$.prototype.writeUInt8=function(C,k,W){W||(he(C!=null,"missing value"),he(k!=null,"missing offset"),he(k<this.length,"trying to write beyond buffer length"),ve(C,255)),k>=this.length||(this[k]=C)},$.prototype.writeUInt16LE=function(C,k,W){J(this,C,k,!0,W)},$.prototype.writeUInt16BE=function(C,k,W){J(this,C,k,!1,W)},$.prototype.writeUInt32LE=function(C,k,W){P(this,C,k,!0,W)},$.prototype.writeUInt32BE=function(C,k,W){P(this,C,k,!1,W)},$.prototype.writeInt8=function(C,k,W){W||(he(C!=null,"missing value"),he(k!=null,"missing offset"),he(k<this.length,"Trying to write beyond buffer length"),Ce(C,127,-128)),k>=this.length||(0<=C?this.writeUInt8(C,k,W):this.writeUInt8(255+C+1,k,W))},$.prototype.writeInt16LE=function(C,k,W){c(this,C,k,!0,W)},$.prototype.writeInt16BE=function(C,k,W){c(this,C,k,!1,W)},$.prototype.writeInt32LE=function(C,k,W){s(this,C,k,!0,W)},$.prototype.writeInt32BE=function(C,k,W){s(this,C,k,!1,W)},$.prototype.writeFloatLE=function(C,k,W){y(this,C,k,!0,W)},$.prototype.writeFloatBE=function(C,k,W){y(this,C,k,!1,W)},$.prototype.writeDoubleLE=function(C,k,W){w(this,C,k,!0,W)},$.prototype.writeDoubleBE=function(C,k,W){w(this,C,k,!1,W)},$.prototype.fill=function(C,k,W){if(k=k||0,W=W||this.length,he(typeof(C=typeof(C=C||0)=="string"?C.charCodeAt(0):C)=="number"&&!isNaN(C),"value is not a number"),he(k<=W,"end < start"),W!==k&&this.length!==0){he(0<=k&&k<this.length,"start out of bounds"),he(0<=W&&W<=this.length,"end out of bounds");for(var X=k;X<W;X++)this[X]=C}},$.prototype.inspect=function(){for(var C=[],k=this.length,W=0;W<k;W++)if(C[W]=ne(this[W]),W===q.INSPECT_MAX_BYTES){C[W+1]="...";break}return"<Buffer "+C.join(" ")+">"},$.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if($._useTypedArrays)return new $(this).buffer;for(var C=new Uint8Array(this.length),k=0,W=C.length;k<W;k+=1)C[k]=this[k];return C.buffer};var M=$.prototype;function Q(C,k,W){return typeof C!="number"?W:k<=(C=~~C)?k:0<=C||0<=(C+=k)?C:0}function z(C){return(C=~~Math.ceil(+C))<0?0:C}function B(C){return(Array.isArray||function(k){return Object.prototype.toString.call(k)==="[object Array]"})(C)}function ne(C){return C<16?"0"+C.toString(16):C.toString(16)}function re(C){for(var k=[],W=0;W<C.length;W++){var X=C.charCodeAt(W);if(X<=127)k.push(C.charCodeAt(W));else for(var ge=W,De=(55296<=X&&X<=57343&&W++,encodeURIComponent(C.slice(ge,W+1)).substr(1).split("%")),Me=0;Me<De.length;Me++)k.push(parseInt(De[Me],16))}return k}function fe(C){return L.toByteArray(C)}function ue(C,k,W,X){for(var ge=0;ge<X&&!(ge+W>=k.length||ge>=C.length);ge++)k[ge+W]=C[ge];return ge}function Pe(C){try{return decodeURIComponent(C)}catch{return String.fromCharCode(65533)}}function ve(C,k){he(typeof C=="number","cannot write a non-number as a number"),he(0<=C,"specified a negative value for writing an unsigned value"),he(C<=k,"value is larger than maximum value for type"),he(Math.floor(C)===C,"value has a fractional component")}function Ce(C,k,W){he(typeof C=="number","cannot write a non-number as a number"),he(C<=k,"value larger than maximum allowed value"),he(W<=C,"value smaller than minimum allowed value"),he(Math.floor(C)===C,"value has a fractional component")}function Te(C,k,W){he(typeof C=="number","cannot write a non-number as a number"),he(C<=k,"value larger than maximum allowed value"),he(W<=C,"value smaller than minimum allowed value")}function he(C,k){if(!C)throw new Error(k||"Failed assertion")}$._augment=function(C){return C._isBuffer=!0,C._get=C.get,C._set=C.set,C.get=M.get,C.set=M.set,C.write=M.write,C.toString=M.toString,C.toLocaleString=M.toString,C.toJSON=M.toJSON,C.copy=M.copy,C.slice=M.slice,C.readUInt8=M.readUInt8,C.readUInt16LE=M.readUInt16LE,C.readUInt16BE=M.readUInt16BE,C.readUInt32LE=M.readUInt32LE,C.readUInt32BE=M.readUInt32BE,C.readInt8=M.readInt8,C.readInt16LE=M.readInt16LE,C.readInt16BE=M.readInt16BE,C.readInt32LE=M.readInt32LE,C.readInt32BE=M.readInt32BE,C.readFloatLE=M.readFloatLE,C.readFloatBE=M.readFloatBE,C.readDoubleLE=M.readDoubleLE,C.readDoubleBE=M.readDoubleBE,C.writeUInt8=M.writeUInt8,C.writeUInt16LE=M.writeUInt16LE,C.writeUInt16BE=M.writeUInt16BE,C.writeUInt32LE=M.writeUInt32LE,C.writeUInt32BE=M.writeUInt32BE,C.writeInt8=M.writeInt8,C.writeInt16LE=M.writeInt16LE,C.writeInt16BE=M.writeInt16BE,C.writeInt32LE=M.writeInt32LE,C.writeInt32BE=M.writeInt32BE,C.writeFloatLE=M.writeFloatLE,C.writeFloatBE=M.writeFloatBE,C.writeDoubleLE=M.writeDoubleLE,C.writeDoubleBE=M.writeDoubleBE,C.fill=M.fill,C.inspect=M.inspect,C.toArrayBuffer=M.toArrayBuffer,C}}).call(this,v("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},v("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(v,E,q){(function(I,O,F,d,R,T,N,j,K){var L=new(F=v("buffer").Buffer)(4);L.fill(0),E.exports={hash:function(Z,$,oe,se){for(var pe=$(function(J,P){J.length%4!=0&&(c=J.length+(4-J.length%4),J=F.concat([J,L],c));for(var c,s=[],y=P?J.readInt32BE:J.readInt32LE,w=0;w<J.length;w+=4)s.push(y.call(J,w));return s}(Z=F.isBuffer(Z)?Z:new F(Z),se),8*Z.length),de=($=se,new F(oe)),we=$?de.writeInt32BE:de.writeInt32LE,V=0;V<pe.length;V++)we.call(de,pe[V],4*V,!0);return de}}}).call(this,v("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},v("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(v,E,q){(function(I,O,F,d,R,T,N,j,K){F=v("buffer").Buffer;var L=v("./sha"),Z=v("./sha256"),$=v("./rng"),oe={sha1:L,sha256:Z,md5:v("./md5")},se=64,pe=new F(se);function de(c,s){var y=oe[c=c||"sha1"],w=[];return y||we("algorithm:",c,"is not yet supported"),{update:function(M){return F.isBuffer(M)||(M=new F(M)),w.push(M),M.length,this},digest:function(M){var Q=F.concat(w);return Q=s?function(z,B,ne){F.isBuffer(B)||(B=new F(B)),F.isBuffer(ne)||(ne=new F(ne)),B.length>se?B=z(B):B.length<se&&(B=F.concat([B,pe],se));for(var re=new F(se),fe=new F(se),ue=0;ue<se;ue++)re[ue]=54^B[ue],fe[ue]=92^B[ue];return ne=z(F.concat([re,ne])),z(F.concat([fe,ne]))}(y,s,Q):y(Q),w=null,M?Q.toString(M):Q}}}function we(){var c=[].slice.call(arguments).join(" ");throw new Error([c,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}pe.fill(0),q.createHash=function(c){return de(c)},q.createHmac=de,q.randomBytes=function(c,s){if(!s||!s.call)return new F($(c));try{s.call(this,void 0,new F($(c)))}catch(y){s(y)}};var V,J=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],P=function(c){q[c]=function(){we("sorry,",c,"is not implemented yet")}};for(V in J)P(J[V])}).call(this,v("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},v("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(v,E,q){(function(I,O,F,d,R,T,N,j,K){var L=v("./helpers");function Z(V,J){V[J>>5]|=128<<J%32,V[14+(J+64>>>9<<4)]=J;for(var P=1732584193,c=-271733879,s=-1732584194,y=271733878,w=0;w<V.length;w+=16){var M=P,Q=c,z=s,B=y;P=oe(P,c,s,y,V[w+0],7,-680876936),y=oe(y,P,c,s,V[w+1],12,-389564586),s=oe(s,y,P,c,V[w+2],17,606105819),c=oe(c,s,y,P,V[w+3],22,-1044525330),P=oe(P,c,s,y,V[w+4],7,-176418897),y=oe(y,P,c,s,V[w+5],12,1200080426),s=oe(s,y,P,c,V[w+6],17,-1473231341),c=oe(c,s,y,P,V[w+7],22,-45705983),P=oe(P,c,s,y,V[w+8],7,1770035416),y=oe(y,P,c,s,V[w+9],12,-1958414417),s=oe(s,y,P,c,V[w+10],17,-42063),c=oe(c,s,y,P,V[w+11],22,-1990404162),P=oe(P,c,s,y,V[w+12],7,1804603682),y=oe(y,P,c,s,V[w+13],12,-40341101),s=oe(s,y,P,c,V[w+14],17,-1502002290),P=se(P,c=oe(c,s,y,P,V[w+15],22,1236535329),s,y,V[w+1],5,-165796510),y=se(y,P,c,s,V[w+6],9,-1069501632),s=se(s,y,P,c,V[w+11],14,643717713),c=se(c,s,y,P,V[w+0],20,-373897302),P=se(P,c,s,y,V[w+5],5,-701558691),y=se(y,P,c,s,V[w+10],9,38016083),s=se(s,y,P,c,V[w+15],14,-660478335),c=se(c,s,y,P,V[w+4],20,-405537848),P=se(P,c,s,y,V[w+9],5,568446438),y=se(y,P,c,s,V[w+14],9,-1019803690),s=se(s,y,P,c,V[w+3],14,-187363961),c=se(c,s,y,P,V[w+8],20,1163531501),P=se(P,c,s,y,V[w+13],5,-1444681467),y=se(y,P,c,s,V[w+2],9,-51403784),s=se(s,y,P,c,V[w+7],14,1735328473),P=pe(P,c=se(c,s,y,P,V[w+12],20,-1926607734),s,y,V[w+5],4,-378558),y=pe(y,P,c,s,V[w+8],11,-2022574463),s=pe(s,y,P,c,V[w+11],16,1839030562),c=pe(c,s,y,P,V[w+14],23,-35309556),P=pe(P,c,s,y,V[w+1],4,-1530992060),y=pe(y,P,c,s,V[w+4],11,1272893353),s=pe(s,y,P,c,V[w+7],16,-155497632),c=pe(c,s,y,P,V[w+10],23,-1094730640),P=pe(P,c,s,y,V[w+13],4,681279174),y=pe(y,P,c,s,V[w+0],11,-358537222),s=pe(s,y,P,c,V[w+3],16,-722521979),c=pe(c,s,y,P,V[w+6],23,76029189),P=pe(P,c,s,y,V[w+9],4,-640364487),y=pe(y,P,c,s,V[w+12],11,-421815835),s=pe(s,y,P,c,V[w+15],16,530742520),P=de(P,c=pe(c,s,y,P,V[w+2],23,-995338651),s,y,V[w+0],6,-198630844),y=de(y,P,c,s,V[w+7],10,1126891415),s=de(s,y,P,c,V[w+14],15,-1416354905),c=de(c,s,y,P,V[w+5],21,-57434055),P=de(P,c,s,y,V[w+12],6,1700485571),y=de(y,P,c,s,V[w+3],10,-1894986606),s=de(s,y,P,c,V[w+10],15,-1051523),c=de(c,s,y,P,V[w+1],21,-2054922799),P=de(P,c,s,y,V[w+8],6,1873313359),y=de(y,P,c,s,V[w+15],10,-30611744),s=de(s,y,P,c,V[w+6],15,-1560198380),c=de(c,s,y,P,V[w+13],21,1309151649),P=de(P,c,s,y,V[w+4],6,-145523070),y=de(y,P,c,s,V[w+11],10,-1120210379),s=de(s,y,P,c,V[w+2],15,718787259),c=de(c,s,y,P,V[w+9],21,-343485551),P=we(P,M),c=we(c,Q),s=we(s,z),y=we(y,B)}return Array(P,c,s,y)}function $(V,J,P,c,s,y){return we((J=we(we(J,V),we(c,y)))<<s|J>>>32-s,P)}function oe(V,J,P,c,s,y,w){return $(J&P|~J&c,V,J,s,y,w)}function se(V,J,P,c,s,y,w){return $(J&c|P&~c,V,J,s,y,w)}function pe(V,J,P,c,s,y,w){return $(J^P^c,V,J,s,y,w)}function de(V,J,P,c,s,y,w){return $(P^(J|~c),V,J,s,y,w)}function we(V,J){var P=(65535&V)+(65535&J);return(V>>16)+(J>>16)+(P>>16)<<16|65535&P}E.exports=function(V){return L.hash(V,Z,16)}}).call(this,v("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},v("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(v,E,q){(function(I,O,F,d,R,T,N,j,K){E.exports=function(L){for(var Z,$=new Array(L),oe=0;oe<L;oe++)!(3&oe)&&(Z=4294967296*Math.random()),$[oe]=Z>>>((3&oe)<<3)&255;return $}}).call(this,v("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},v("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(v,E,q){(function(I,O,F,d,R,T,N,j,K){var L=v("./helpers");function Z(se,pe){se[pe>>5]|=128<<24-pe%32,se[15+(pe+64>>9<<4)]=pe;for(var de,we,V,J=Array(80),P=1732584193,c=-271733879,s=-1732584194,y=271733878,w=-1009589776,M=0;M<se.length;M+=16){for(var Q=P,z=c,B=s,ne=y,re=w,fe=0;fe<80;fe++){J[fe]=fe<16?se[M+fe]:oe(J[fe-3]^J[fe-8]^J[fe-14]^J[fe-16],1);var ue=$($(oe(P,5),(ue=c,we=s,V=y,(de=fe)<20?ue&we|~ue&V:!(de<40)&&de<60?ue&we|ue&V|we&V:ue^we^V)),$($(w,J[fe]),(de=fe)<20?1518500249:de<40?1859775393:de<60?-1894007588:-899497514));w=y,y=s,s=oe(c,30),c=P,P=ue}P=$(P,Q),c=$(c,z),s=$(s,B),y=$(y,ne),w=$(w,re)}return Array(P,c,s,y,w)}function $(se,pe){var de=(65535&se)+(65535&pe);return(se>>16)+(pe>>16)+(de>>16)<<16|65535&de}function oe(se,pe){return se<<pe|se>>>32-pe}E.exports=function(se){return L.hash(se,Z,20,!0)}}).call(this,v("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},v("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(v,E,q){(function(I,O,F,d,R,T,N,j,K){function L(pe,de){var we=(65535&pe)+(65535&de);return(pe>>16)+(de>>16)+(we>>16)<<16|65535&we}function Z(pe,de){var we,V=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),J=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),P=new Array(64);pe[de>>5]|=128<<24-de%32,pe[15+(de+64>>9<<4)]=de;for(var c,s,y=0;y<pe.length;y+=16){for(var w=J[0],M=J[1],Q=J[2],z=J[3],B=J[4],ne=J[5],re=J[6],fe=J[7],ue=0;ue<64;ue++)P[ue]=ue<16?pe[ue+y]:L(L(L((s=P[ue-2],oe(s,17)^oe(s,19)^se(s,10)),P[ue-7]),(s=P[ue-15],oe(s,7)^oe(s,18)^se(s,3))),P[ue-16]),we=L(L(L(L(fe,oe(s=B,6)^oe(s,11)^oe(s,25)),B&ne^~B&re),V[ue]),P[ue]),c=L(oe(c=w,2)^oe(c,13)^oe(c,22),w&M^w&Q^M&Q),fe=re,re=ne,ne=B,B=L(z,we),z=Q,Q=M,M=w,w=L(we,c);J[0]=L(w,J[0]),J[1]=L(M,J[1]),J[2]=L(Q,J[2]),J[3]=L(z,J[3]),J[4]=L(B,J[4]),J[5]=L(ne,J[5]),J[6]=L(re,J[6]),J[7]=L(fe,J[7])}return J}var $=v("./helpers"),oe=function(pe,de){return pe>>>de|pe<<32-de},se=function(pe,de){return pe>>>de};E.exports=function(pe){return $.hash(pe,Z,32,!0)}}).call(this,v("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},v("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(v,E,q){(function(I,O,F,d,R,T,N,j,K){q.read=function(L,Z,$,oe,se){var pe,de,we=8*se-oe-1,V=(1<<we)-1,J=V>>1,P=-7,c=$?se-1:0,s=$?-1:1;for(se=L[Z+c],c+=s,pe=se&(1<<-P)-1,se>>=-P,P+=we;0<P;pe=256*pe+L[Z+c],c+=s,P-=8);for(de=pe&(1<<-P)-1,pe>>=-P,P+=oe;0<P;de=256*de+L[Z+c],c+=s,P-=8);if(pe===0)pe=1-J;else{if(pe===V)return de?NaN:1/0*(se?-1:1);de+=Math.pow(2,oe),pe-=J}return(se?-1:1)*de*Math.pow(2,pe-oe)},q.write=function(L,Z,$,oe,se,pe){var de,we,V=8*pe-se-1,J=(1<<V)-1,P=J>>1,c=se===23?Math.pow(2,-24)-Math.pow(2,-77):0,s=oe?0:pe-1,y=oe?1:-1;for(pe=Z<0||Z===0&&1/Z<0?1:0,Z=Math.abs(Z),isNaN(Z)||Z===1/0?(we=isNaN(Z)?1:0,de=J):(de=Math.floor(Math.log(Z)/Math.LN2),Z*(oe=Math.pow(2,-de))<1&&(de--,oe*=2),2<=(Z+=1<=de+P?c/oe:c*Math.pow(2,1-P))*oe&&(de++,oe/=2),J<=de+P?(we=0,de=J):1<=de+P?(we=(Z*oe-1)*Math.pow(2,se),de+=P):(we=Z*Math.pow(2,P-1)*Math.pow(2,se),de=0));8<=se;L[$+s]=255&we,s+=y,we/=256,se-=8);for(de=de<<se|we,V+=se;0<V;L[$+s]=255&de,s+=y,de/=256,V-=8);L[$+s-y]|=128*pe}}).call(this,v("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},v("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(v,E,q){(function(I,O,F,d,R,T,N,j,K){var L,Z,$;function oe(){}(I=E.exports={}).nextTick=(Z=typeof window<"u"&&window.setImmediate,$=typeof window<"u"&&window.postMessage&&window.addEventListener,Z?function(se){return window.setImmediate(se)}:$?(L=[],window.addEventListener("message",function(se){var pe=se.source;pe!==window&&pe!==null||se.data!=="process-tick"||(se.stopPropagation(),0<L.length&&L.shift()())},!0),function(se){L.push(se),window.postMessage("process-tick","*")}):function(se){setTimeout(se,0)}),I.title="browser",I.browser=!0,I.env={},I.argv=[],I.on=oe,I.addListener=oe,I.once=oe,I.off=oe,I.removeListener=oe,I.removeAllListeners=oe,I.emit=oe,I.binding=function(se){throw new Error("process.binding is not supported")},I.cwd=function(){return"/"},I.chdir=function(se){throw new Error("process.chdir is not supported")}}).call(this,v("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},v("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)},470:S=>{"use strict";function v(I){if(typeof I!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(I))}function E(I,O){for(var F,d="",R=0,T=-1,N=0,j=0;j<=I.length;++j){if(j<I.length)F=I.charCodeAt(j);else{if(F===47)break;F=47}if(F===47){if(!(T===j-1||N===1))if(T!==j-1&&N===2){if(d.length<2||R!==2||d.charCodeAt(d.length-1)!==46||d.charCodeAt(d.length-2)!==46){if(d.length>2){var K=d.lastIndexOf("/");if(K!==d.length-1){K===-1?(d="",R=0):R=(d=d.slice(0,K)).length-1-d.lastIndexOf("/"),T=j,N=0;continue}}else if(d.length===2||d.length===1){d="",R=0,T=j,N=0;continue}}O&&(d.length>0?d+="/..":d="..",R=2)}else d.length>0?d+="/"+I.slice(T+1,j):d=I.slice(T+1,j),R=j-T-1;T=j,N=0}else F===46&&N!==-1?++N:N=-1}return d}var q={resolve:function(){for(var I,O="",F=!1,d=arguments.length-1;d>=-1&&!F;d--){var R;d>=0?R=arguments[d]:(I===void 0&&(I=process.cwd()),R=I),v(R),R.length!==0&&(O=R+"/"+O,F=R.charCodeAt(0)===47)}return O=E(O,!F),F?O.length>0?"/"+O:"/":O.length>0?O:"."},normalize:function(I){if(v(I),I.length===0)return".";var O=I.charCodeAt(0)===47,F=I.charCodeAt(I.length-1)===47;return(I=E(I,!O)).length!==0||O||(I="."),I.length>0&&F&&(I+="/"),O?"/"+I:I},isAbsolute:function(I){return v(I),I.length>0&&I.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var I,O=0;O<arguments.length;++O){var F=arguments[O];v(F),F.length>0&&(I===void 0?I=F:I+="/"+F)}return I===void 0?".":q.normalize(I)},relative:function(I,O){if(v(I),v(O),I===O||(I=q.resolve(I))===(O=q.resolve(O)))return"";for(var F=1;F<I.length&&I.charCodeAt(F)===47;++F);for(var d=I.length,R=d-F,T=1;T<O.length&&O.charCodeAt(T)===47;++T);for(var N=O.length-T,j=R<N?R:N,K=-1,L=0;L<=j;++L){if(L===j){if(N>j){if(O.charCodeAt(T+L)===47)return O.slice(T+L+1);if(L===0)return O.slice(T+L)}else R>j&&(I.charCodeAt(F+L)===47?K=L:L===0&&(K=0));break}var Z=I.charCodeAt(F+L);if(Z!==O.charCodeAt(T+L))break;Z===47&&(K=L)}var $="";for(L=F+K+1;L<=d;++L)L!==d&&I.charCodeAt(L)!==47||($.length===0?$+="..":$+="/..");return $.length>0?$+O.slice(T+K):(T+=K,O.charCodeAt(T)===47&&++T,O.slice(T))},_makeLong:function(I){return I},dirname:function(I){if(v(I),I.length===0)return".";for(var O=I.charCodeAt(0),F=O===47,d=-1,R=!0,T=I.length-1;T>=1;--T)if((O=I.charCodeAt(T))===47){if(!R){d=T;break}}else R=!1;return d===-1?F?"/":".":F&&d===1?"//":I.slice(0,d)},basename:function(I,O){if(O!==void 0&&typeof O!="string")throw new TypeError('"ext" argument must be a string');v(I);var F,d=0,R=-1,T=!0;if(O!==void 0&&O.length>0&&O.length<=I.length){if(O.length===I.length&&O===I)return"";var N=O.length-1,j=-1;for(F=I.length-1;F>=0;--F){var K=I.charCodeAt(F);if(K===47){if(!T){d=F+1;break}}else j===-1&&(T=!1,j=F+1),N>=0&&(K===O.charCodeAt(N)?--N==-1&&(R=F):(N=-1,R=j))}return d===R?R=j:R===-1&&(R=I.length),I.slice(d,R)}for(F=I.length-1;F>=0;--F)if(I.charCodeAt(F)===47){if(!T){d=F+1;break}}else R===-1&&(T=!1,R=F+1);return R===-1?"":I.slice(d,R)},extname:function(I){v(I);for(var O=-1,F=0,d=-1,R=!0,T=0,N=I.length-1;N>=0;--N){var j=I.charCodeAt(N);if(j!==47)d===-1&&(R=!1,d=N+1),j===46?O===-1?O=N:T!==1&&(T=1):O!==-1&&(T=-1);else if(!R){F=N+1;break}}return O===-1||d===-1||T===0||T===1&&O===d-1&&O===F+1?"":I.slice(O,d)},format:function(I){if(I===null||typeof I!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof I);return function(O,F){var d=F.dir||F.root,R=F.base||(F.name||"")+(F.ext||"");return d?d===F.root?d+R:d+"/"+R:R}(0,I)},parse:function(I){v(I);var O={root:"",dir:"",base:"",ext:"",name:""};if(I.length===0)return O;var F,d=I.charCodeAt(0),R=d===47;R?(O.root="/",F=1):F=0;for(var T=-1,N=0,j=-1,K=!0,L=I.length-1,Z=0;L>=F;--L)if((d=I.charCodeAt(L))!==47)j===-1&&(K=!1,j=L+1),d===46?T===-1?T=L:Z!==1&&(Z=1):T!==-1&&(Z=-1);else if(!K){N=L+1;break}return T===-1||j===-1||Z===0||Z===1&&T===j-1&&T===N+1?j!==-1&&(O.base=O.name=N===0&&R?I.slice(1,j):I.slice(N,j)):(N===0&&R?(O.name=I.slice(1,T),O.base=I.slice(1,j)):(O.name=I.slice(N,T),O.base=I.slice(N,j)),O.ext=I.slice(T,j)),N>0?O.dir=I.slice(0,N-1):R&&(O.dir="/"),O},sep:"/",delimiter:":",win32:null,posix:null};q.posix=q,S.exports=q}},f={};function g(S){var v=f[S];if(v!==void 0)return v.exports;var E=f[S]={exports:{}};return l[S](E,E.exports,g),E.exports}g.d=(S,v)=>{for(var E in v)g.o(v,E)&&!g.o(S,E)&&Object.defineProperty(S,E,{enumerable:!0,get:v[E]})},g.o=(S,v)=>Object.prototype.hasOwnProperty.call(S,v),g.r=S=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(S,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(S,"__esModule",{value:!0})};var b={};(()=>{"use strict";var S;g.r(b),g.d(b,{createConverter:()=>J,getConcatDocumentRoot:()=>de,isNotebookCell:()=>F}),S=(()=>{var P={470:y=>{function w(z){if(typeof z!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(z))}function M(z,B){for(var ne,re="",fe=0,ue=-1,Pe=0,ve=0;ve<=z.length;++ve){if(ve<z.length)ne=z.charCodeAt(ve);else{if(ne===47)break;ne=47}if(ne===47){if(!(ue===ve-1||Pe===1))if(ue!==ve-1&&Pe===2){if(re.length<2||fe!==2||re.charCodeAt(re.length-1)!==46||re.charCodeAt(re.length-2)!==46){if(re.length>2){var Ce=re.lastIndexOf("/");if(Ce!==re.length-1){Ce===-1?(re="",fe=0):fe=(re=re.slice(0,Ce)).length-1-re.lastIndexOf("/"),ue=ve,Pe=0;continue}}else if(re.length===2||re.length===1){re="",fe=0,ue=ve,Pe=0;continue}}B&&(re.length>0?re+="/..":re="..",fe=2)}else re.length>0?re+="/"+z.slice(ue+1,ve):re=z.slice(ue+1,ve),fe=ve-ue-1;ue=ve,Pe=0}else ne===46&&Pe!==-1?++Pe:Pe=-1}return re}var Q={resolve:function(){for(var z,B="",ne=!1,re=arguments.length-1;re>=-1&&!ne;re--){var fe;re>=0?fe=arguments[re]:(z===void 0&&(z=process.cwd()),fe=z),w(fe),fe.length!==0&&(B=fe+"/"+B,ne=fe.charCodeAt(0)===47)}return B=M(B,!ne),ne?B.length>0?"/"+B:"/":B.length>0?B:"."},normalize:function(z){if(w(z),z.length===0)return".";var B=z.charCodeAt(0)===47,ne=z.charCodeAt(z.length-1)===47;return(z=M(z,!B)).length!==0||B||(z="."),z.length>0&&ne&&(z+="/"),B?"/"+z:z},isAbsolute:function(z){return w(z),z.length>0&&z.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var z,B=0;B<arguments.length;++B){var ne=arguments[B];w(ne),ne.length>0&&(z===void 0?z=ne:z+="/"+ne)}return z===void 0?".":Q.normalize(z)},relative:function(z,B){if(w(z),w(B),z===B||(z=Q.resolve(z))===(B=Q.resolve(B)))return"";for(var ne=1;ne<z.length&&z.charCodeAt(ne)===47;++ne);for(var re=z.length,fe=re-ne,ue=1;ue<B.length&&B.charCodeAt(ue)===47;++ue);for(var Pe=B.length-ue,ve=fe<Pe?fe:Pe,Ce=-1,Te=0;Te<=ve;++Te){if(Te===ve){if(Pe>ve){if(B.charCodeAt(ue+Te)===47)return B.slice(ue+Te+1);if(Te===0)return B.slice(ue+Te)}else fe>ve&&(z.charCodeAt(ne+Te)===47?Ce=Te:Te===0&&(Ce=0));break}var he=z.charCodeAt(ne+Te);if(he!==B.charCodeAt(ue+Te))break;he===47&&(Ce=Te)}var C="";for(Te=ne+Ce+1;Te<=re;++Te)Te!==re&&z.charCodeAt(Te)!==47||(C.length===0?C+="..":C+="/..");return C.length>0?C+B.slice(ue+Ce):(ue+=Ce,B.charCodeAt(ue)===47&&++ue,B.slice(ue))},_makeLong:function(z){return z},dirname:function(z){if(w(z),z.length===0)return".";for(var B=z.charCodeAt(0),ne=B===47,re=-1,fe=!0,ue=z.length-1;ue>=1;--ue)if((B=z.charCodeAt(ue))===47){if(!fe){re=ue;break}}else fe=!1;return re===-1?ne?"/":".":ne&&re===1?"//":z.slice(0,re)},basename:function(z,B){if(B!==void 0&&typeof B!="string")throw new TypeError('"ext" argument must be a string');w(z);var ne,re=0,fe=-1,ue=!0;if(B!==void 0&&B.length>0&&B.length<=z.length){if(B.length===z.length&&B===z)return"";var Pe=B.length-1,ve=-1;for(ne=z.length-1;ne>=0;--ne){var Ce=z.charCodeAt(ne);if(Ce===47){if(!ue){re=ne+1;break}}else ve===-1&&(ue=!1,ve=ne+1),Pe>=0&&(Ce===B.charCodeAt(Pe)?--Pe==-1&&(fe=ne):(Pe=-1,fe=ve))}return re===fe?fe=ve:fe===-1&&(fe=z.length),z.slice(re,fe)}for(ne=z.length-1;ne>=0;--ne)if(z.charCodeAt(ne)===47){if(!ue){re=ne+1;break}}else fe===-1&&(ue=!1,fe=ne+1);return fe===-1?"":z.slice(re,fe)},extname:function(z){w(z);for(var B=-1,ne=0,re=-1,fe=!0,ue=0,Pe=z.length-1;Pe>=0;--Pe){var ve=z.charCodeAt(Pe);if(ve!==47)re===-1&&(fe=!1,re=Pe+1),ve===46?B===-1?B=Pe:ue!==1&&(ue=1):B!==-1&&(ue=-1);else if(!fe){ne=Pe+1;break}}return B===-1||re===-1||ue===0||ue===1&&B===re-1&&B===ne+1?"":z.slice(B,re)},format:function(z){if(z===null||typeof z!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof z);return function(B,ne){var re=ne.dir||ne.root,fe=ne.base||(ne.name||"")+(ne.ext||"");return re?re===ne.root?re+fe:re+"/"+fe:fe}(0,z)},parse:function(z){w(z);var B={root:"",dir:"",base:"",ext:"",name:""};if(z.length===0)return B;var ne,re=z.charCodeAt(0),fe=re===47;fe?(B.root="/",ne=1):ne=0;for(var ue=-1,Pe=0,ve=-1,Ce=!0,Te=z.length-1,he=0;Te>=ne;--Te)if((re=z.charCodeAt(Te))!==47)ve===-1&&(Ce=!1,ve=Te+1),re===46?ue===-1?ue=Te:he!==1&&(he=1):ue!==-1&&(he=-1);else if(!Ce){Pe=Te+1;break}return ue===-1||ve===-1||he===0||he===1&&ue===ve-1&&ue===Pe+1?ve!==-1&&(B.base=B.name=Pe===0&&fe?z.slice(1,ve):z.slice(Pe,ve)):(Pe===0&&fe?(B.name=z.slice(1,ue),B.base=z.slice(1,ve)):(B.name=z.slice(Pe,ue),B.base=z.slice(Pe,ve)),B.ext=z.slice(ue,ve)),Pe>0?B.dir=z.slice(0,Pe-1):fe&&(B.dir="/"),B},sep:"/",delimiter:":",win32:null,posix:null};Q.posix=Q,y.exports=Q},447:(y,w,M)=>{var Q;if(M.r(w),M.d(w,{URI:()=>C,Utils:()=>Ze}),typeof process=="object")Q=process.platform==="win32";else if(typeof navigator=="object"){var z=navigator.userAgent;Q=z.indexOf("Windows")>=0}var B,ne,re=(B=function(ce,te){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(le,me){le.__proto__=me}||function(le,me){for(var Fe in me)Object.prototype.hasOwnProperty.call(me,Fe)&&(le[Fe]=me[Fe])})(ce,te)},function(ce,te){if(typeof te!="function"&&te!==null)throw new TypeError("Class extends value "+String(te)+" is not a constructor or null");function le(){this.constructor=ce}B(ce,te),ce.prototype=te===null?Object.create(te):(le.prototype=te.prototype,new le)}),fe=/^\w[\w\d+.-]*$/,ue=/^\//,Pe=/^\/\//;function ve(ce,te){if(!ce.scheme&&te)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(ce.authority,'", path: "').concat(ce.path,'", query: "').concat(ce.query,'", fragment: "').concat(ce.fragment,'"}'));if(ce.scheme&&!fe.test(ce.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(ce.path){if(ce.authority){if(!ue.test(ce.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(Pe.test(ce.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}var Ce="",Te="/",he=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,C=function(){function ce(te,le,me,Fe,Ne,ze){ze===void 0&&(ze=!1),typeof te=="object"?(this.scheme=te.scheme||Ce,this.authority=te.authority||Ce,this.path=te.path||Ce,this.query=te.query||Ce,this.fragment=te.fragment||Ce):(this.scheme=function(Et,m){return Et||m?Et:"file"}(te,ze),this.authority=le||Ce,this.path=function(Et,m){switch(Et){case"https":case"http":case"file":m?m[0]!==Te&&(m=Te+m):m=Te}return m}(this.scheme,me||Ce),this.query=Fe||Ce,this.fragment=Ne||Ce,ve(this,ze))}return ce.isUri=function(te){return te instanceof ce||!!te&&typeof te.authority=="string"&&typeof te.fragment=="string"&&typeof te.path=="string"&&typeof te.query=="string"&&typeof te.scheme=="string"&&typeof te.fsPath=="string"&&typeof te.with=="function"&&typeof te.toString=="function"},Object.defineProperty(ce.prototype,"fsPath",{get:function(){return Me(this,!1)},enumerable:!1,configurable:!0}),ce.prototype.with=function(te){if(!te)return this;var le=te.scheme,me=te.authority,Fe=te.path,Ne=te.query,ze=te.fragment;return le===void 0?le=this.scheme:le===null&&(le=Ce),me===void 0?me=this.authority:me===null&&(me=Ce),Fe===void 0?Fe=this.path:Fe===null&&(Fe=Ce),Ne===void 0?Ne=this.query:Ne===null&&(Ne=Ce),ze===void 0?ze=this.fragment:ze===null&&(ze=Ce),le===this.scheme&&me===this.authority&&Fe===this.path&&Ne===this.query&&ze===this.fragment?this:new W(le,me,Fe,Ne,ze)},ce.parse=function(te,le){le===void 0&&(le=!1);var me=he.exec(te);return me?new W(me[2]||Ce,He(me[4]||Ce),He(me[5]||Ce),He(me[7]||Ce),He(me[9]||Ce),le):new W(Ce,Ce,Ce,Ce,Ce)},ce.file=function(te){var le=Ce;if(Q&&(te=te.replace(/\\/g,Te)),te[0]===Te&&te[1]===Te){var me=te.indexOf(Te,2);me===-1?(le=te.substring(2),te=Te):(le=te.substring(2,me),te=te.substring(me)||Te)}return new W("file",le,te,Ce,Ce)},ce.from=function(te){var le=new W(te.scheme,te.authority,te.path,te.query,te.fragment);return ve(le,!0),le},ce.prototype.toString=function(te){return te===void 0&&(te=!1),Xe(this,te)},ce.prototype.toJSON=function(){return this},ce.revive=function(te){if(te){if(te instanceof ce)return te;var le=new W(te);return le._formatted=te.external,le._fsPath=te._sep===k?te.fsPath:null,le}return te},ce}(),k=Q?1:void 0,W=function(ce){function te(){var le=ce!==null&&ce.apply(this,arguments)||this;return le._formatted=null,le._fsPath=null,le}return re(te,ce),Object.defineProperty(te.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=Me(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),te.prototype.toString=function(le){return le===void 0&&(le=!1),le?Xe(this,!0):(this._formatted||(this._formatted=Xe(this,!1)),this._formatted)},te.prototype.toJSON=function(){var le={$mid:1};return this._fsPath&&(le.fsPath=this._fsPath,le._sep=k),this._formatted&&(le.external=this._formatted),this.path&&(le.path=this.path),this.scheme&&(le.scheme=this.scheme),this.authority&&(le.authority=this.authority),this.query&&(le.query=this.query),this.fragment&&(le.fragment=this.fragment),le},te}(C),X=((ne={})[58]="%3A",ne[47]="%2F",ne[63]="%3F",ne[35]="%23",ne[91]="%5B",ne[93]="%5D",ne[64]="%40",ne[33]="%21",ne[36]="%24",ne[38]="%26",ne[39]="%27",ne[40]="%28",ne[41]="%29",ne[42]="%2A",ne[43]="%2B",ne[44]="%2C",ne[59]="%3B",ne[61]="%3D",ne[32]="%20",ne);function ge(ce,te){for(var le=void 0,me=-1,Fe=0;Fe<ce.length;Fe++){var Ne=ce.charCodeAt(Fe);if(Ne>=97&&Ne<=122||Ne>=65&&Ne<=90||Ne>=48&&Ne<=57||Ne===45||Ne===46||Ne===95||Ne===126||te&&Ne===47)me!==-1&&(le+=encodeURIComponent(ce.substring(me,Fe)),me=-1),le!==void 0&&(le+=ce.charAt(Fe));else{le===void 0&&(le=ce.substr(0,Fe));var ze=X[Ne];ze!==void 0?(me!==-1&&(le+=encodeURIComponent(ce.substring(me,Fe)),me=-1),le+=ze):me===-1&&(me=Fe)}}return me!==-1&&(le+=encodeURIComponent(ce.substring(me))),le!==void 0?le:ce}function De(ce){for(var te=void 0,le=0;le<ce.length;le++){var me=ce.charCodeAt(le);me===35||me===63?(te===void 0&&(te=ce.substr(0,le)),te+=X[me]):te!==void 0&&(te+=ce[le])}return te!==void 0?te:ce}function Me(ce,te){var le;return le=ce.authority&&ce.path.length>1&&ce.scheme==="file"?"//".concat(ce.authority).concat(ce.path):ce.path.charCodeAt(0)===47&&(ce.path.charCodeAt(1)>=65&&ce.path.charCodeAt(1)<=90||ce.path.charCodeAt(1)>=97&&ce.path.charCodeAt(1)<=122)&&ce.path.charCodeAt(2)===58?te?ce.path.substr(1):ce.path[1].toLowerCase()+ce.path.substr(2):ce.path,Q&&(le=le.replace(/\//g,"\\")),le}function Xe(ce,te){var le=te?De:ge,me="",Fe=ce.scheme,Ne=ce.authority,ze=ce.path,Et=ce.query,m=ce.fragment;if(Fe&&(me+=Fe,me+=":"),(Ne||Fe==="file")&&(me+=Te,me+=Te),Ne){var Y=Ne.indexOf("@");if(Y!==-1){var Re=Ne.substr(0,Y);Ne=Ne.substr(Y+1),(Y=Re.indexOf(":"))===-1?me+=le(Re,!1):(me+=le(Re.substr(0,Y),!1),me+=":",me+=le(Re.substr(Y+1),!1)),me+="@"}(Y=(Ne=Ne.toLowerCase()).indexOf(":"))===-1?me+=le(Ne,!1):(me+=le(Ne.substr(0,Y),!1),me+=Ne.substr(Y))}if(ze){if(ze.length>=3&&ze.charCodeAt(0)===47&&ze.charCodeAt(2)===58)(je=ze.charCodeAt(1))>=65&&je<=90&&(ze="/".concat(String.fromCharCode(je+32),":").concat(ze.substr(3)));else if(ze.length>=2&&ze.charCodeAt(1)===58){var je;(je=ze.charCodeAt(0))>=65&&je<=90&&(ze="".concat(String.fromCharCode(je+32),":").concat(ze.substr(2)))}me+=le(ze,!0)}return Et&&(me+="?",me+=le(Et,!1)),m&&(me+="#",me+=te?m:ge(m,!1)),me}function nt(ce){try{return decodeURIComponent(ce)}catch{return ce.length>3?ce.substr(0,3)+nt(ce.substr(3)):ce}}var Ye=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function He(ce){return ce.match(Ye)?ce.replace(Ye,function(te){return nt(te)}):ce}var Ze,Ke=M(470),Be=function(ce,te,le){if(le||arguments.length===2)for(var me,Fe=0,Ne=te.length;Fe<Ne;Fe++)!me&&Fe in te||(me||(me=Array.prototype.slice.call(te,0,Fe)),me[Fe]=te[Fe]);return ce.concat(me||Array.prototype.slice.call(te))},st=Ke.posix||Ke;(function(ce){ce.joinPath=function(te){for(var le=[],me=1;me<arguments.length;me++)le[me-1]=arguments[me];return te.with({path:st.join.apply(st,Be([te.path],le,!1))})},ce.resolvePath=function(te){for(var le=[],me=1;me<arguments.length;me++)le[me-1]=arguments[me];var Fe=te.path||"/";return te.with({path:st.resolve.apply(st,Be([Fe],le,!1))})},ce.dirname=function(te){var le=st.dirname(te.path);return le.length===1&&le.charCodeAt(0)===46?te:te.with({path:le})},ce.basename=function(te){return st.basename(te.path)},ce.extname=function(te){return st.extname(te.path)}})(Ze||(Ze={}))}},c={};function s(y){if(c[y])return c[y].exports;var w=c[y]={exports:{}};return P[y](w,w.exports,s),w.exports}return s.d=(y,w)=>{for(var M in w)s.o(w,M)&&!s.o(y,M)&&Object.defineProperty(y,M,{enumerable:!0,get:w[M]})},s.o=(y,w)=>Object.prototype.hasOwnProperty.call(y,w),s.r=y=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})},s(447)})();let{URI:v,Utils:E}=S,q=a(638),I="vscode-interactive-input",O="vscode-interactive";function F(P){return P.scheme.includes("vscode-notebook-cell")||P.scheme.includes(I)}function d(P){let c=P.split(/\r?\n/g);return c.slice(0,c.length-1)}var R=g(470),T=g(705);let N=function(P=""){let c="(-?\\d*\\.\\d\\w*)|([^";for(let s of"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?")P.indexOf(s)>=0||(c+=`\\${s}`);return c+="\\s]+)",new RegExp(c,"g")}(),j=/(-?\d*\.\d\w*)|([^\`\~\!\@\#\%\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g;function K(P,c){return{start:P,end:c}}function L(P,c){return{line:P,character:c}}function Z(P,c){return{uri:P,range:c}}class ${constructor(c,s,y,w){this.cellUri=c,this._contents=s,this._line=y,this._offset=w,this._range=K(L(y,0),L(y,s.length)),this._rangeWithLineBreak=K(this.range.start,L(y,s.length+1))}get offset(){return this._offset}get endOffset(){return this._offset+this._contents.length+1}get lineNumber(){return this._line}get text(){return this._contents}get range(){return this._range}get rangeIncludingLineBreak(){return this._rangeWithLineBreak}get firstNonWhitespaceCharacterIndex(){return this._firstNonWhitespaceIndex===void 0&&(this._firstNonWhitespaceIndex=this._contents.trimLeft().length-this._contents.length),this._firstNonWhitespaceIndex}get isEmptyOrWhitespace(){return this._isEmpty===void 0&&(this._isEmpty=this._contents.length===0||this._contents.trim().length===0),this._isEmpty}}let oe=" # type: ignore",se=`import IPython
IPython.get_ipython()
`,pe=[{regex:/(^\s*%.*)/},{regex:/(^\s*!.*)/},{regex:/(^\s*await\s+.*)/}];function de(P){return R.dirname(P.fsPath)}class we{constructor(c,s,y=!1){this.key=c,this.getNotebookHeader=s,this._disableTypeIgnore=y,this._interactiveWindow=!1,this._version=1,this._closed=!0,this._spans=[],this._lines=[],this._realLines=[]}get uri(){return this.concatUri}get fileName(){return this.uri.fsPath}get isUntitled(){return!0}get languageId(){return"python"}get version(){return this._version}get isDirty(){return!0}get isClosed(){return this._closed}get isOpen(){return!this.isClosed}get eol(){return 1}get notebook(){}get lineCount(){return this._lines.length}get concatUri(){return this._concatUri||v.parse("")}get notebookUri(){return this._notebookUri||v.parse("")}handleChange(c){this._version++;let s=[],y=this._spans.findIndex(w=>w.uri.toString()===c.textDocument.uri);if(y>=0)return c.contentChanges.forEach(w=>{try{let M=this._spans.filter(X=>X.uri.toString()===c.textDocument.uri),Q=this._lines.filter(X=>X.cellUri.toString()===c.textDocument.uri),z=w.text.replace(/\r/g,""),B="range"in w?w.range:K(L(0,0),L(0,0)),ne=this.getRealText(M[0].uri),re=this._realLines.filter(X=>X.cellUri.toString()===c.textDocument.uri),fe=re[0].offset,ue=re[B.start.line].offset+B.start.character-fe,Pe=re[B.end.line].offset+B.end.character-fe,ve=`${ne.slice(0,ue)}${z}${ne.slice(Pe)}`,Ce=this.createSpans(M[0].uri,ve,M[0].startOffset,M[0].realOffset),Te=Ce.map(X=>X.text).join(""),he=M.find(X=>!X.inRealCell&&!X.text.endsWith(`
`)),C=Ce.find(X=>!X.inRealCell&&!X.text.endsWith(`
`));if(he||C||Ce.length!=M.length){let X=Q[0].range.start,ge={line:Q.length+Q[0].range.start.line,character:0};s.push({text:Te,range:this.createSerializableRange(X,ge),rangeLength:Q[Q.length-1].endOffset+1-Q[0].offset})}else{let X=this.mapRealToConcatOffset(ue+fe),ge=this.mapRealToConcatOffset(Pe+fe),De=Q.find(Ye=>X>=Ye.offset&&X<Ye.endOffset),Me=Q.find(Ye=>ge>=Ye.offset&&ge<Ye.endOffset),Xe=L(De?.lineNumber||B.start.line,B.start.character),nt=L(Me?.lineNumber||B.end.line,B.end.character);s.push({text:z,range:this.createSerializableRange(Xe,nt),rangeLength:ge-X})}let k=Ce[Ce.length-1].endOffset-M[M.length-1].endOffset,W=Ce[Ce.length-1].realEndOffset-M[M.length-1].realEndOffset;this._spans.splice(y,M.length,...Ce);for(let X=y+Ce.length;X<this._spans.length;X++)this._spans[X].startOffset+=k,this._spans[X].endOffset+=k,this._spans[X].realOffset+=W,this._spans[X].realEndOffset+=W;this.computeLines()}catch(M){console.log(`Concat document failure : ${M}`)}}),this.toDidChangeTextDocumentParams(s)}handleOpen(c,s){let y=v.parse(c.textDocument.uri);if(this._spans.find(ve=>{var Ce;return((Ce=ve.uri)===null||Ce===void 0?void 0:Ce.toString())==c.textDocument.uri}))return;this._version=Math.max(c.textDocument.version,this._version+1),this._closed=!1,this.initialize(y);let w=`${c.textDocument.text.replace(/\r/g,"")}
`,M=y.scheme===I?"":y.fragment,Q=s?this._spans.length:this.computeInsertionIndex(M),z=Q<this._spans.length&&Q>=0?this._spans[Q].startOffset:this.getEndOffset(),B=Q<this._spans.length&&Q>=0?this._spans[Q].realOffset:this.getRealEndOffset(),ne=Q<this._spans.length&&Q>=0?this._lines.find(ve=>ve.offset==z).range.start:L(this._lines.length,0),re=this.createSpans(y,w,z,B),fe=re[re.length-1].endOffset-z,ue=re[re.length-1].realEndOffset-B;for(let ve=Q;ve<=this._spans.length-1;ve+=1)this._spans[ve].startOffset+=fe,this._spans[ve].endOffset+=fe,this._spans[ve].realOffset+=ue,this._spans[ve].realEndOffset+=ue;this._spans.splice(Q,0,...re),this.computeLines();let Pe=[{range:this.createSerializableRange(ne,ne),rangeOffset:z,rangeLength:0,text:re.map(ve=>ve.text).join("")}];return this.toDidChangeTextDocumentParams(Pe)}handleClose(c){let s=this._spans.findIndex(w=>w.uri.toString()===c.textDocument.uri),y=function(w,M){for(let Q=w.length-1;Q>=0;Q--)if(w[Q].uri.toString()===c.textDocument.uri)return Q;return-1}(this._spans);if(this.initialize(v.parse(c.textDocument.uri)),s>=0&&y>=0&&!this._interactiveWindow){this._version+=1;let w=this._spans[s].startOffset,M=this._spans[y].endOffset,Q=this._lines.find(re=>re.offset==w).range.start,z=this._lines.find(re=>re.endOffset==M).range.end,B=M-w;this._spans=this._spans.filter(re=>re.uri.toString()!==c.textDocument.uri);for(let re=s;re<this._spans.length;re++)this._spans[re].startOffset-=B,this._spans[re].endOffset-=B;this.computeLines();let ne=[{range:this.createSerializableRange(Q,z),rangeOffset:w,rangeLength:B,text:""}];return this._spans.length==0&&(this._closed=!0),this.toDidChangeTextDocumentParams(ne)}c.textDocument.uri.includes(I)&&(this._closed=!0,this._spans=[],this._lines=[],this._realLines=[])}handleRefresh(c){if(!this._interactiveWindow){let s=L(0,0),y=this._lines.length>0?this._lines[this._lines.length-1].rangeIncludingLineBreak.end:s,w=this.getEndOffset(),M=this.getRealText();if(`${c.cells.map(Q=>Q.textDocument.text.replace(/\r/g,"")).join(`
`)}
`!=M){this._version++,this._closed=!1,this._spans=[],this._lines=[],this._realLines=[],this._concatUri=void 0,c.cells.forEach(z=>{this.handleOpen({textDocument:z.textDocument},!0)});let Q=[{range:this.createSerializableRange(s,y),rangeOffset:0,rangeLength:w,text:this.getContents()}];return this.toDidChangeTextDocumentParams(Q)}}}dispose(){}contains(c){return this._spans.find(s=>s.uri.toString()===c.toString())!==void 0}save(){return Promise.resolve(!1)}lineAt(c){return typeof c=="number"?this._lines[c]:this._lines[c.line]}offsetAt(c){throw new Error("offsetAt should not be used on concat document. Use a more specific offset computation")}positionAt(c){throw new Error("positionAt should not be used on concat document. Use a more specific position computation")}getText(c){let s=this.getContents();if(c){let y=this._lines[c.start.line].offset+c.start.character,w=this._lines[c.end.line].offset+c.end.character;return s.substring(y,w-y)}return s}concatPositionAt(c){let s=this._realLines.find(y=>y.cellUri.toString()===c.uri.toString());if(s){let y=this._realLines[c.range.start.line+s.lineNumber],w=this.mapRealToConcatOffset(y.offset+c.range.start.character),M=this._lines.find(Q=>w>=Q.offset&&w<Q.endOffset);if(M)return L(M.lineNumber,w-M.offset)}return L(0,0)}concatOffsetAt(c){let s=this._realLines.find(y=>y.cellUri.toString()===c.uri.toString());if(s){let y=this._realLines[c.range.start.line+s.lineNumber];return this.mapRealToConcatOffset(y.offset+c.range.start.character)}return 0}concatRangeOf(c){let s=this._lines.filter(M=>M.cellUri.toString()===c.toString()),y=s[0],w=s[s.length-1];return y&&w?K(y.range.start,w.rangeIncludingLineBreak.end):K(L(0,0),L(0,0))}realRangeOf(c){let s=this._spans.filter(z=>z.uri.toString()==c.toString()&&z.inRealCell),y=s[0].startOffset||0,w=s.length>0?s[s.length-1].endOffset:y,M=this._lines.find(z=>y>=z.offset&&y<z.endOffset),Q=this._lines.find(z=>w>=z.offset&&w<=z.endOffset);return M&&Q?K(M.range.start,Q.rangeIncludingLineBreak.end):K(L(0,0),L(0,0))}getCells(){return[...new Set(this._spans.map(c=>c.uri))]}notebookLocationAt(c){let s="line"in c?K(c,c):c,y=this._lines[s.start.line],w=this._lines[s.end.line];if(y&&w){let M=y.offset+s.start.character,Q=w.offset+s.end.character,z=this._spans.filter(B=>B.inRealCell&&(M>=B.startOffset&&M<B.endOffset||Q>=B.startOffset&&Q<=B.endOffset));if(M=z.length>0?Math.max(M,z[0].startOffset):-1,y=this._lines.find(B=>M>=B.offset&&M<B.endOffset),y)return{uri:y.cellUri.toString(),range:K(this.notebookPositionAt(L(y.lineNumber,M-y.offset)),this.notebookPositionAt(s.end))}}return{uri:"",range:s}}notebookPositionAt(c){let s=this._lines[c.line].offset,y=this.mapConcatToClosestRealOffset(s),w=this._realLines.find(Q=>y>=Q.offset&&y<Q.endOffset),M=this._realLines.find(Q=>Q.cellUri.toString()===w?.cellUri.toString());return L(M&&w?w.lineNumber-M.lineNumber:0,this.mapConcatToClosestRealOffset(s+c.character)-(w?.offset||0))}notebookOffsetAt(c,s){let y=this.mapConcatToClosestRealOffset(s),w=this._spans.find(M=>M.uri.toString()===c.toString());return w?y-w.realOffset:y}getWordRangeAtPosition(c,s){s?function(w){return w.source!=="^"&&w.source!=="^$"&&w.source!=="$"&&w.source!=="^\\s*$"&&!(!w.exec("")||w.lastIndex!==0)}(s)&&(console.warn(`[getWordRangeAtPosition]: ignoring custom regexp '${s.source}' because it matches the empty string.`),s=j):s=j;let y=function(w,M,Q,z){M.lastIndex=0;let B=M.exec(Q);if(!B)return null;let ne=B[0].indexOf(" ")>=0?function(re,fe,ue,Pe){let ve=re-1-0;fe.lastIndex=0;let Ce=fe.exec(ue);for(;Ce;){let Te=Ce.index||0;if(Te>ve)return null;if(fe.lastIndex>=ve)return{word:Ce[0],startColumn:1+Te,endColumn:1+fe.lastIndex};Ce=fe.exec(ue)}return null}(w,M,Q):function(re,fe,ue,Pe){let ve=re-1-0,Ce=ue.lastIndexOf(" ",ve-1)+1;fe.lastIndex=Ce;let Te=fe.exec(ue);for(;Te;){let he=Te.index||0;if(he<=ve&&fe.lastIndex>=ve)return{word:Te[0],startColumn:1+he,endColumn:1+fe.lastIndex};Te=fe.exec(ue)}return null}(w,M,Q);return M.lastIndex=0,ne}(c.character+1,function(w){let M=N;if(w&&w instanceof RegExp)if(w.global)M=w;else{let Q="g";w.ignoreCase&&(Q+="i"),w.multiline&&(Q+="m"),w.unicode&&(Q+="u"),M=new RegExp(w.source,Q)}return M.lastIndex=0,M}(s),this._lines[c.line].text);if(y)return K(L(c.line,y.startColumn-1),L(c.line,y.endColumn-1))}validateRange(c){return c}validatePosition(c){return c}get textDocumentItem(){return{uri:this.concatUri.toString(),languageId:this.languageId,version:this.version,text:this.getText()}}get textDocumentId(){return{uri:this.concatUri.toString(),version:this.version}}getContents(){return this._spans.map(c=>c.text).join("")}toDidChangeTextDocumentParams(c){return{textDocument:{version:this.version,uri:this.concatUri.toString()},contentChanges:c}}mapRealToConcatOffset(c){let s=this._spans.find(y=>y.inRealCell&&c>=y.realOffset&&c<y.realEndOffset);return s?c-s.realOffset+s.startOffset:c}mapConcatToClosestRealOffset(c){let s=this._spans.find(y=>c>=y.startOffset&&c<y.endOffset);if(s){let y=c-s.startOffset;return s.inRealCell?y+s.realOffset:s.realOffset}return c}createSpan(c,s,y,w,M){return{fragment:c.scheme===I?"":c.fragment,uri:c,inRealCell:!0,startOffset:w,endOffset:w+s.length,realOffset:M,realEndOffset:M+y.length,text:s,realText:y}}createTypeIgnoreSpan(c,s,y){return{fragment:c.scheme===I?"":c.fragment,uri:c,inRealCell:!1,startOffset:s,endOffset:s+oe.length,realOffset:y,realEndOffset:y,text:oe,realText:""}}createHeaderSpans(c){let s=this.getNotebookHeader(c);return s.length?(s.endsWith(`
`)||(s=`${s}
`),[{fragment:"",uri:c,inRealCell:!1,startOffset:0,endOffset:se.length+s.length,realOffset:0,realEndOffset:0,text:`${se}${s}`,realText:""}]):[{fragment:"",uri:c,inRealCell:!1,startOffset:0,endOffset:se.length,realOffset:0,realEndOffset:0,text:se,realText:""}]}createSpans(c,s,y,w){let M=d(s),Q=[];y!=0||c.scheme.includes(I)||(Q=this.createHeaderSpans(c),y=Q[Q.length-1].endOffset);let z=w,B=0,ne=0;return M.forEach(re=>{!this._disableTypeIgnore&&pe.find(fe=>fe.regex.test(re))?(Q.push(this.createSpan(c,s.substring(B,ne+re.length),s.substring(B,ne+re.length),y,B+z)),y=Q[Q.length-1].endOffset,ne+=re.length,B=ne,Q.push(this.createTypeIgnoreSpan(c,y,B+z)),y=Q[Q.length-1].endOffset,ne+=1):ne+=re.length+1}),B<s.length&&Q.push(this.createSpan(c,s.substring(B),s.substring(B),y,z+B)),Q}getRealText(c){return c?this._spans.filter(s=>s.inRealCell&&s.uri.toString()===c.toString()).map(s=>s.realText).join(""):this._spans.filter(s=>s.inRealCell).map(s=>s.realText).join("")}createTextLines(c,s,y){return d(s).map(w=>{let M=this.createTextLine(c,w,y);return y=M,M})}computeLinesUsingFunc(c,s){let y=[],w;return c.forEach(M=>{let Q=this._spans.filter(z=>z.uri.toString()==M.toString()).map(s).join("");y.push(...this.createTextLines(M,Q,w)),w=y[y.length-1]}),y}computeLines(){let c=this.getCells();this._lines=this.computeLinesUsingFunc(c,s=>s.text),this._realLines=this.computeLinesUsingFunc(c,s=>s.realText)}createTextLine(c,s,y){return new $(c,s,y?y.lineNumber+1:0,y?y.offset+y.rangeIncludingLineBreak.end.character:0)}getEndOffset(){return this._spans.length>0?this._spans[this._spans.length-1].endOffset:0}getRealEndOffset(){return this._spans.length>0?this._spans[this._spans.length-1].realEndOffset:0}createSerializableRange(c,s){return{start:{line:c.line,character:c.character},end:{line:s.line,character:s.character}}}computeInsertionIndex(c){var s,y;let w=((y=(s=this._spans[this._spans.length-1])===null||s===void 0?void 0:s.uri)===null||y===void 0?void 0:y.scheme)===I?this._spans.length-1:this._spans.length,M=c===""?this._spans.length:this._spans.findIndex(Q=>Q.fragment>c);return M<0?w:M}initialize(c){var s;if(!(!((s=this._concatUri)===null||s===void 0)&&s.fsPath)){this._interactiveWindow=function(M){return M.fragment.includes(O)||M.scheme.includes(I)||M.scheme.includes(O)}(c);let y=de(c),w=R.join(y,`_NotebookConcat_${T.sha1(c.fsPath).substring(0,12)}.py`);this._concatUri=v.file(w),this._notebookUri=this._interactiveWindow?c.with({scheme:O,path:c.fsPath,fragment:""}):c.fragment.includes("untitled")?c.with({scheme:"untitled",path:c.fsPath,fragment:"",query:""}):v.file(c.fsPath)}}}class V{constructor(c,s,y=!1){this.getNotebookHeader=c,this.platformGetter=s,this.disableTypeIgnore=y,this.activeConcats=new Map,this.activeConcatsOutgoingMap=new Map,this.disposables=[],this.mapOfConcatDocumentsWithCellUris=new Map}getDocumentKey(c){if(c.scheme===I){let s=/InteractiveInput-(\d+)/.exec(c.path);if(s&&s[1])return`interactive-${s[1]}.interactive`}return c.scheme===O?c.path.toLowerCase():this.platformGetter()==="win32"?c.fsPath.toLowerCase():c.fsPath}dispose(){this.disposables.forEach(c=>c.dispose())}hasCell(c){return this.getConcatDocument(c).contains(c.uri)}isOpen(c){let s=this.toURI(c),y=this.getDocumentKey(s),w=this.activeConcats.get(y);return!!w&&w.isOpen}handleOpen(c){let s=this.getConcatDocument(c.textDocument),y=s?.handleOpen(c);return this.activeConcatsOutgoingMap.set(this.getDocumentKey(s.concatUri),s),y}handleRefresh(c){let s=c.cells.length?this.getConcatDocument(c.cells[0].textDocument):void 0;return s?.handleRefresh(c)}handleClose(c){return this.getConcatDocument(c.textDocument.uri).handleClose(c)}handleChange(c){return this.getConcatDocument(c.textDocument.uri).handleChange(c)}toNotebookDiagnosticsMap(c,s){let y=this.getConcatDocumentForUri(c),w=new Map;if(y){let M=[],Q=this.mapOfConcatDocumentsWithCellUris.get(c.toString())||[];y.getCells().forEach(B=>{w.set(B.toString(),[]),M.push(B.toString())});let z=new Set(M);Q.filter(B=>!z.has(B)).forEach(B=>w.set(B,[])),this.mapOfConcatDocumentsWithCellUris.set(c.toString(),M),s.forEach(B=>{let ne=y.notebookLocationAt(B.range);if(v.parse(ne.uri).fragment){let re=w.get(ne.uri);re||(re=[],w.set(ne.uri,re)),re.push(this.toNotebookDiagnostic(ne.uri,B))}})}else this.mapOfConcatDocumentsWithCellUris.has(c.toString())?((this.mapOfConcatDocumentsWithCellUris.get(c.toString())||[]).forEach(M=>w.set(M,[])),this.mapOfConcatDocumentsWithCellUris.delete(c.toString())):w.set(this.toURI(c).toString(),s);return w}toNotebookWorkspaceSymbols(c){return Array.isArray(c)?c.map(this.toNotebookWorkspaceSymbol.bind(this)):c??void 0}toNotebookWorkspaceEdit(c){if(c){let s=new Map;(c.changes?Object.keys(c.changes):[]).forEach(w=>{c.changes[w].forEach(M=>{let Q=this.toNotebookLocationFromRange(w,M.range),z=s.get(Q.uri);z||(z=[],s.set(Q.uri,z)),z.push({...M,range:Q.range})})});let y={changes:{}};return s.forEach((w,M)=>y.changes[M]=w),y}return c??void 0}toConcatDocument(c){let s=this.getConcatDocument(c);return{text:s.getText(),uri:s.uri.toString(),languageId:s.languageId,version:s.version}}toConcatTextDocument(c){return this.getConcatDocument(c)}toConcatUri(c){return this.getConcatDocument(c).concatUri.toString()}toConcatPosition(c,s){return this.getConcatDocument(c).concatPositionAt(Z(c.uri,K(s,s)))}toConcatPositions(c,s){return s.map(y=>this.toConcatPosition(c,y))}toConcatRange(c,s){let y=this.getConcatDocument(c),w=this.toURI(c);return y.concatRangeOf(w)||s||K(L(0,0),L(0,0))}toRealRange(c,s){let y=this.getConcatDocument(c),w=this.toURI(c);return y.realRangeOf(w)||s||K(L(0,0),L(0,0))}toConcatContext(c,s){return{...s,diagnostics:s.diagnostics.map(this.toConcatDiagnostic.bind(this,c))}}toNotebookHover(c,s){return s&&s.range?{...s,range:this.toNotebookRange(c,s.range)}:s??void 0}toNotebookCompletions(c,s){return s&&(Array.isArray(s)?s.map(this.toNotebookCompletion.bind(this,c)):{...s,items:s.items.map(this.toNotebookCompletion.bind(this,c))})}toNotebookLocations(c){return Array.isArray(c)?c.map(this.toNotebookLocationOrLink.bind(this)):c?.range?this.toNotebookRange(c.uri,c.range):c}toNotebookHighlight(c,s){if(!s)return;let y=this.getConcatDocument(c),w=[];for(let M of s){let Q=y.notebookLocationAt(M.range);Q.uri.toString()===c.uri.toString()&&w.push({...M,range:Q.range})}return w}toNotebookSymbols(c,s){return s&&Array.isArray(s)&&s.length?"kind"in s[0]?s.map(this.toNotebookSymbolFromSymbolInformation.bind(this,c.uri)):s.map(this.toNotebookSymbolFromDocumentSymbol.bind(this,c)):s??void 0}toNotebookSymbolFromSymbolInformation(c,s){return{...s,location:"range"in s.location?this.toNotebookLocationFromRange(c,s.location.range):{uri:this.toNotebookUri(s.location.uri)}}}toNotebookDiagnostic(c,s){return{...s,range:this.toNotebookRange(c,s.range),relatedInformation:s.relatedInformation?s.relatedInformation.map(this.toNotebookRelatedInformation.bind(this,c)):void 0}}toNotebookActions(c,s){if(!Array.isArray(s))return s??void 0}toNotebookCodeLenses(c,s){return Array.isArray(s)?s.map(y=>({...y,range:this.toNotebookRange(c,y.range)})):s??void 0}toNotebookEdits(c,s){return Array.isArray(s)?s.map(y=>({...y,range:this.toNotebookRange(c,y.range)})):s??void 0}toNotebookRename(c,s){return s?"range"in s?{...s,range:this.toNotebookRange(c,s.range)}:this.toNotebookRange(c,s):s??void 0}toNotebookDocumentLinks(c,s){return s&&Array.isArray(s)?s.map(y=>{let w=y.target?y.target:c.uri,M=this.toNotebookLocationFromRange(w,y.range);return{...y,range:M.range,target:y.target?M.uri:void 0}}):s??void 0}toNotebookRange(c,s){let y=this.getConcatDocumentForUri(c);if(y){let w=y.notebookLocationAt(s.start),M=y.notebookLocationAt(s.end);return K(w.range.start,M.range.end)}return s}toNotebookPosition(c,s){return this.toNotebookRange(c,K(s,s)).start}toNotebookOffset(c,s){let y=this.toURI(c);return this.getConcatDocument(c).notebookOffsetAt(y,s)}toNotebookUri(c,s){let y=this.getConcatDocumentForUri(c),w;return y&&(w=s?y.notebookLocationAt(s).uri:y.notebookUri.toString()),w||c}toNotebookColorInformations(c,s){if(Array.isArray(s)){let y=this.toURI(c);return s.map(w=>({color:w.color,location:this.toNotebookLocationFromRange(c,w.range)})).filter(w=>v.parse(w.location.uri).fragment==y.fragment).map(w=>({color:w.color,range:w.location.range}))}}toNotebookColorPresentations(c,s){if(Array.isArray(s))return s.map(y=>({...y,additionalTextEdits:y.additionalTextEdits?this.toNotebookTextEdits(c,y.additionalTextEdits):void 0,textEdit:y.textEdit?this.toNotebookTextEdit(c,y.textEdit):void 0}))}toNotebookTextEdits(c,s){if(Array.isArray(s))return s.map(y=>this.toNotebookTextEdit(c,y))}toNotebookTextEdit(c,s){return{...s,range:this.toNotebookRange(c,s.range)}}toNotebookFoldingRanges(c,s){if(Array.isArray(s)){let y=this.toURI(c);return s.map(w=>this.toNotebookLocationFromRange(c,K(L(w.startLine,0),L(w.endLine,0)))).filter(w=>w.uri==y.toString()).map(w=>({startLine:w.range.start.line,endLine:w.range.end.line}))}}toNotebookSelectionRanges(c,s){if(Array.isArray(s))return s.map(y=>this.toNotebookSelectionRange(c,y))}toNotebookSelectionRange(c,s){return{parent:s.parent?this.toNotebookSelectionRange(c,s.parent):void 0,range:this.toNotebookRange(c,s.range)}}toNotebookCallHierarchyItems(c,s){return Array.isArray(s)?s.map(y=>this.toNotebookCallHierarchyItem(c,y)):s?[this.toNotebookCallHierarchyItem(c,s)]:null}toNotebookCallHierarchyItem(c,s){return{...s,uri:this.toURI(c).toString(),range:this.toNotebookRange(c,s.range),selectionRange:this.toNotebookRange(c,s.selectionRange)}}toNotebookCallHierarchyIncomingCallItems(c,s){return Array.isArray(s)?s.map(y=>this.toNotebookCallHierarchyIncomingCallItem(c,y)):null}toNotebookCallHierarchyIncomingCallItem(c,s){return{from:this.toNotebookCallHierarchyItem(c,s.from),fromRanges:s.fromRanges.map(y=>this.toNotebookRange(c,y))}}toNotebookCallHierarchyOutgoingCallItems(c,s){return Array.isArray(s)?s.map(y=>this.toNotebookCallHierarchyOutgoingCallItem(c,y)):null}toNotebookCallHierarchyOutgoingCallItem(c,s){return{to:this.toNotebookCallHierarchyItem(c,s.to),fromRanges:s.fromRanges.map(y=>this.toNotebookRange(c,y))}}toNotebookSemanticEdit(c,s){return{...s,start:this.toNotebookOffset(c,s.start)}}toNotebookSemanticTokens(c,s){if(s){let y=this.getConcatDocument(c),w=this.toURI(c);if(y&&s.data.length>0){let M=y.concatPositionAt(Z(w.toString(),K(L(0,0),L(0,0))));return s.data[0]=s.data[0]-M.line,s}}}toNotebookLinkedEditingRanges(c,s){if(s)return{...s,ranges:s.ranges.map(y=>this.toNotebookRange(c,y))}}remove(c){let s=this.toURI(c),y=this.getDocumentKey(s),w=this.activeConcats.get(y);w&&this.deleteConcatDocument(w)}toURI(c){return v.isUri(c)?c:typeof c=="string"?v.parse(c):v.parse(c.uri)}toNotebookWorkspaceSymbol(c){return this.toNotebookSymbolFromSymbolInformation(c.location.uri,c)}toConcatDiagnostic(c,s){return{...s,range:this.toConcatRange(c,s.range),relatedInformation:s.relatedInformation?s.relatedInformation.map(this.toConcatRelatedInformation.bind(this,c)):void 0}}toConcatRelatedInformation(c,s){let y=this.toConcatDocument(c);return{...s,location:s.location.uri===y.uri?this.toConcatLocation(c,s.location):s.location}}toConcatLocation(c,s){return{uri:this.toConcatDocument(c).uri,range:this.toConcatRange(c,s.range)}}toNotebookRelatedInformation(c,s){let y=this.toConcatUri(c);return{...s,location:s.location.uri===y?this.toNotebookLocationFromLocation(s.location):s.location}}toNotebookSymbolFromDocumentSymbol(c,s){return s.children?{...s,range:this.toNotebookRange(c,s.range),selectionRange:this.toNotebookRange(c,s.selectionRange),children:s.children.map(this.toNotebookSymbolFromDocumentSymbol.bind(this,c))}:{...s,range:this.toNotebookRange(c,s.range),selectionRange:this.toNotebookRange(c,s.selectionRange)}}toNotebookLocationFromLocation(c){let s=this.toNotebookUri(c.uri,c.range);return{uri:s,range:this.toNotebookRange(s,c.range)}}toNotebookLocationLinkFromLocationLink(c){let s=this.toNotebookUri(c.targetUri,c.targetRange);return{originSelectionRange:c.originSelectionRange?this.toNotebookRange(s,c.originSelectionRange):void 0,targetUri:s,targetRange:this.toNotebookRange(s,c.targetRange),targetSelectionRange:this.toNotebookRange(s,c.targetSelectionRange)}}toNotebookLocationOrLink(c){return"targetUri"in c?this.toNotebookLocationLinkFromLocationLink(c):this.toNotebookLocationFromLocation(c)}toNotebookCompletion(c,s){let y=s;return y.range?y.range.inserting?{...s,range:{inserting:this.toNotebookRange(c,y.range.inserting),replacing:this.toNotebookRange(c,y.range.replacing)}}:{...s,range:this.toNotebookRange(c,y.range)}:s}toNotebookLocationFromRange(c,s){let y=this.getConcatDocumentForUri(c);if(y){let w=y.notebookLocationAt(s.start),M=y.notebookLocationAt(s.end);return{uri:w.uri,range:K(w.range.start,M.range.end)}}return{uri:q.TextDocumentIdentifier.is(c)?c.uri:c,range:s}}deleteConcatDocument(c){this.activeConcatsOutgoingMap.delete(this.getDocumentKey(c.concatUri)),this.activeConcats.delete(c.key),c.dispose()}getConcatDocumentForUri(c){let s=this.toURI(c);return F(s)?this.getConcatDocument(s):this.getConcatFromOutgoingUri(s)}getConcatFromOutgoingUri(c){let s=this.toURI(c);return this.activeConcatsOutgoingMap.get(this.getDocumentKey(s))}getConcatDocument(c){let s=this.toURI(c),y=this.getDocumentKey(s),w=this.activeConcats.get(y);return w||(w=new we(y,this.getNotebookHeader,this.disableTypeIgnore),this.activeConcats.set(y,w)),w}}function J(P,c,s=!1){return new V(P,c,s)}})(),i.exports=b})()},638:i=>{"use strict";i.exports=ke()}},e={};function t(i){var o=e[i];if(o!==void 0)return o.exports;var a=e[i]={exports:{}};return n[i](a,a.exports,t),a.exports}t.d=(i,o)=>{for(var a in o)t.o(o,a)&&!t.o(i,a)&&Object.defineProperty(i,a,{enumerable:!0,get:o[a]})},t.o=(i,o)=>Object.prototype.hasOwnProperty.call(i,o),t.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(()=>{"use strict";t.r(r),t.d(r,{createHidingMiddleware:()=>I,createNotebookMiddleware:()=>O});let i="vscode-interactive-input",o="vscode-interactive";function a(F){return F.scheme.includes("vscode-notebook-cell")||F.scheme.includes(i)}class l{constructor(){this.handleDiagnostics=this.handleDiagnostics.bind(this),this.didOpen=this.didOpen.bind(this),this.didSave=this.didSave.bind(this),this.didChange=this.didChange.bind(this),this.didClose=this.didClose.bind(this)}dispose(){}async didChange(d,R){if(!a(d.document.uri))return R(d)}async didOpen(d,R){if(!a(d.uri))return R(d)}async didClose(d,R){if(!a(d.uri))return R(d)}async didSave(d,R){if(!a(d.uri))return R(d)}provideCompletionItem(d,R,T,N,j){if(!a(d.uri))return j(d,R,T,N)}provideHover(d,R,T,N){if(!a(d.uri))return N(d,R,T)}resolveCompletionItem(d,R,T){return T(d,R)}provideSignatureHelp(d,R,T,N,j){if(!a(d.uri))return j(d,R,T,N)}provideDefinition(d,R,T,N){if(!a(d.uri))return N(d,R,T)}provideReferences(d,R,T,N,j){if(!a(d.uri))return j(d,R,T,N)}provideDocumentHighlights(d,R,T,N){if(!a(d.uri))return N(d,R,T)}provideDocumentSymbols(d,R,T){if(!a(d.uri))return T(d,R)}provideCodeActions(d,R,T,N,j){if(!a(d.uri))return j(d,R,T,N)}provideCodeLenses(d,R,T){if(!a(d.uri))return T(d,R)}provideDocumentFormattingEdits(d,R,T,N){if(!a(d.uri))return N(d,R,T)}provideDocumentRangeFormattingEdits(d,R,T,N,j){if(!a(d.uri))return j(d,R,T,N)}provideOnTypeFormattingEdits(d,R,T,N,j,K){if(!a(d.uri))return K(d,R,T,N,j)}provideRenameEdits(d,R,T,N,j){if(!a(d.uri))return j(d,R,T,N)}prepareRename(d,R,T,N){if(!a(d.uri))return N(d,R,T)}provideDocumentLinks(d,R,T){if(!a(d.uri))return T(d,R)}provideDeclaration(d,R,T,N){if(!a(d.uri))return N(d,R,T)}handleDiagnostics(d,R,T){a(d)?T(d,[]):T(d,R)}provideTypeDefinition(d,R,T,N){if(!a(d.uri))return N(d,R,T)}provideImplementation(d,R,T,N){if(!a(d.uri))return N(d,R,T)}provideDocumentColors(d,R,T){if(!a(d.uri))return T(d,R)}provideColorPresentations(d,R,T,N){if(!a(R.document.uri))return N(d,R,T)}provideFoldingRanges(d,R,T,N){if(!a(d.uri))return N(d,R,T)}provideSelectionRanges(d,R,T,N){if(!a(d.uri))return N(d,R,T)}prepareCallHierarchy(d,R,T,N){if(!a(d.uri))return N(d,R,T)}provideCallHierarchyIncomingCalls(d,R,T){if(!a(d.uri))return T(d,R)}provideCallHierarchyOutgoingCalls(d,R,T){if(!a(d.uri))return T(d,R)}provideDocumentSemanticTokens(d,R,T){if(!a(d.uri))return T(d,R)}provideDocumentSemanticTokensEdits(d,R,T,N){if(!a(d.uri))return N(d,R,T)}provideDocumentRangeSemanticTokens(d,R,T,N){if(!a(d.uri))return N(d,R,T)}provideLinkedEditingRange(d,R,T,N){if(!a(d.uri))return N(d,R,T)}}let f=require("vscode"),g=wh(),b=require("vscode-languageclient/node"),S=require("os");var v=t(881);function E(F,d){return f.languages.match(d,F)}class q{constructor(d,R,T,N,j,K){this.getClient=d,this.traceInfo=R,this.cellSelector=T,this.pythonPath=N,this.isDocumentAllowed=j,this.disposables=[],this.workspace={configuration:async(L,Z,$)=>{let oe=$(L,Z);var se;if(typeof((se=oe)==null?void 0:se.then)=="function"&&(oe=await oe),oe instanceof g.ResponseError)return oe;for(let[pe,de]of L.items.entries())de.section==="python"&&(oe[pe].pythonPath=this.pythonPath,oe[pe].analysis.indexing=!1);return oe}},this.converter=v.createConverter(K,()=>S.platform()),this.handleDiagnostics=this.handleDiagnostics.bind(this),this.didOpen=this.didOpen.bind(this),this.didSave=this.didSave.bind(this),this.didChange=this.didChange.bind(this),this.didClose=this.didClose.bind(this),this.willSave=this.willSave.bind(this),this.willSaveWaitUntil=this.willSaveWaitUntil.bind(this)}dispose(){this.disposables.forEach(d=>d.dispose()),this.disposables=[],this.converter.dispose()}refresh(d){let R=this.getClient();if(R&&d.cellCount>0){let T=this.asTextDocumentIdentifier(d.cellAt(0).document);if(this.converter.isOpen(T)){let N=this.converter.handleRefresh(function(j,K){return{cells:j.getCells().filter(L=>E(L.document,K)>0).map(L=>({textDocument:{uri:L.document.uri.toString(),text:L.document.getText(),languageId:L.document.languageId,version:L.document.version}}))}}(d,this.cellSelector));N&&R.sendNotification(g.DidChangeTextDocumentNotification.type,N)}}}stopWatching(d){let R=this.getClient();if(R&&d.cellCount>0){let T=this.asTextDocumentIdentifier(d.cellAt(0).document),N={textDocument:this.converter.toConcatDocument(T)};R.sendNotification(g.DidCloseTextDocumentNotification.type,N),R.diagnostics&&d.getCells().forEach(j=>{var K;(K=R.diagnostics)===null||K===void 0||K.set(j.document.uri,[])}),d.getCells().forEach(j=>{this.converter.handleClose({textDocument:{uri:j.document.uri.toString()}})})}}startWatching(d){let R=this.getClient();R&&d.cellCount>0&&d.getCells().forEach(T=>{this.didOpen(T.document,async N=>{let j=R.code2ProtocolConverter.asOpenTextDocumentParams(N);await R.sendNotification(g.DidOpenTextDocumentNotification.type,j)})})}async didChange(d){let R=this.getClient();if(a(d.document.uri)&&R&&E(d.document,this.cellSelector)){let T=this.asTextDocumentIdentifier(d.document),N=this.converter.isOpen(T),j=this.converter.handleChange(R.code2ProtocolConverter.asChangeTextDocumentParams(d));if(N)j&&R.sendNotification(g.DidChangeTextDocumentNotification.type,j);else{let K={textDocument:this.converter.toConcatDocument(T)};R.sendNotification(g.DidOpenTextDocumentNotification.type,K)}}}async didOpen(d,R){let T=this.getClient();if(a(d.uri)&&this.isDocumentAllowed(d.uri)&&T&&E(d,this.cellSelector)){let N=this.asTextDocumentIdentifier(d),j=this.asTextDocumentItem(d),K=this.converter.isOpen(N),L=this.converter.handleOpen({textDocument:j});if(K)L&&T.sendNotification(g.DidChangeTextDocumentNotification.type,L);else{let Z=this.converter.toConcatDocument(N);T.sendNotification(g.DidOpenTextDocumentNotification.type,{textDocument:Z})}}}async didClose(d,R){let T=this.getClient();if(a(d.uri)&&T&&E(d,this.cellSelector)){let N=this.asTextDocumentItem(d),j=this.converter.isOpen(N),K=this.converter.handleClose({textDocument:N}),L=!this.converter.isOpen(N);if(L&&j){let Z=this.converter.toConcatDocument(N);T.sendNotification(g.DidCloseTextDocumentNotification.type,{textDocument:Z})}else!L&&K&&T.sendNotification(g.DidChangeTextDocumentNotification.type,K)}}didSave(d,R){return R(d)}willSave(d,R){return R(d)}willSaveWaitUntil(d,R){return R(d)}async provideCompletionItem(d,R,T,N,j){let K=this.getClient();if(this.shouldProvideIntellisense(d.uri)&&K){let L=this.asTextDocumentIdentifier(d),Z={textDocument:this.converter.toConcatDocument(L),position:this.converter.toConcatPosition(L,R),context:K.code2ProtocolConverter.asCompletionParams(d,R,T).context},$=await K.sendRequest(b.CompletionRequest.type,Z,N),oe=this.converter.toNotebookCompletions(L,$);return K.protocol2CodeConverter.asCompletionResult(oe)}}async provideHover(d,R,T,N){let j=this.getClient();if(this.shouldProvideIntellisense(d.uri)&&j){let K=this.asTextDocumentIdentifier(d),L={textDocument:this.converter.toConcatDocument(K),position:this.converter.toConcatPosition(K,R)},Z=await j.sendRequest(b.HoverRequest.type,L,T),$=this.converter.toNotebookHover(K,Z);return j.protocol2CodeConverter.asHover($)}}resolveCompletionItem(d,R,T){return T(d,R)}async provideSignatureHelp(d,R,T,N,j){let K=this.getClient();if(this.shouldProvideIntellisense(d.uri)&&K){let L=this.asTextDocumentIdentifier(d),Z={textDocument:this.converter.toConcatDocument(L),position:this.converter.toConcatPosition(L,R),context:K.code2ProtocolConverter.asSignatureHelpParams(d,R,T).context},$=await K.sendRequest(b.SignatureHelpRequest.type,Z,N);return K.protocol2CodeConverter.asSignatureHelp($)}}async provideDefinition(d,R,T,N){let j=this.getClient();if(this.shouldProvideIntellisense(d.uri)&&j){let K=this.asTextDocumentIdentifier(d),L={textDocument:this.converter.toConcatDocument(K),position:this.converter.toConcatPosition(K,R)},Z=await j.sendRequest(b.DefinitionRequest.type,L,T),$=this.converter.toNotebookLocations(Z);return j.protocol2CodeConverter.asDefinitionResult($)}}async provideReferences(d,R,T,N,j){let K=this.getClient();if(this.shouldProvideIntellisense(d.uri)&&K){let L=this.asTextDocumentIdentifier(d),Z={textDocument:this.converter.toConcatDocument(L),position:this.converter.toConcatPosition(L,R),context:{includeDeclaration:T.includeDeclaration}},$=await K.sendRequest(b.ReferencesRequest.type,Z,N),oe=this.converter.toNotebookLocations($);return K.protocol2CodeConverter.asReferences(oe)}}async provideDocumentHighlights(d,R,T,N){let j=this.getClient();if(this.shouldProvideIntellisense(d.uri)&&j){let K=this.asTextDocumentIdentifier(d),L={textDocument:this.converter.toConcatDocument(K),position:this.converter.toConcatPosition(K,R)},Z=await j.sendRequest(b.DocumentHighlightRequest.type,L,T),$=this.converter.toNotebookHighlight(K,Z);return j.protocol2CodeConverter.asDocumentHighlights($)}}async provideDocumentSymbols(d,R,T){let N=this.getClient();if(this.shouldProvideIntellisense(d.uri)&&N){let j=this.asTextDocumentIdentifier(d),K={textDocument:this.converter.toConcatDocument(j)},L=await N.sendRequest(b.DocumentSymbolRequest.type,K,R),Z=this.converter.toNotebookSymbols(j,L),$=Z?Z[0]:void 0;if(g.DocumentSymbol.is($))return N.protocol2CodeConverter.asDocumentSymbols(Z);if($)return N.protocol2CodeConverter.asSymbolInformations(Z)}}async provideWorkspaceSymbols(d,R,T){let N=this.getClient();if(N){let j={query:d},K=await N.sendRequest(b.WorkspaceSymbolRequest.type,j,R),L=this.converter.toNotebookWorkspaceSymbols(K);return N.protocol2CodeConverter.asSymbolInformations(L)}}provideCodeActions(d,R,T,N,j){this.shouldProvideIntellisense(d.uri)&&this.traceInfo("provideCodeActions not currently supported for notebooks")}provideCodeLenses(d,R,T){this.shouldProvideIntellisense(d.uri)&&this.traceInfo("provideCodeLenses not currently supported for notebooks")}resolveCodeLens(d,R,T){return T(d,R)}provideDocumentFormattingEdits(d,R,T,N){this.shouldProvideIntellisense(d.uri)&&this.traceInfo("provideDocumentFormattingEdits not currently supported for notebooks")}provideDocumentRangeFormattingEdits(d,R,T,N,j){this.shouldProvideIntellisense(d.uri)&&this.traceInfo("provideDocumentRangeFormattingEdits not currently supported for notebooks")}provideOnTypeFormattingEdits(d,R,T,N,j,K){this.shouldProvideIntellisense(d.uri)&&this.traceInfo("provideOnTypeFormattingEdits not currently supported for notebooks")}provideRenameEdits(d,R,T,N,j){this.shouldProvideIntellisense(d.uri)&&this.traceInfo("provideRenameEdits not currently supported for notebooks")}prepareRename(d,R,T,N){this.shouldProvideIntellisense(d.uri)&&this.traceInfo("prepareRename not currently supported for notebooks")}provideDocumentLinks(d,R,T){this.shouldProvideIntellisense(d.uri)&&this.traceInfo("provideDocumentLinks not currently supported for notebooks")}resolveDocumentLink(d,R,T){return T(d,R)}handleDiagnostics(d,R,T){try{let j=this.converter.toNotebookUri(d.toString()),K=j?f.Uri.parse(j):void 0,L=this.getClient();L&&K&&j!=d.toString()&&this.shouldProvideIntellisense(K)&&!((N=K).fragment.includes(o)||N.scheme.includes(i)||N.scheme.includes(o))?L.code2ProtocolConverter.asDiagnostics(R).then(Z=>{let $=this.converter.toNotebookDiagnosticsMap(d.toString(),Z);[...$.keys()].map(async oe=>T(f.Uri.parse(oe),await L.protocol2CodeConverter.asDiagnostics($.get(oe))))}):T(d,[])}catch(j){this.traceInfo(`Error during handling diagnostics: ${j}`),T(d,[])}var N}async provideTypeDefinition(d,R,T,N){let j=this.getClient();if(this.shouldProvideIntellisense(d.uri)&&j){let K=this.asTextDocumentIdentifier(d),L={textDocument:this.converter.toConcatDocument(K),position:this.converter.toConcatPosition(K,R)},Z=await j.sendRequest(b.TypeDefinitionRequest.type,L,T),$=this.converter.toNotebookLocations(Z);return j.protocol2CodeConverter.asDefinitionResult($)}}async provideImplementation(d,R,T,N){let j=this.getClient();if(this.shouldProvideIntellisense(d.uri)&&j){let K=this.asTextDocumentIdentifier(d),L={textDocument:this.converter.toConcatDocument(K),position:this.converter.toConcatPosition(K,R)},Z=await j.sendRequest(b.ImplementationRequest.type,L,T),$=this.converter.toNotebookLocations(Z);return j.protocol2CodeConverter.asDefinitionResult($)}}async provideDocumentColors(d,R,T){let N=this.getClient();if(this.shouldProvideIntellisense(d.uri)&&N){let j=this.asTextDocumentIdentifier(d),K={textDocument:this.converter.toConcatDocument(j)},L=await N.sendRequest(b.DocumentColorRequest.type,K,R),Z=this.converter.toNotebookColorInformations(j,L);return N.protocol2CodeConverter.asColorInformations(Z)}}async provideColorPresentations(d,R,T,N){let j=this.getClient();if(this.shouldProvideIntellisense(R.document.uri)&&j){let K=this.asTextDocumentIdentifier(R.document),L={textDocument:this.converter.toConcatDocument(K),range:this.converter.toRealRange(K,R.range),color:d},Z=await j.sendRequest(b.ColorPresentationRequest.type,L,T),$=this.converter.toNotebookColorPresentations(K,Z);return j.protocol2CodeConverter.asColorPresentations($)}}async provideFoldingRanges(d,R,T,N){let j=this.getClient();if(this.shouldProvideIntellisense(d.uri)&&j){let K=this.asTextDocumentIdentifier(d),L={textDocument:this.converter.toConcatDocument(K)},Z=await j.sendRequest(b.FoldingRangeRequest.type,L,T),$=this.converter.toNotebookFoldingRanges(K,Z);return j.protocol2CodeConverter.asFoldingRanges($)}}async provideDeclaration(d,R,T,N){let j=this.getClient();if(this.shouldProvideIntellisense(d.uri)&&j){let K=this.asTextDocumentIdentifier(d),L={textDocument:this.converter.toConcatDocument(K),position:this.converter.toConcatPosition(K,R)},Z=await j.sendRequest(b.DeclarationRequest.type,L,T),$=this.converter.toNotebookLocations(Z);return j.protocol2CodeConverter.asDeclarationResult($)}}async provideSelectionRanges(d,R,T,N){let j=this.getClient();if(this.shouldProvideIntellisense(d.uri)&&j){let K=this.asTextDocumentIdentifier(d),L={textDocument:this.converter.toConcatDocument(K),positions:this.converter.toConcatPositions(K,R)},Z=await j.sendRequest(b.SelectionRangeRequest.type,L,T),$=this.converter.toNotebookSelectionRanges(K,Z);return j.protocol2CodeConverter.asSelectionRanges($)}}async prepareCallHierarchy(d,R,T,N){let j=this.getClient();if(this.shouldProvideIntellisense(d.uri)&&j){let K=this.asTextDocumentIdentifier(d),L={textDocument:this.converter.toConcatDocument(K),position:this.converter.toConcatPosition(K,R)},Z=await j.sendRequest(b.CallHierarchyPrepareRequest.type,L,T),$=this.converter.toNotebookCallHierarchyItems(K,Z);return j.protocol2CodeConverter.asCallHierarchyItems($)}}async provideCallHierarchyIncomingCalls(d,R,T){let N=this.getClient();if(this.shouldProvideIntellisense(d.uri)&&N){let j=this.asTextDocumentIdentifier(d.uri),K=this.converter.toConcatDocument(j),L=this.converter.toRealRange(j,d.range),Z=this.converter.toRealRange(j,d.selectionRange),$={item:{...N.code2ProtocolConverter.asCallHierarchyItem(d),uri:K.uri,range:L,selectionRange:Z}},oe=await N.sendRequest(b.CallHierarchyIncomingCallsRequest.type,$,R),se=this.converter.toNotebookCallHierarchyIncomingCallItems(j,oe);return N.protocol2CodeConverter.asCallHierarchyIncomingCalls(se)}}async provideCallHierarchyOutgoingCalls(d,R,T){let N=this.getClient();if(this.shouldProvideIntellisense(d.uri)&&N){let j=this.asTextDocumentIdentifier(d.uri),K=this.converter.toConcatDocument(j),L=this.converter.toRealRange(j,d.range),Z=this.converter.toRealRange(j,d.selectionRange),$={item:{...N.code2ProtocolConverter.asCallHierarchyItem(d),uri:K.uri,range:L,selectionRange:Z}},oe=await N.sendRequest(b.CallHierarchyOutgoingCallsRequest.type,$,R),se=this.converter.toNotebookCallHierarchyOutgoingCallItems(j,oe);return N.protocol2CodeConverter.asCallHierarchyOutgoingCalls(se)}}async provideDocumentSemanticTokens(d,R,T){let N=this.getClient();if(this.shouldProvideIntellisense(d.uri)&&N){let j=this.asTextDocumentIdentifier(d),K={textDocument:this.converter.toConcatDocument(j),range:this.converter.toRealRange(j,void 0)},L=await N.sendRequest(g.SemanticTokensRangeRequest.type,K,R),Z=this.converter.toNotebookSemanticTokens(j,L);return N.protocol2CodeConverter.asSemanticTokens(Z)}}async provideDocumentSemanticTokensEdits(d,R,T,N){let j=this.getClient();if(this.shouldProvideIntellisense(d.uri)&&j){let K=this.asTextDocumentIdentifier(d),L={textDocument:this.converter.toConcatDocument(K),range:this.converter.toRealRange(K,void 0)},Z=await j.sendRequest(g.SemanticTokensRangeRequest.type,L,T),$=this.converter.toNotebookSemanticTokens(K,Z);return j.protocol2CodeConverter.asSemanticTokens($)}}async provideDocumentRangeSemanticTokens(d,R,T,N){let j=this.getClient();if(this.shouldProvideIntellisense(d.uri)&&j){let K=this.asTextDocumentIdentifier(d),L={textDocument:this.converter.toConcatDocument(K),range:this.converter.toRealRange(K,R)},Z=await j.sendRequest(g.SemanticTokensRangeRequest.type,L,T),$=this.converter.toNotebookSemanticTokens(K,Z);return j.protocol2CodeConverter.asSemanticTokens($)}}async provideLinkedEditingRange(d,R,T,N){let j=this.getClient();if(this.shouldProvideIntellisense(d.uri)&&j){let K=this.asTextDocumentIdentifier(d),L={textDocument:this.converter.toConcatDocument(K),position:this.converter.toConcatPosition(K,R)},Z=await j.sendRequest(g.LinkedEditingRangeRequest.type,L,T),$=this.converter.toNotebookLinkedEditingRanges(K,Z);return j.protocol2CodeConverter.asLinkedEditingRanges($)}}shouldProvideIntellisense(d){return this.isDocumentAllowed(d)}asTextDocumentIdentifier(d){return{uri:"uri"in d?d.uri.toString():d.toString()}}asTextDocumentItem(d){return{uri:d.uri.toString(),text:d.getText(),languageId:d.languageId,version:d.version}}}function I(){return new l}function O(F,d,R,T,N,j){return new q(F,d,R,T,N,j)}})(),module.exports=r})();
